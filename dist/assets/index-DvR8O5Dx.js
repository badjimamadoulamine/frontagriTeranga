var zC=Object.defineProperty;var UC=(e,t,r)=>t in e?zC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Sm=(e,t,r)=>UC(e,typeof t!="symbol"?t+"":t,r);function BC(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Kn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Y1={exports:{}},ed={},Q1={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ul=Symbol.for("react.element"),qC=Symbol.for("react.portal"),VC=Symbol.for("react.fragment"),HC=Symbol.for("react.strict_mode"),WC=Symbol.for("react.profiler"),KC=Symbol.for("react.provider"),GC=Symbol.for("react.context"),YC=Symbol.for("react.forward_ref"),QC=Symbol.for("react.suspense"),XC=Symbol.for("react.memo"),JC=Symbol.for("react.lazy"),Sx=Symbol.iterator;function ZC(e){return e===null||typeof e!="object"?null:(e=Sx&&e[Sx]||e["@@iterator"],typeof e=="function"?e:null)}var X1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J1=Object.assign,Z1={};function bi(e,t,r){this.props=e,this.context=t,this.refs=Z1,this.updater=r||X1}bi.prototype.isReactComponent={};bi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ej(){}ej.prototype=bi.prototype;function vh(e,t,r){this.props=e,this.context=t,this.refs=Z1,this.updater=r||X1}var yh=vh.prototype=new ej;yh.constructor=vh;J1(yh,bi.prototype);yh.isPureReactComponent=!0;var Cx=Array.isArray,tj=Object.prototype.hasOwnProperty,bh={current:null},rj={key:!0,ref:!0,__self:!0,__source:!0};function nj(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)tj.call(t,s)&&!rj.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:ul,type:e,key:i,ref:o,props:a,_owner:bh.current}}function e3(e,t){return{$$typeof:ul,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jh(e){return typeof e=="object"&&e!==null&&e.$$typeof===ul}function t3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Px=/\/+/g;function Cm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?t3(""+e.key):t.toString(36)}function wc(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ul:case qC:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Cm(o,0):s,Cx(a)?(r="",e!=null&&(r=e.replace(Px,"$&/")+"/"),wc(a,t,r,"",function(u){return u})):a!=null&&(jh(a)&&(a=e3(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Px,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",Cx(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Cm(i,l);o+=wc(i,t,r,c,a)}else if(c=ZC(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Cm(i,l++),o+=wc(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zl(e,t,r){if(e==null)return e;var s=[],a=0;return wc(e,s,"","",function(i){return t.call(r,i,a++)}),s}function r3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ht={current:null},Nc={transition:null},n3={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:bh};function sj(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:zl,forEach:function(e,t,r){zl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zl(e,function(){t++}),t},toArray:function(e){return zl(e,function(t){return t})||[]},only:function(e){if(!jh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=bi;Ce.Fragment=VC;Ce.Profiler=WC;Ce.PureComponent=vh;Ce.StrictMode=HC;Ce.Suspense=QC;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n3;Ce.act=sj;Ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=J1({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=bh.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)tj.call(t,c)&&!rj.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:ul,type:e.type,key:a,ref:i,props:s,_owner:o}};Ce.createContext=function(e){return e={$$typeof:GC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:KC,_context:e},e.Consumer=e};Ce.createElement=nj;Ce.createFactory=function(e){var t=nj.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:YC,render:e}};Ce.isValidElement=jh;Ce.lazy=function(e){return{$$typeof:JC,_payload:{_status:-1,_result:e},_init:r3}};Ce.memo=function(e,t){return{$$typeof:XC,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=Nc.transition;Nc.transition={};try{e()}finally{Nc.transition=t}};Ce.unstable_act=sj;Ce.useCallback=function(e,t){return Ht.current.useCallback(e,t)};Ce.useContext=function(e){return Ht.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return Ht.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return Ht.current.useEffect(e,t)};Ce.useId=function(){return Ht.current.useId()};Ce.useImperativeHandle=function(e,t,r){return Ht.current.useImperativeHandle(e,t,r)};Ce.useInsertionEffect=function(e,t){return Ht.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return Ht.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return Ht.current.useMemo(e,t)};Ce.useReducer=function(e,t,r){return Ht.current.useReducer(e,t,r)};Ce.useRef=function(e){return Ht.current.useRef(e)};Ce.useState=function(e){return Ht.current.useState(e)};Ce.useSyncExternalStore=function(e,t,r){return Ht.current.useSyncExternalStore(e,t,r)};Ce.useTransition=function(){return Ht.current.useTransition()};Ce.version="18.3.1";Q1.exports=Ce;var h=Q1.exports;const ve=Kn(h),aj=BC({__proto__:null,default:ve},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s3=h,a3=Symbol.for("react.element"),i3=Symbol.for("react.fragment"),o3=Object.prototype.hasOwnProperty,l3=s3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c3={key:!0,ref:!0,__self:!0,__source:!0};function ij(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)o3.call(t,s)&&!c3.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:a3,type:e,key:i,ref:o,props:a,_owner:l3.current}}ed.Fragment=i3;ed.jsx=ij;ed.jsxs=ij;Y1.exports=ed;var n=Y1.exports,Ef={},oj={exports:{}},wr={},lj={exports:{}},cj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,z){var K=$.length;$.push(z);e:for(;0<K;){var U=K-1>>>1,q=$[U];if(0<a(q,z))$[U]=z,$[K]=q,K=U;else break e}}function r($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var z=$[0],K=$.pop();if(K!==z){$[0]=K;e:for(var U=0,q=$.length,te=q>>>1;U<te;){var W=2*(U+1)-1,ie=$[W],le=W+1,se=$[le];if(0>a(ie,K))le<q&&0>a(se,ie)?($[U]=se,$[le]=K,U=le):($[U]=ie,$[W]=K,U=W);else if(le<q&&0>a(se,K))$[U]=se,$[le]=K,U=le;else break e}}return z}function a($,z){var K=$.sortIndex-z.sortIndex;return K!==0?K:$.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,m=null,f=3,p=!1,g=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j($){for(var z=r(u);z!==null;){if(z.callback===null)s(u);else if(z.startTime<=$)s(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=r(u)}}function w($){if(b=!1,j($),!g)if(r(c)!==null)g=!0,F(N);else{var z=r(u);z!==null&&D(w,z.startTime-$)}}function N($,z){g=!1,b&&(b=!1,v(C),C=-1),p=!0;var K=f;try{for(j(z),m=r(c);m!==null&&(!(m.expirationTime>z)||$&&!I());){var U=m.callback;if(typeof U=="function"){m.callback=null,f=m.priorityLevel;var q=U(m.expirationTime<=z);z=e.unstable_now(),typeof q=="function"?m.callback=q:m===r(c)&&s(c),j(z)}else s(c);m=r(c)}if(m!==null)var te=!0;else{var W=r(u);W!==null&&D(w,W.startTime-z),te=!1}return te}finally{m=null,f=K,p=!1}}var S=!1,P=null,C=-1,E=5,O=-1;function I(){return!(e.unstable_now()-O<E)}function M(){if(P!==null){var $=e.unstable_now();O=$;var z=!0;try{z=P(!0,$)}finally{z?k():(S=!1,P=null)}}else S=!1}var k;if(typeof y=="function")k=function(){y(M)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,B=A.port2;A.port1.onmessage=M,k=function(){B.postMessage(null)}}else k=function(){x(M,0)};function F($){P=$,S||(S=!0,k())}function D($,z){C=x(function(){$(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,F(N))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var K=f;f=z;try{return $()}finally{f=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var K=f;f=$;try{return z()}finally{f=K}},e.unstable_scheduleCallback=function($,z,K){var U=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?U+K:U):K=U,$){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=K+q,$={id:d++,callback:z,priorityLevel:$,startTime:K,expirationTime:q,sortIndex:-1},K>U?($.sortIndex=K,t(u,$),r(c)===null&&$===r(u)&&(b?(v(C),C=-1):b=!0,D(w,K-U))):($.sortIndex=q,t(c,$),g||p||(g=!0,F(N))),$},e.unstable_shouldYield=I,e.unstable_wrapCallback=function($){var z=f;return function(){var K=f;f=z;try{return $.apply(this,arguments)}finally{f=K}}}})(cj);lj.exports=cj;var u3=lj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3=h,yr=u3;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uj=new Set,Po={};function Pa(e,t){ni(e,t),ni(e+"Capture",t)}function ni(e,t){for(Po[e]=t,e=0;e<t.length;e++)uj.add(t[e])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tf=Object.prototype.hasOwnProperty,m3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kx={},Ax={};function f3(e){return Tf.call(Ax,e)?!0:Tf.call(kx,e)?!1:m3.test(e)?Ax[e]=!0:(kx[e]=!0,!1)}function p3(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function h3(e,t,r,s){if(t===null||typeof t>"u"||p3(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wt(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new Wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new Wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new Wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new Wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new Wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new Wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new Wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new Wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new Wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var wh=/[\-:]([a-z])/g;function Nh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wh,Nh);Ot[t]=new Wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wh,Nh);Ot[t]=new Wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wh,Nh);Ot[t]=new Wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new Wt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new Wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sh(e,t,r,s){var a=Ot.hasOwnProperty(t)?Ot[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(h3(t,r,a,s)&&(r=null),s||a===null?f3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Gn=d3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ul=Symbol.for("react.element"),_a=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),Ch=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),dj=Symbol.for("react.provider"),mj=Symbol.for("react.context"),Ph=Symbol.for("react.forward_ref"),Mf=Symbol.for("react.suspense"),Lf=Symbol.for("react.suspense_list"),kh=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),fj=Symbol.for("react.offscreen"),Ex=Symbol.iterator;function Bi(e){return e===null||typeof e!="object"?null:(e=Ex&&e[Ex]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,Pm;function so(e){if(Pm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pm=t&&t[1]||""}return`
`+Pm+e}var km=!1;function Am(e,t){if(!e||km)return"";km=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{km=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?so(e):""}function g3(e){switch(e.tag){case 5:return so(e.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 2:case 15:return e=Am(e.type,!1),e;case 11:return e=Am(e.type.render,!1),e;case 1:return e=Am(e.type,!0),e;default:return""}}function If(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ra:return"Fragment";case _a:return"Portal";case Of:return"Profiler";case Ch:return"StrictMode";case Mf:return"Suspense";case Lf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mj:return(e.displayName||"Context")+".Consumer";case dj:return(e._context.displayName||"Context")+".Provider";case Ph:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kh:return t=e.displayName||null,t!==null?t:If(e.type)||"Memo";case ss:t=e._payload,e=e._init;try{return If(e(t))}catch{}}return null}function x3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return If(t);case 8:return t===Ch?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ks(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function v3(e){var t=pj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bl(e){e._valueTracker||(e._valueTracker=v3(e))}function hj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=pj(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Vc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Df(e,t){var r=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Tx(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=ks(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gj(e,t){t=t.checked,t!=null&&Sh(e,"checked",t,!1)}function _f(e,t){gj(e,t);var r=ks(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Rf(e,t.type,ks(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ox(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Rf(e,t,r){(t!=="number"||Vc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ao=Array.isArray;function Ya(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ks(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ff(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ae(92));if(ao(r)){if(1<r.length)throw Error(ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ks(r)}}function xj(e,t){var r=ks(t.value),s=ks(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Lx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $f(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ql,yj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ql=ql||document.createElement("div"),ql.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ko(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y3=["Webkit","ms","Moz","O"];Object.keys(mo).forEach(function(e){y3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mo[t]=mo[e]})});function bj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mo.hasOwnProperty(e)&&mo[e]?(""+t).trim():t+"px"}function jj(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=bj(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var b3=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zf(e,t){if(t){if(b3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function Uf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bf=null;function Ah(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qf=null,Qa=null,Xa=null;function Ix(e){if(e=fl(e)){if(typeof qf!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=ad(t),qf(e.stateNode,e.type,t))}}function wj(e){Qa?Xa?Xa.push(e):Xa=[e]:Qa=e}function Nj(){if(Qa){var e=Qa,t=Xa;if(Xa=Qa=null,Ix(e),t)for(e=0;e<t.length;e++)Ix(t[e])}}function Sj(e,t){return e(t)}function Cj(){}var Em=!1;function Pj(e,t,r){if(Em)return e(t,r);Em=!0;try{return Sj(e,t,r)}finally{Em=!1,(Qa!==null||Xa!==null)&&(Cj(),Nj())}}function Ao(e,t){var r=e.stateNode;if(r===null)return null;var s=ad(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ae(231,t,typeof r));return r}var Vf=!1;if(_n)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){Vf=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{Vf=!1}function j3(e,t,r,s,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var fo=!1,Hc=null,Wc=!1,Hf=null,w3={onError:function(e){fo=!0,Hc=e}};function N3(e,t,r,s,a,i,o,l,c){fo=!1,Hc=null,j3.apply(w3,arguments)}function S3(e,t,r,s,a,i,o,l,c){if(N3.apply(this,arguments),fo){if(fo){var u=Hc;fo=!1,Hc=null}else throw Error(ae(198));Wc||(Wc=!0,Hf=u)}}function ka(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function kj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dx(e){if(ka(e)!==e)throw Error(ae(188))}function C3(e){var t=e.alternate;if(!t){if(t=ka(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Dx(a),e;if(i===s)return Dx(a),t;i=i.sibling}throw Error(ae(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(ae(189))}}if(r.alternate!==s)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?e:t}function Aj(e){return e=C3(e),e!==null?Ej(e):null}function Ej(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ej(e);if(t!==null)return t;e=e.sibling}return null}var Tj=yr.unstable_scheduleCallback,_x=yr.unstable_cancelCallback,P3=yr.unstable_shouldYield,k3=yr.unstable_requestPaint,st=yr.unstable_now,A3=yr.unstable_getCurrentPriorityLevel,Eh=yr.unstable_ImmediatePriority,Oj=yr.unstable_UserBlockingPriority,Kc=yr.unstable_NormalPriority,E3=yr.unstable_LowPriority,Mj=yr.unstable_IdlePriority,td=null,gn=null;function T3(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(td,e,void 0,(e.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:L3,O3=Math.log,M3=Math.LN2;function L3(e){return e>>>=0,e===0?32:31-(O3(e)/M3|0)|0}var Vl=64,Hl=4194304;function io(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gc(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=io(l):(i&=o,i!==0&&(s=io(i)))}else o=r&~a,o!==0?s=io(o):i!==0&&(s=io(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-en(t),a=1<<r,s|=e[r],t&=~a;return s}function I3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D3(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-en(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=I3(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Wf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lj(){var e=Vl;return Vl<<=1,!(Vl&4194240)&&(Vl=64),e}function Tm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function dl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-en(t),e[t]=r}function _3(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-en(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function Th(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-en(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Oe=0;function Ij(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dj,Oh,_j,Rj,Fj,Kf=!1,Wl=[],ps=null,hs=null,gs=null,Eo=new Map,To=new Map,os=[],R3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rx(e,t){switch(e){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(t.pointerId)}}function Vi(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=fl(t),t!==null&&Oh(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function F3(e,t,r,s,a){switch(t){case"focusin":return ps=Vi(ps,e,t,r,s,a),!0;case"dragenter":return hs=Vi(hs,e,t,r,s,a),!0;case"mouseover":return gs=Vi(gs,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Eo.set(i,Vi(Eo.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,To.set(i,Vi(To.get(i)||null,e,t,r,s,a)),!0}return!1}function $j(e){var t=Xs(e.target);if(t!==null){var r=ka(t);if(r!==null){if(t=r.tag,t===13){if(t=kj(r),t!==null){e.blockedOn=t,Fj(e.priority,function(){_j(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Bf=s,r.target.dispatchEvent(s),Bf=null}else return t=fl(r),t!==null&&Oh(t),e.blockedOn=r,!1;t.shift()}return!0}function Fx(e,t,r){Sc(e)&&r.delete(t)}function $3(){Kf=!1,ps!==null&&Sc(ps)&&(ps=null),hs!==null&&Sc(hs)&&(hs=null),gs!==null&&Sc(gs)&&(gs=null),Eo.forEach(Fx),To.forEach(Fx)}function Hi(e,t){e.blockedOn===t&&(e.blockedOn=null,Kf||(Kf=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,$3)))}function Oo(e){function t(a){return Hi(a,e)}if(0<Wl.length){Hi(Wl[0],e);for(var r=1;r<Wl.length;r++){var s=Wl[r];s.blockedOn===e&&(s.blockedOn=null)}}for(ps!==null&&Hi(ps,e),hs!==null&&Hi(hs,e),gs!==null&&Hi(gs,e),Eo.forEach(t),To.forEach(t),r=0;r<os.length;r++)s=os[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<os.length&&(r=os[0],r.blockedOn===null);)$j(r),r.blockedOn===null&&os.shift()}var Ja=Gn.ReactCurrentBatchConfig,Yc=!0;function z3(e,t,r,s){var a=Oe,i=Ja.transition;Ja.transition=null;try{Oe=1,Mh(e,t,r,s)}finally{Oe=a,Ja.transition=i}}function U3(e,t,r,s){var a=Oe,i=Ja.transition;Ja.transition=null;try{Oe=4,Mh(e,t,r,s)}finally{Oe=a,Ja.transition=i}}function Mh(e,t,r,s){if(Yc){var a=Gf(e,t,r,s);if(a===null)zm(e,t,s,Qc,r),Rx(e,s);else if(F3(a,e,t,r,s))s.stopPropagation();else if(Rx(e,s),t&4&&-1<R3.indexOf(e)){for(;a!==null;){var i=fl(a);if(i!==null&&Dj(i),i=Gf(e,t,r,s),i===null&&zm(e,t,s,Qc,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else zm(e,t,s,null,r)}}var Qc=null;function Gf(e,t,r,s){if(Qc=null,e=Ah(s),e=Xs(e),e!==null)if(t=ka(e),t===null)e=null;else if(r=t.tag,r===13){if(e=kj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qc=e,null}function zj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A3()){case Eh:return 1;case Oj:return 4;case Kc:case E3:return 16;case Mj:return 536870912;default:return 16}default:return 16}}var us=null,Lh=null,Cc=null;function Uj(){if(Cc)return Cc;var e,t=Lh,r=t.length,s,a="value"in us?us.value:us.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Cc=a.slice(e,1<s?1-s:void 0)}function Pc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kl(){return!0}function $x(){return!1}function Nr(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kl:$x,this.isPropagationStopped=$x,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),t}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ih=Nr(ji),ml=Qe({},ji,{view:0,detail:0}),B3=Nr(ml),Om,Mm,Wi,rd=Qe({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wi&&(Wi&&e.type==="mousemove"?(Om=e.screenX-Wi.screenX,Mm=e.screenY-Wi.screenY):Mm=Om=0,Wi=e),Om)},movementY:function(e){return"movementY"in e?e.movementY:Mm}}),zx=Nr(rd),q3=Qe({},rd,{dataTransfer:0}),V3=Nr(q3),H3=Qe({},ml,{relatedTarget:0}),Lm=Nr(H3),W3=Qe({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),K3=Nr(W3),G3=Qe({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Y3=Nr(G3),Q3=Qe({},ji,{data:0}),Ux=Nr(Q3),X3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Z3[e])?!!t[e]:!1}function Dh(){return eP}var tP=Qe({},ml,{key:function(e){if(e.key){var t=X3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?J3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dh,charCode:function(e){return e.type==="keypress"?Pc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rP=Nr(tP),nP=Qe({},rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bx=Nr(nP),sP=Qe({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dh}),aP=Nr(sP),iP=Qe({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),oP=Nr(iP),lP=Qe({},rd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cP=Nr(lP),uP=[9,13,27,32],_h=_n&&"CompositionEvent"in window,po=null;_n&&"documentMode"in document&&(po=document.documentMode);var dP=_n&&"TextEvent"in window&&!po,Bj=_n&&(!_h||po&&8<po&&11>=po),qx=" ",Vx=!1;function qj(e,t){switch(e){case"keyup":return uP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fa=!1;function mP(e,t){switch(e){case"compositionend":return Vj(t);case"keypress":return t.which!==32?null:(Vx=!0,qx);case"textInput":return e=t.data,e===qx&&Vx?null:e;default:return null}}function fP(e,t){if(Fa)return e==="compositionend"||!_h&&qj(e,t)?(e=Uj(),Cc=Lh=us=null,Fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bj&&t.locale!=="ko"?null:t.data;default:return null}}var pP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pP[e.type]:t==="textarea"}function Hj(e,t,r,s){wj(s),t=Xc(t,"onChange"),0<t.length&&(r=new Ih("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var ho=null,Mo=null;function hP(e){rw(e,0)}function nd(e){var t=Ua(e);if(hj(t))return e}function gP(e,t){if(e==="change")return t}var Wj=!1;if(_n){var Im;if(_n){var Dm="oninput"in document;if(!Dm){var Wx=document.createElement("div");Wx.setAttribute("oninput","return;"),Dm=typeof Wx.oninput=="function"}Im=Dm}else Im=!1;Wj=Im&&(!document.documentMode||9<document.documentMode)}function Kx(){ho&&(ho.detachEvent("onpropertychange",Kj),Mo=ho=null)}function Kj(e){if(e.propertyName==="value"&&nd(Mo)){var t=[];Hj(t,Mo,e,Ah(e)),Pj(hP,t)}}function xP(e,t,r){e==="focusin"?(Kx(),ho=t,Mo=r,ho.attachEvent("onpropertychange",Kj)):e==="focusout"&&Kx()}function vP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nd(Mo)}function yP(e,t){if(e==="click")return nd(t)}function bP(e,t){if(e==="input"||e==="change")return nd(t)}function jP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:jP;function Lo(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Tf.call(t,a)||!nn(e[a],t[a]))return!1}return!0}function Gx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yx(e,t){var r=Gx(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gx(r)}}function Gj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yj(){for(var e=window,t=Vc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Vc(e.document)}return t}function Rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wP(e){var t=Yj(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Gj(r.ownerDocument.documentElement,r)){if(s!==null&&Rh(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=Yx(r,i);var o=Yx(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var NP=_n&&"documentMode"in document&&11>=document.documentMode,$a=null,Yf=null,go=null,Qf=!1;function Qx(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qf||$a==null||$a!==Vc(s)||(s=$a,"selectionStart"in s&&Rh(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),go&&Lo(go,s)||(go=s,s=Xc(Yf,"onSelect"),0<s.length&&(t=new Ih("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=$a)))}function Gl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var za={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},_m={},Qj={};_n&&(Qj=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function sd(e){if(_m[e])return _m[e];if(!za[e])return e;var t=za[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Qj)return _m[e]=t[r];return e}var Xj=sd("animationend"),Jj=sd("animationiteration"),Zj=sd("animationstart"),ew=sd("transitionend"),tw=new Map,Xx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(e,t){tw.set(e,t),Pa(t,[e])}for(var Rm=0;Rm<Xx.length;Rm++){var Fm=Xx[Rm],SP=Fm.toLowerCase(),CP=Fm[0].toUpperCase()+Fm.slice(1);Ls(SP,"on"+CP)}Ls(Xj,"onAnimationEnd");Ls(Jj,"onAnimationIteration");Ls(Zj,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(ew,"onTransitionEnd");ni("onMouseEnter",["mouseout","mouseover"]);ni("onMouseLeave",["mouseout","mouseover"]);ni("onPointerEnter",["pointerout","pointerover"]);ni("onPointerLeave",["pointerout","pointerover"]);Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PP=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function Jx(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,S3(s,t,void 0,e),e.currentTarget=null}function rw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Jx(a,l,u),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Jx(a,l,u),i=c}}}if(Wc)throw e=Hf,Wc=!1,Hf=null,e}function ze(e,t){var r=t[tp];r===void 0&&(r=t[tp]=new Set);var s=e+"__bubble";r.has(s)||(nw(t,e,2,!1),r.add(s))}function $m(e,t,r){var s=0;t&&(s|=4),nw(r,e,s,t)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Io(e){if(!e[Yl]){e[Yl]=!0,uj.forEach(function(r){r!=="selectionchange"&&(PP.has(r)||$m(r,!1,e),$m(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yl]||(t[Yl]=!0,$m("selectionchange",!1,t))}}function nw(e,t,r,s){switch(zj(t)){case 1:var a=z3;break;case 4:a=U3;break;default:a=Mh}r=a.bind(null,t,r,e),a=void 0,!Vf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function zm(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Xs(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}Pj(function(){var u=i,d=Ah(r),m=[];e:{var f=tw.get(e);if(f!==void 0){var p=Ih,g=e;switch(e){case"keypress":if(Pc(r)===0)break e;case"keydown":case"keyup":p=rP;break;case"focusin":g="focus",p=Lm;break;case"focusout":g="blur",p=Lm;break;case"beforeblur":case"afterblur":p=Lm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=zx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=V3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=aP;break;case Xj:case Jj:case Zj:p=K3;break;case ew:p=oP;break;case"scroll":p=B3;break;case"wheel":p=cP;break;case"copy":case"cut":case"paste":p=Y3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Bx}var b=(t&4)!==0,x=!b&&e==="scroll",v=b?f!==null?f+"Capture":null:f;b=[];for(var y=u,j;y!==null;){j=y;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,v!==null&&(w=Ao(y,v),w!=null&&b.push(Do(y,w,j)))),x)break;y=y.return}0<b.length&&(f=new p(f,g,null,r,d),m.push({event:f,listeners:b}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Bf&&(g=r.relatedTarget||r.fromElement)&&(Xs(g)||g[Rn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Xs(g):null,g!==null&&(x=ka(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(b=zx,w="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(b=Bx,w="onPointerLeave",v="onPointerEnter",y="pointer"),x=p==null?f:Ua(p),j=g==null?f:Ua(g),f=new b(w,y+"leave",p,r,d),f.target=x,f.relatedTarget=j,w=null,Xs(d)===u&&(b=new b(v,y+"enter",g,r,d),b.target=j,b.relatedTarget=x,w=b),x=w,p&&g)t:{for(b=p,v=g,y=0,j=b;j;j=La(j))y++;for(j=0,w=v;w;w=La(w))j++;for(;0<y-j;)b=La(b),y--;for(;0<j-y;)v=La(v),j--;for(;y--;){if(b===v||v!==null&&b===v.alternate)break t;b=La(b),v=La(v)}b=null}else b=null;p!==null&&Zx(m,f,p,b,!1),g!==null&&x!==null&&Zx(m,x,g,b,!0)}}e:{if(f=u?Ua(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=gP;else if(Hx(f))if(Wj)N=bP;else{N=vP;var S=xP}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=yP);if(N&&(N=N(e,u))){Hj(m,N,r,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Rf(f,"number",f.value)}switch(S=u?Ua(u):window,e){case"focusin":(Hx(S)||S.contentEditable==="true")&&($a=S,Yf=u,go=null);break;case"focusout":go=Yf=$a=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Qx(m,r,d);break;case"selectionchange":if(NP)break;case"keydown":case"keyup":Qx(m,r,d)}var P;if(_h)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Fa?qj(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Bj&&r.locale!=="ko"&&(Fa||C!=="onCompositionStart"?C==="onCompositionEnd"&&Fa&&(P=Uj()):(us=d,Lh="value"in us?us.value:us.textContent,Fa=!0)),S=Xc(u,C),0<S.length&&(C=new Ux(C,e,null,r,d),m.push({event:C,listeners:S}),P?C.data=P:(P=Vj(r),P!==null&&(C.data=P)))),(P=dP?mP(e,r):fP(e,r))&&(u=Xc(u,"onBeforeInput"),0<u.length&&(d=new Ux("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=P))}rw(m,t)})}function Do(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xc(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ao(e,r),i!=null&&s.unshift(Do(e,i,a)),i=Ao(e,t),i!=null&&s.push(Do(e,i,a))),e=e.return}return s}function La(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zx(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,a?(c=Ao(r,i),c!=null&&o.unshift(Do(r,c,l))):a||(c=Ao(r,i),c!=null&&o.push(Do(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var kP=/\r\n?/g,AP=/\u0000|\uFFFD/g;function ev(e){return(typeof e=="string"?e:""+e).replace(kP,`
`).replace(AP,"")}function Ql(e,t,r){if(t=ev(t),ev(e)!==t&&r)throw Error(ae(425))}function Jc(){}var Xf=null,Jf=null;function Zf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ep=typeof setTimeout=="function"?setTimeout:void 0,EP=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,TP=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(e){return tv.resolve(null).then(e).catch(OP)}:ep;function OP(e){setTimeout(function(){throw e})}function Um(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Oo(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Oo(t)}function xs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),fn="__reactFiber$"+wi,_o="__reactProps$"+wi,Rn="__reactContainer$"+wi,tp="__reactEvents$"+wi,MP="__reactListeners$"+wi,LP="__reactHandles$"+wi;function Xs(e){var t=e[fn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rn]||r[fn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rv(e);e!==null;){if(r=e[fn])return r;e=rv(e)}return t}e=r,r=e.parentNode}return null}function fl(e){return e=e[fn]||e[Rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ua(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function ad(e){return e[_o]||null}var rp=[],Ba=-1;function Is(e){return{current:e}}function Be(e){0>Ba||(e.current=rp[Ba],rp[Ba]=null,Ba--)}function Fe(e,t){Ba++,rp[Ba]=e.current,e.current=t}var As={},Ft=Is(As),er=Is(!1),ua=As;function si(e,t){var r=e.type.contextTypes;if(!r)return As;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function tr(e){return e=e.childContextTypes,e!=null}function Zc(){Be(er),Be(Ft)}function nv(e,t,r){if(Ft.current!==As)throw Error(ae(168));Fe(Ft,t),Fe(er,r)}function sw(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(ae(108,x3(e)||"Unknown",a));return Qe({},r,s)}function eu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||As,ua=Ft.current,Fe(Ft,e),Fe(er,er.current),!0}function sv(e,t,r){var s=e.stateNode;if(!s)throw Error(ae(169));r?(e=sw(e,t,ua),s.__reactInternalMemoizedMergedChildContext=e,Be(er),Be(Ft),Fe(Ft,e)):Be(er),Fe(er,r)}var kn=null,id=!1,Bm=!1;function aw(e){kn===null?kn=[e]:kn.push(e)}function IP(e){id=!0,aw(e)}function Ds(){if(!Bm&&kn!==null){Bm=!0;var e=0,t=Oe;try{var r=kn;for(Oe=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}kn=null,id=!1}catch(a){throw kn!==null&&(kn=kn.slice(e+1)),Tj(Eh,Ds),a}finally{Oe=t,Bm=!1}}return null}var qa=[],Va=0,tu=null,ru=0,Er=[],Tr=0,da=null,En=1,Tn="";function Vs(e,t){qa[Va++]=ru,qa[Va++]=tu,tu=e,ru=t}function iw(e,t,r){Er[Tr++]=En,Er[Tr++]=Tn,Er[Tr++]=da,da=e;var s=En;e=Tn;var a=32-en(s)-1;s&=~(1<<a),r+=1;var i=32-en(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,En=1<<32-en(t)+a|r<<a|s,Tn=i+e}else En=1<<i|r<<a|s,Tn=e}function Fh(e){e.return!==null&&(Vs(e,1),iw(e,1,0))}function $h(e){for(;e===tu;)tu=qa[--Va],qa[Va]=null,ru=qa[--Va],qa[Va]=null;for(;e===da;)da=Er[--Tr],Er[Tr]=null,Tn=Er[--Tr],Er[Tr]=null,En=Er[--Tr],Er[Tr]=null}var pr=null,fr=null,He=!1,Qr=null;function ow(e,t){var r=Mr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function av(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pr=e,fr=xs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pr=e,fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=da!==null?{id:En,overflow:Tn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Mr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pr=e,fr=null,!0):!1;default:return!1}}function np(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sp(e){if(He){var t=fr;if(t){var r=t;if(!av(e,t)){if(np(e))throw Error(ae(418));t=xs(r.nextSibling);var s=pr;t&&av(e,t)?ow(s,r):(e.flags=e.flags&-4097|2,He=!1,pr=e)}}else{if(np(e))throw Error(ae(418));e.flags=e.flags&-4097|2,He=!1,pr=e}}}function iv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pr=e}function Xl(e){if(e!==pr)return!1;if(!He)return iv(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zf(e.type,e.memoizedProps)),t&&(t=fr)){if(np(e))throw lw(),Error(ae(418));for(;t;)ow(e,t),t=xs(t.nextSibling)}if(iv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){fr=xs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}fr=null}}else fr=pr?xs(e.stateNode.nextSibling):null;return!0}function lw(){for(var e=fr;e;)e=xs(e.nextSibling)}function ai(){fr=pr=null,He=!1}function zh(e){Qr===null?Qr=[e]:Qr.push(e)}var DP=Gn.ReactCurrentBatchConfig;function Ki(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var s=r.stateNode}if(!s)throw Error(ae(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,e))}return e}function Jl(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ov(e){var t=e._init;return t(e._payload)}function cw(e){function t(v,y){if(e){var j=v.deletions;j===null?(v.deletions=[y],v.flags|=16):j.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function s(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=js(v,y),v.index=0,v.sibling=null,v}function i(v,y,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<y?(v.flags|=2,y):j):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,j,w){return y===null||y.tag!==6?(y=Ym(j,v.mode,w),y.return=v,y):(y=a(y,j),y.return=v,y)}function c(v,y,j,w){var N=j.type;return N===Ra?d(v,y,j.props.children,w,j.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ss&&ov(N)===y.type)?(w=a(y,j.props),w.ref=Ki(v,y,j),w.return=v,w):(w=Lc(j.type,j.key,j.props,null,v.mode,w),w.ref=Ki(v,y,j),w.return=v,w)}function u(v,y,j,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==j.containerInfo||y.stateNode.implementation!==j.implementation?(y=Qm(j,v.mode,w),y.return=v,y):(y=a(y,j.children||[]),y.return=v,y)}function d(v,y,j,w,N){return y===null||y.tag!==7?(y=sa(j,v.mode,w,N),y.return=v,y):(y=a(y,j),y.return=v,y)}function m(v,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ym(""+y,v.mode,j),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ul:return j=Lc(y.type,y.key,y.props,null,v.mode,j),j.ref=Ki(v,null,y),j.return=v,j;case _a:return y=Qm(y,v.mode,j),y.return=v,y;case ss:var w=y._init;return m(v,w(y._payload),j)}if(ao(y)||Bi(y))return y=sa(y,v.mode,j,null),y.return=v,y;Jl(v,y)}return null}function f(v,y,j,w){var N=y!==null?y.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:l(v,y,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ul:return j.key===N?c(v,y,j,w):null;case _a:return j.key===N?u(v,y,j,w):null;case ss:return N=j._init,f(v,y,N(j._payload),w)}if(ao(j)||Bi(j))return N!==null?null:d(v,y,j,w,null);Jl(v,j)}return null}function p(v,y,j,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(j)||null,l(y,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ul:return v=v.get(w.key===null?j:w.key)||null,c(y,v,w,N);case _a:return v=v.get(w.key===null?j:w.key)||null,u(y,v,w,N);case ss:var S=w._init;return p(v,y,j,S(w._payload),N)}if(ao(w)||Bi(w))return v=v.get(j)||null,d(y,v,w,N,null);Jl(y,w)}return null}function g(v,y,j,w){for(var N=null,S=null,P=y,C=y=0,E=null;P!==null&&C<j.length;C++){P.index>C?(E=P,P=null):E=P.sibling;var O=f(v,P,j[C],w);if(O===null){P===null&&(P=E);break}e&&P&&O.alternate===null&&t(v,P),y=i(O,y,C),S===null?N=O:S.sibling=O,S=O,P=E}if(C===j.length)return r(v,P),He&&Vs(v,C),N;if(P===null){for(;C<j.length;C++)P=m(v,j[C],w),P!==null&&(y=i(P,y,C),S===null?N=P:S.sibling=P,S=P);return He&&Vs(v,C),N}for(P=s(v,P);C<j.length;C++)E=p(P,v,C,j[C],w),E!==null&&(e&&E.alternate!==null&&P.delete(E.key===null?C:E.key),y=i(E,y,C),S===null?N=E:S.sibling=E,S=E);return e&&P.forEach(function(I){return t(v,I)}),He&&Vs(v,C),N}function b(v,y,j,w){var N=Bi(j);if(typeof N!="function")throw Error(ae(150));if(j=N.call(j),j==null)throw Error(ae(151));for(var S=N=null,P=y,C=y=0,E=null,O=j.next();P!==null&&!O.done;C++,O=j.next()){P.index>C?(E=P,P=null):E=P.sibling;var I=f(v,P,O.value,w);if(I===null){P===null&&(P=E);break}e&&P&&I.alternate===null&&t(v,P),y=i(I,y,C),S===null?N=I:S.sibling=I,S=I,P=E}if(O.done)return r(v,P),He&&Vs(v,C),N;if(P===null){for(;!O.done;C++,O=j.next())O=m(v,O.value,w),O!==null&&(y=i(O,y,C),S===null?N=O:S.sibling=O,S=O);return He&&Vs(v,C),N}for(P=s(v,P);!O.done;C++,O=j.next())O=p(P,v,C,O.value,w),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?C:O.key),y=i(O,y,C),S===null?N=O:S.sibling=O,S=O);return e&&P.forEach(function(M){return t(v,M)}),He&&Vs(v,C),N}function x(v,y,j,w){if(typeof j=="object"&&j!==null&&j.type===Ra&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ul:e:{for(var N=j.key,S=y;S!==null;){if(S.key===N){if(N=j.type,N===Ra){if(S.tag===7){r(v,S.sibling),y=a(S,j.props.children),y.return=v,v=y;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ss&&ov(N)===S.type){r(v,S.sibling),y=a(S,j.props),y.ref=Ki(v,S,j),y.return=v,v=y;break e}r(v,S);break}else t(v,S);S=S.sibling}j.type===Ra?(y=sa(j.props.children,v.mode,w,j.key),y.return=v,v=y):(w=Lc(j.type,j.key,j.props,null,v.mode,w),w.ref=Ki(v,y,j),w.return=v,v=w)}return o(v);case _a:e:{for(S=j.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===j.containerInfo&&y.stateNode.implementation===j.implementation){r(v,y.sibling),y=a(y,j.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=Qm(j,v.mode,w),y.return=v,v=y}return o(v);case ss:return S=j._init,x(v,y,S(j._payload),w)}if(ao(j))return g(v,y,j,w);if(Bi(j))return b(v,y,j,w);Jl(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,y!==null&&y.tag===6?(r(v,y.sibling),y=a(y,j),y.return=v,v=y):(r(v,y),y=Ym(j,v.mode,w),y.return=v,v=y),o(v)):r(v,y)}return x}var ii=cw(!0),uw=cw(!1),nu=Is(null),su=null,Ha=null,Uh=null;function Bh(){Uh=Ha=su=null}function qh(e){var t=nu.current;Be(nu),e._currentValue=t}function ap(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Za(e,t){su=e,Uh=Ha=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Yt=!0),e.firstContext=null)}function Rr(e){var t=e._currentValue;if(Uh!==e)if(e={context:e,memoizedValue:t,next:null},Ha===null){if(su===null)throw Error(ae(308));Ha=e,su.dependencies={lanes:0,firstContext:e}}else Ha=Ha.next=e;return t}var Js=null;function Vh(e){Js===null?Js=[e]:Js.push(e)}function dw(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Vh(t)):(r.next=a.next,a.next=r),t.interleaved=r,Fn(e,s)}function Fn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var as=!1;function Hh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vs(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ae&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Fn(e,r)}return a=s.interleaved,a===null?(t.next=t,Vh(s)):(t.next=a.next,a.next=t),s.interleaved=t,Fn(e,r)}function kc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Th(e,r)}}function lv(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function au(e,t,r,s){var a=e.updateQueue;as=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,b=l;switch(f=t,p=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){m=g.call(p,m,f);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,f=typeof g=="function"?g.call(p,m,f):g,f==null)break e;m=Qe({},m,f);break e;case 2:as=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=m):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=m),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);fa|=o,e.lanes=o,e.memoizedState=m}}function cv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(ae(191,a));a.call(s)}}}var pl={},xn=Is(pl),Ro=Is(pl),Fo=Is(pl);function Zs(e){if(e===pl)throw Error(ae(174));return e}function Wh(e,t){switch(Fe(Fo,t),Fe(Ro,e),Fe(xn,pl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$f(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$f(t,e)}Be(xn),Fe(xn,t)}function oi(){Be(xn),Be(Ro),Be(Fo)}function fw(e){Zs(Fo.current);var t=Zs(xn.current),r=$f(t,e.type);t!==r&&(Fe(Ro,e),Fe(xn,r))}function Kh(e){Ro.current===e&&(Be(xn),Be(Ro))}var Ge=Is(0);function iu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qm=[];function Gh(){for(var e=0;e<qm.length;e++)qm[e]._workInProgressVersionPrimary=null;qm.length=0}var Ac=Gn.ReactCurrentDispatcher,Vm=Gn.ReactCurrentBatchConfig,ma=0,Ye=null,ft=null,bt=null,ou=!1,xo=!1,$o=0,_P=0;function It(){throw Error(ae(321))}function Yh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nn(e[r],t[r]))return!1;return!0}function Qh(e,t,r,s,a,i){if(ma=i,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ac.current=e===null||e.memoizedState===null?zP:UP,e=r(s,a),xo){i=0;do{if(xo=!1,$o=0,25<=i)throw Error(ae(301));i+=1,bt=ft=null,t.updateQueue=null,Ac.current=BP,e=r(s,a)}while(xo)}if(Ac.current=lu,t=ft!==null&&ft.next!==null,ma=0,bt=ft=Ye=null,ou=!1,t)throw Error(ae(300));return e}function Xh(){var e=$o!==0;return $o=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ye.memoizedState=bt=e:bt=bt.next=e,bt}function Fr(){if(ft===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=bt===null?Ye.memoizedState:bt.next;if(t!==null)bt=t,ft=e;else{if(e===null)throw Error(ae(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},bt===null?Ye.memoizedState=bt=e:bt=bt.next=e}return bt}function zo(e,t){return typeof t=="function"?t(e):t}function Hm(e){var t=Fr(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var s=ft,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ma&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,Ye.lanes|=d,fa|=d}u=u.next}while(u!==null&&u!==i);c===null?o=s:c.next=l,nn(s,t.memoizedState)||(Yt=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ye.lanes|=i,fa|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wm(e){var t=Fr(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);nn(i,t.memoizedState)||(Yt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function pw(){}function hw(e,t){var r=Ye,s=Fr(),a=t(),i=!nn(s.memoizedState,a);if(i&&(s.memoizedState=a,Yt=!0),s=s.queue,Jh(vw.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||bt!==null&&bt.memoizedState.tag&1){if(r.flags|=2048,Uo(9,xw.bind(null,r,s,a,t),void 0,null),jt===null)throw Error(ae(349));ma&30||gw(r,t,a)}return a}function gw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function xw(e,t,r,s){t.value=r,t.getSnapshot=s,yw(t)&&bw(e)}function vw(e,t,r){return r(function(){yw(t)&&bw(e)})}function yw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nn(e,r)}catch{return!0}}function bw(e){var t=Fn(e,1);t!==null&&tn(t,e,1,-1)}function uv(e){var t=mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:e},t.queue=e,e=e.dispatch=$P.bind(null,Ye,e),[t.memoizedState,e]}function Uo(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function jw(){return Fr().memoizedState}function Ec(e,t,r,s){var a=mn();Ye.flags|=e,a.memoizedState=Uo(1|t,r,void 0,s===void 0?null:s)}function od(e,t,r,s){var a=Fr();s=s===void 0?null:s;var i=void 0;if(ft!==null){var o=ft.memoizedState;if(i=o.destroy,s!==null&&Yh(s,o.deps)){a.memoizedState=Uo(t,r,i,s);return}}Ye.flags|=e,a.memoizedState=Uo(1|t,r,i,s)}function dv(e,t){return Ec(8390656,8,e,t)}function Jh(e,t){return od(2048,8,e,t)}function ww(e,t){return od(4,2,e,t)}function Nw(e,t){return od(4,4,e,t)}function Sw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cw(e,t,r){return r=r!=null?r.concat([e]):null,od(4,4,Sw.bind(null,t,e),r)}function Zh(){}function Pw(e,t){var r=Fr();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Yh(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function kw(e,t){var r=Fr();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Yh(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Aw(e,t,r){return ma&21?(nn(r,t)||(r=Lj(),Ye.lanes|=r,fa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Yt=!0),e.memoizedState=r)}function RP(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var s=Vm.transition;Vm.transition={};try{e(!1),t()}finally{Oe=r,Vm.transition=s}}function Ew(){return Fr().memoizedState}function FP(e,t,r){var s=bs(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Tw(e))Ow(t,r);else if(r=dw(e,t,r,s),r!==null){var a=qt();tn(r,e,s,a),Mw(r,t,s)}}function $P(e,t,r){var s=bs(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Tw(e))Ow(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,nn(l,o)){var c=t.interleaved;c===null?(a.next=a,Vh(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=dw(e,t,a,s),r!==null&&(a=qt(),tn(r,e,s,a),Mw(r,t,s))}}function Tw(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function Ow(e,t){xo=ou=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Mw(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Th(e,r)}}var lu={readContext:Rr,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},zP={readContext:Rr,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:Rr,useEffect:dv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ec(4194308,4,Sw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ec(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ec(4,2,e,t)},useMemo:function(e,t){var r=mn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=mn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=FP.bind(null,Ye,e),[s.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:uv,useDebugValue:Zh,useDeferredValue:function(e){return mn().memoizedState=e},useTransition:function(){var e=uv(!1),t=e[0];return e=RP.bind(null,e[1]),mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Ye,a=mn();if(He){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=t(),jt===null)throw Error(ae(349));ma&30||gw(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,dv(vw.bind(null,s,i,e),[e]),s.flags|=2048,Uo(9,xw.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=mn(),t=jt.identifierPrefix;if(He){var r=Tn,s=En;r=(s&~(1<<32-en(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=$o++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_P++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},UP={readContext:Rr,useCallback:Pw,useContext:Rr,useEffect:Jh,useImperativeHandle:Cw,useInsertionEffect:ww,useLayoutEffect:Nw,useMemo:kw,useReducer:Hm,useRef:jw,useState:function(){return Hm(zo)},useDebugValue:Zh,useDeferredValue:function(e){var t=Fr();return Aw(t,ft.memoizedState,e)},useTransition:function(){var e=Hm(zo)[0],t=Fr().memoizedState;return[e,t]},useMutableSource:pw,useSyncExternalStore:hw,useId:Ew,unstable_isNewReconciler:!1},BP={readContext:Rr,useCallback:Pw,useContext:Rr,useEffect:Jh,useImperativeHandle:Cw,useInsertionEffect:ww,useLayoutEffect:Nw,useMemo:kw,useReducer:Wm,useRef:jw,useState:function(){return Wm(zo)},useDebugValue:Zh,useDeferredValue:function(e){var t=Fr();return ft===null?t.memoizedState=e:Aw(t,ft.memoizedState,e)},useTransition:function(){var e=Wm(zo)[0],t=Fr().memoizedState;return[e,t]},useMutableSource:pw,useSyncExternalStore:hw,useId:Ew,unstable_isNewReconciler:!1};function Gr(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ip(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:Qe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ld={isMounted:function(e){return(e=e._reactInternals)?ka(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=qt(),a=bs(e),i=Ln(s,a);i.payload=t,r!=null&&(i.callback=r),t=vs(e,i,a),t!==null&&(tn(t,e,a,s),kc(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=qt(),a=bs(e),i=Ln(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=vs(e,i,a),t!==null&&(tn(t,e,a,s),kc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qt(),s=bs(e),a=Ln(r,s);a.tag=2,t!=null&&(a.callback=t),t=vs(e,a,s),t!==null&&(tn(t,e,s,r),kc(t,e,s))}};function mv(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Lo(r,s)||!Lo(a,i):!0}function Lw(e,t,r){var s=!1,a=As,i=t.contextType;return typeof i=="object"&&i!==null?i=Rr(i):(a=tr(t)?ua:Ft.current,s=t.contextTypes,i=(s=s!=null)?si(e,a):As),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ld,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function fv(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&ld.enqueueReplaceState(t,t.state,null)}function op(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Hh(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Rr(i):(i=tr(t)?ua:Ft.current,a.context=si(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ip(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ld.enqueueReplaceState(a,a.state,null),au(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function li(e,t){try{var r="",s=t;do r+=g3(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Km(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var qP=typeof WeakMap=="function"?WeakMap:Map;function Iw(e,t,r){r=Ln(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){uu||(uu=!0,vp=s),lp(e,t)},r}function Dw(e,t,r){r=Ln(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){lp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){lp(e,t),typeof s!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function pv(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new qP;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=n6.bind(null,e,t,r),t.then(e,e))}function hv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gv(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ln(-1,1),t.tag=2,vs(r,t,1))),r.lanes|=1),e)}var VP=Gn.ReactCurrentOwner,Yt=!1;function zt(e,t,r,s){t.child=e===null?uw(t,null,r,s):ii(t,e.child,r,s)}function xv(e,t,r,s,a){r=r.render;var i=t.ref;return Za(t,a),s=Qh(e,t,r,s,i,a),r=Xh(),e!==null&&!Yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$n(e,t,a)):(He&&r&&Fh(t),t.flags|=1,zt(e,t,s,a),t.child)}function vv(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!o0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,_w(e,t,i,s,a)):(e=Lc(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Lo,r(o,s)&&e.ref===t.ref)return $n(e,t,a)}return t.flags|=1,e=js(i,s),e.ref=t.ref,e.return=t,t.child=e}function _w(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(Lo(i,s)&&e.ref===t.ref)if(Yt=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Yt=!0);else return t.lanes=e.lanes,$n(e,t,a)}return cp(e,t,r,s,a)}function Rw(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Ka,cr),cr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Ka,cr),cr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,Fe(Ka,cr),cr|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,Fe(Ka,cr),cr|=s;return zt(e,t,a,r),t.child}function Fw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cp(e,t,r,s,a){var i=tr(r)?ua:Ft.current;return i=si(t,i),Za(t,a),r=Qh(e,t,r,s,i,a),s=Xh(),e!==null&&!Yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$n(e,t,a)):(He&&s&&Fh(t),t.flags|=1,zt(e,t,r,a),t.child)}function yv(e,t,r,s,a){if(tr(r)){var i=!0;eu(t)}else i=!1;if(Za(t,a),t.stateNode===null)Tc(e,t),Lw(t,r,s),op(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Rr(u):(u=tr(r)?ua:Ft.current,u=si(t,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&fv(t,o,s,u),as=!1;var f=t.memoizedState;o.state=f,au(t,s,o,a),c=t.memoizedState,l!==s||f!==c||er.current||as?(typeof d=="function"&&(ip(t,r,d,s),c=t.memoizedState),(l=as||mv(t,r,l,s,f,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,mw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Gr(t.type,l),o.props=u,m=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Rr(c):(c=tr(r)?ua:Ft.current,c=si(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&fv(t,o,s,c),as=!1,f=t.memoizedState,o.state=f,au(t,s,o,a);var g=t.memoizedState;l!==m||f!==g||er.current||as?(typeof p=="function"&&(ip(t,r,p,s),g=t.memoizedState),(u=as||mv(t,r,u,s,f,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=g),o.props=s,o.state=g,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return up(e,t,r,s,i,a)}function up(e,t,r,s,a,i){Fw(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&sv(t,r,!1),$n(e,t,i);s=t.stateNode,VP.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=ii(t,e.child,null,i),t.child=ii(t,null,l,i)):zt(e,t,l,i),t.memoizedState=s.state,a&&sv(t,r,!0),t.child}function $w(e){var t=e.stateNode;t.pendingContext?nv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nv(e,t.context,!1),Wh(e,t.containerInfo)}function bv(e,t,r,s,a){return ai(),zh(a),t.flags|=256,zt(e,t,r,s),t.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function mp(e){return{baseLanes:e,cachePool:null,transitions:null}}function zw(e,t,r){var s=t.pendingProps,a=Ge.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Fe(Ge,a&1),e===null)return sp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=dd(o,s,0,null),e=sa(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=mp(r),t.memoizedState=dp,e):e0(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return HP(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=js(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=js(l,i):(i=sa(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?mp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=dp,s}return i=e.child,e=i.sibling,s=js(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function e0(e,t){return t=dd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zl(e,t,r,s){return s!==null&&zh(s),ii(t,e.child,null,r),e=e0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function HP(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=Km(Error(ae(422))),Zl(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=dd({mode:"visible",children:s.children},a,0,null),i=sa(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&ii(t,e.child,null,o),t.child.memoizedState=mp(o),t.memoizedState=dp,i);if(!(t.mode&1))return Zl(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(ae(419)),s=Km(i,s,void 0),Zl(e,t,o,s)}if(l=(o&e.childLanes)!==0,Yt||l){if(s=jt,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Fn(e,a),tn(s,e,a,-1))}return i0(),s=Km(Error(ae(421))),Zl(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=s6.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,fr=xs(a.nextSibling),pr=t,He=!0,Qr=null,e!==null&&(Er[Tr++]=En,Er[Tr++]=Tn,Er[Tr++]=da,En=e.id,Tn=e.overflow,da=t),t=e0(t,s.children),t.flags|=4096,t)}function jv(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ap(e.return,t,r)}function Gm(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function Uw(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(zt(e,t,s.children,r),s=Ge.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jv(e,r,t);else if(e.tag===19)jv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Fe(Ge,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&iu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Gm(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&iu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Gm(t,!0,r,null,i);break;case"together":Gm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $n(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,r=js(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=js(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function WP(e,t,r){switch(t.tag){case 3:$w(t),ai();break;case 5:fw(t);break;case 1:tr(t.type)&&eu(t);break;case 4:Wh(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Fe(nu,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Fe(Ge,Ge.current&1),t.flags|=128,null):r&t.child.childLanes?zw(e,t,r):(Fe(Ge,Ge.current&1),e=$n(e,t,r),e!==null?e.sibling:null);Fe(Ge,Ge.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Uw(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Fe(Ge,Ge.current),s)break;return null;case 22:case 23:return t.lanes=0,Rw(e,t,r)}return $n(e,t,r)}var Bw,fp,qw,Vw;Bw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fp=function(){};qw=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Zs(xn.current);var i=null;switch(r){case"input":a=Df(e,a),s=Df(e,s),i=[];break;case"select":a=Qe({},a,{value:void 0}),s=Qe({},s,{value:void 0}),i=[];break;case"textarea":a=Ff(e,a),s=Ff(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Jc)}zf(r,s);var o;r=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Po.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(l=a!=null?a[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Po.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ze("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Vw=function(e,t,r,s){r!==s&&(t.flags|=4)};function Gi(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function KP(e,t,r){var s=t.pendingProps;switch($h(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(t),null;case 1:return tr(t.type)&&Zc(),Dt(t),null;case 3:return s=t.stateNode,oi(),Be(er),Be(Ft),Gh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qr!==null&&(jp(Qr),Qr=null))),fp(e,t),Dt(t),null;case 5:Kh(t);var a=Zs(Fo.current);if(r=t.type,e!==null&&t.stateNode!=null)qw(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(ae(166));return Dt(t),null}if(e=Zs(xn.current),Xl(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[fn]=t,s[_o]=i,e=(t.mode&1)!==0,r){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(a=0;a<oo.length;a++)ze(oo[a],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":Tx(s,i),ze("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ze("invalid",s);break;case"textarea":Mx(s,i),ze("invalid",s)}zf(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ql(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ql(s.textContent,l,e),a=["children",""+l]):Po.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ze("scroll",s)}switch(r){case"input":Bl(s),Ox(s,i,!0);break;case"textarea":Bl(s),Lx(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Jc)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[fn]=t,e[_o]=s,Bw(e,t,!1,!1),t.stateNode=e;e:{switch(o=Uf(r,s),r){case"dialog":ze("cancel",e),ze("close",e),a=s;break;case"iframe":case"object":case"embed":ze("load",e),a=s;break;case"video":case"audio":for(a=0;a<oo.length;a++)ze(oo[a],e);a=s;break;case"source":ze("error",e),a=s;break;case"img":case"image":case"link":ze("error",e),ze("load",e),a=s;break;case"details":ze("toggle",e),a=s;break;case"input":Tx(e,s),a=Df(e,s),ze("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Qe({},s,{value:void 0}),ze("invalid",e);break;case"textarea":Mx(e,s),a=Ff(e,s),ze("invalid",e);break;default:a=s}zf(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?jj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yj(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ko(e,c):typeof c=="number"&&ko(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Po.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ze("scroll",e):c!=null&&Sh(e,i,c,o))}switch(r){case"input":Bl(e),Ox(e,s,!1);break;case"textarea":Bl(e),Lx(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ks(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Ya(e,!!s.multiple,i,!1):s.defaultValue!=null&&Ya(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Jc)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dt(t),null;case 6:if(e&&t.stateNode!=null)Vw(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(ae(166));if(r=Zs(Fo.current),Zs(xn.current),Xl(t)){if(s=t.stateNode,r=t.memoizedProps,s[fn]=t,(i=s.nodeValue!==r)&&(e=pr,e!==null))switch(e.tag){case 3:Ql(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ql(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[fn]=t,t.stateNode=s}return Dt(t),null;case 13:if(Be(Ge),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&fr!==null&&t.mode&1&&!(t.flags&128))lw(),ai(),t.flags|=98560,i=!1;else if(i=Xl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(ae(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ae(317));i[fn]=t}else ai(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dt(t),i=!1}else Qr!==null&&(jp(Qr),Qr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?pt===0&&(pt=3):i0())),t.updateQueue!==null&&(t.flags|=4),Dt(t),null);case 4:return oi(),fp(e,t),e===null&&Io(t.stateNode.containerInfo),Dt(t),null;case 10:return qh(t.type._context),Dt(t),null;case 17:return tr(t.type)&&Zc(),Dt(t),null;case 19:if(Be(Ge),i=t.memoizedState,i===null)return Dt(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Gi(i,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=iu(e),o!==null){for(t.flags|=128,Gi(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Fe(Ge,Ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&st()>ci&&(t.flags|=128,s=!0,Gi(i,!1),t.lanes=4194304)}else{if(!s)if(e=iu(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return Dt(t),null}else 2*st()-i.renderingStartTime>ci&&r!==1073741824&&(t.flags|=128,s=!0,Gi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=st(),t.sibling=null,r=Ge.current,Fe(Ge,s?r&1|2:r&1),t):(Dt(t),null);case 22:case 23:return a0(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?cr&1073741824&&(Dt(t),t.subtreeFlags&6&&(t.flags|=8192)):Dt(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function GP(e,t){switch($h(t),t.tag){case 1:return tr(t.type)&&Zc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oi(),Be(er),Be(Ft),Gh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kh(t),null;case 13:if(Be(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Ge),null;case 4:return oi(),null;case 10:return qh(t.type._context),null;case 22:case 23:return a0(),null;case 24:return null;default:return null}}var ec=!1,_t=!1,YP=typeof WeakSet=="function"?WeakSet:Set,me=null;function Wa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){et(e,t,s)}else r.current=null}function pp(e,t,r){try{r()}catch(s){et(e,t,s)}}var wv=!1;function QP(e,t){if(Xf=Yc,e=Yj(),Rh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,m=e,f=null;t:for(;;){for(var p;m!==r||a!==0&&m.nodeType!==3||(l=o+a),m!==i||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)f=m,m=p;for(;;){if(m===e)break t;if(f===r&&++u===a&&(l=o),f===i&&++d===s&&(c=o),(p=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jf={focusedElem:e,selectionRange:r},Yc=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,x=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?b:Gr(t.type,b),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(w){et(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return g=wv,wv=!1,g}function vo(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&pp(t,r,i)}a=a.next}while(a!==s)}}function cd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function hp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Hw(e){var t=e.alternate;t!==null&&(e.alternate=null,Hw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[_o],delete t[tp],delete t[MP],delete t[LP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ww(e){return e.tag===5||e.tag===3||e.tag===4}function Nv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ww(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gp(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jc));else if(s!==4&&(e=e.child,e!==null))for(gp(e,t,r),e=e.sibling;e!==null;)gp(e,t,r),e=e.sibling}function xp(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(xp(e,t,r),e=e.sibling;e!==null;)xp(e,t,r),e=e.sibling}var Pt=null,Yr=!1;function ns(e,t,r){for(r=r.child;r!==null;)Kw(e,t,r),r=r.sibling}function Kw(e,t,r){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(td,r)}catch{}switch(r.tag){case 5:_t||Wa(r,t);case 6:var s=Pt,a=Yr;Pt=null,ns(e,t,r),Pt=s,Yr=a,Pt!==null&&(Yr?(e=Pt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pt.removeChild(r.stateNode));break;case 18:Pt!==null&&(Yr?(e=Pt,r=r.stateNode,e.nodeType===8?Um(e.parentNode,r):e.nodeType===1&&Um(e,r),Oo(e)):Um(Pt,r.stateNode));break;case 4:s=Pt,a=Yr,Pt=r.stateNode.containerInfo,Yr=!0,ns(e,t,r),Pt=s,Yr=a;break;case 0:case 11:case 14:case 15:if(!_t&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&pp(r,t,o),a=a.next}while(a!==s)}ns(e,t,r);break;case 1:if(!_t&&(Wa(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){et(r,t,l)}ns(e,t,r);break;case 21:ns(e,t,r);break;case 22:r.mode&1?(_t=(s=_t)||r.memoizedState!==null,ns(e,t,r),_t=s):ns(e,t,r);break;default:ns(e,t,r)}}function Sv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new YP),t.forEach(function(s){var a=a6.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Kr(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Pt=l.stateNode,Yr=!1;break e;case 3:Pt=l.stateNode.containerInfo,Yr=!0;break e;case 4:Pt=l.stateNode.containerInfo,Yr=!0;break e}l=l.return}if(Pt===null)throw Error(ae(160));Kw(i,o,a),Pt=null,Yr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){et(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gw(t,e),t=t.sibling}function Gw(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kr(t,e),un(e),s&4){try{vo(3,e,e.return),cd(3,e)}catch(b){et(e,e.return,b)}try{vo(5,e,e.return)}catch(b){et(e,e.return,b)}}break;case 1:Kr(t,e),un(e),s&512&&r!==null&&Wa(r,r.return);break;case 5:if(Kr(t,e),un(e),s&512&&r!==null&&Wa(r,r.return),e.flags&32){var a=e.stateNode;try{ko(a,"")}catch(b){et(e,e.return,b)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&gj(a,i),Uf(l,o);var u=Uf(l,i);for(o=0;o<c.length;o+=2){var d=c[o],m=c[o+1];d==="style"?jj(a,m):d==="dangerouslySetInnerHTML"?yj(a,m):d==="children"?ko(a,m):Sh(a,d,m,u)}switch(l){case"input":_f(a,i);break;case"textarea":xj(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ya(a,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ya(a,!!i.multiple,i.defaultValue,!0):Ya(a,!!i.multiple,i.multiple?[]:"",!1))}a[_o]=i}catch(b){et(e,e.return,b)}}break;case 6:if(Kr(t,e),un(e),s&4){if(e.stateNode===null)throw Error(ae(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){et(e,e.return,b)}}break;case 3:if(Kr(t,e),un(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Oo(t.containerInfo)}catch(b){et(e,e.return,b)}break;case 4:Kr(t,e),un(e);break;case 13:Kr(t,e),un(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(n0=st())),s&4&&Sv(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(_t=(u=_t)||d,Kr(t,e),_t=u):Kr(t,e),un(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(me=e,d=e.child;d!==null;){for(m=me=d;me!==null;){switch(f=me,p=f.child,f.tag){case 0:case 11:case 14:case 15:vo(4,f,f.return);break;case 1:Wa(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){s=f,r=f.return;try{t=s,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){et(s,r,b)}}break;case 5:Wa(f,f.return);break;case 22:if(f.memoizedState!==null){Pv(m);continue}}p!==null?(p.return=f,me=p):Pv(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{a=m.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=bj("display",o))}catch(b){et(e,e.return,b)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(b){et(e,e.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Kr(t,e),un(e),s&4&&Sv(e);break;case 21:break;default:Kr(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ww(r)){var s=r;break e}r=r.return}throw Error(ae(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(ko(a,""),s.flags&=-33);var i=Nv(e);xp(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Nv(e);gp(e,l,o);break;default:throw Error(ae(161))}}catch(c){et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XP(e,t,r){me=e,Yw(e)}function Yw(e,t,r){for(var s=(e.mode&1)!==0;me!==null;){var a=me,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||ec;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||_t;l=ec;var u=_t;if(ec=o,(_t=c)&&!u)for(me=a;me!==null;)o=me,c=o.child,o.tag===22&&o.memoizedState!==null?kv(a):c!==null?(c.return=o,me=c):kv(a);for(;i!==null;)me=i,Yw(i),i=i.sibling;me=a,ec=l,_t=u}Cv(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,me=i):Cv(e)}}function Cv(e){for(;me!==null;){var t=me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||cd(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!_t)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Gr(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cv(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Oo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}_t||t.flags&512&&hp(t)}catch(f){et(t,t.return,f)}}if(t===e){me=null;break}if(r=t.sibling,r!==null){r.return=t.return,me=r;break}me=t.return}}function Pv(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,me=r;break}me=t.return}}function kv(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{cd(4,t)}catch(c){et(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){et(t,a,c)}}var i=t.return;try{hp(t)}catch(c){et(t,i,c)}break;case 5:var o=t.return;try{hp(t)}catch(c){et(t,o,c)}}}catch(c){et(t,t.return,c)}if(t===e){me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,me=l;break}me=t.return}}var JP=Math.ceil,cu=Gn.ReactCurrentDispatcher,t0=Gn.ReactCurrentOwner,Dr=Gn.ReactCurrentBatchConfig,Ae=0,jt=null,ot=null,Tt=0,cr=0,Ka=Is(0),pt=0,Bo=null,fa=0,ud=0,r0=0,yo=null,Gt=null,n0=0,ci=1/0,Pn=null,uu=!1,vp=null,ys=null,tc=!1,ds=null,du=0,bo=0,yp=null,Oc=-1,Mc=0;function qt(){return Ae&6?st():Oc!==-1?Oc:Oc=st()}function bs(e){return e.mode&1?Ae&2&&Tt!==0?Tt&-Tt:DP.transition!==null?(Mc===0&&(Mc=Lj()),Mc):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:zj(e.type)),e):1}function tn(e,t,r,s){if(50<bo)throw bo=0,yp=null,Error(ae(185));dl(e,r,s),(!(Ae&2)||e!==jt)&&(e===jt&&(!(Ae&2)&&(ud|=r),pt===4&&ls(e,Tt)),rr(e,s),r===1&&Ae===0&&!(t.mode&1)&&(ci=st()+500,id&&Ds()))}function rr(e,t){var r=e.callbackNode;D3(e,t);var s=Gc(e,e===jt?Tt:0);if(s===0)r!==null&&_x(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&_x(r),t===1)e.tag===0?IP(Av.bind(null,e)):aw(Av.bind(null,e)),TP(function(){!(Ae&6)&&Ds()}),r=null;else{switch(Ij(s)){case 1:r=Eh;break;case 4:r=Oj;break;case 16:r=Kc;break;case 536870912:r=Mj;break;default:r=Kc}r=nN(r,Qw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Qw(e,t){if(Oc=-1,Mc=0,Ae&6)throw Error(ae(327));var r=e.callbackNode;if(ei()&&e.callbackNode!==r)return null;var s=Gc(e,e===jt?Tt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=mu(e,s);else{t=s;var a=Ae;Ae|=2;var i=Jw();(jt!==e||Tt!==t)&&(Pn=null,ci=st()+500,na(e,t));do try{t6();break}catch(l){Xw(e,l)}while(!0);Bh(),cu.current=i,Ae=a,ot!==null?t=0:(jt=null,Tt=0,t=pt)}if(t!==0){if(t===2&&(a=Wf(e),a!==0&&(s=a,t=bp(e,a))),t===1)throw r=Bo,na(e,0),ls(e,s),rr(e,st()),r;if(t===6)ls(e,s);else{if(a=e.current.alternate,!(s&30)&&!ZP(a)&&(t=mu(e,s),t===2&&(i=Wf(e),i!==0&&(s=i,t=bp(e,i))),t===1))throw r=Bo,na(e,0),ls(e,s),rr(e,st()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(ae(345));case 2:Hs(e,Gt,Pn);break;case 3:if(ls(e,s),(s&130023424)===s&&(t=n0+500-st(),10<t)){if(Gc(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){qt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ep(Hs.bind(null,e,Gt,Pn),t);break}Hs(e,Gt,Pn);break;case 4:if(ls(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-en(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=st()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*JP(s/1960))-s,10<s){e.timeoutHandle=ep(Hs.bind(null,e,Gt,Pn),s);break}Hs(e,Gt,Pn);break;case 5:Hs(e,Gt,Pn);break;default:throw Error(ae(329))}}}return rr(e,st()),e.callbackNode===r?Qw.bind(null,e):null}function bp(e,t){var r=yo;return e.current.memoizedState.isDehydrated&&(na(e,t).flags|=256),e=mu(e,t),e!==2&&(t=Gt,Gt=r,t!==null&&jp(t)),e}function jp(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function ZP(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!nn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ls(e,t){for(t&=~r0,t&=~ud,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-en(t),s=1<<r;e[r]=-1,t&=~s}}function Av(e){if(Ae&6)throw Error(ae(327));ei();var t=Gc(e,0);if(!(t&1))return rr(e,st()),null;var r=mu(e,t);if(e.tag!==0&&r===2){var s=Wf(e);s!==0&&(t=s,r=bp(e,s))}if(r===1)throw r=Bo,na(e,0),ls(e,t),rr(e,st()),r;if(r===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hs(e,Gt,Pn),rr(e,st()),null}function s0(e,t){var r=Ae;Ae|=1;try{return e(t)}finally{Ae=r,Ae===0&&(ci=st()+500,id&&Ds())}}function pa(e){ds!==null&&ds.tag===0&&!(Ae&6)&&ei();var t=Ae;Ae|=1;var r=Dr.transition,s=Oe;try{if(Dr.transition=null,Oe=1,e)return e()}finally{Oe=s,Dr.transition=r,Ae=t,!(Ae&6)&&Ds()}}function a0(){cr=Ka.current,Be(Ka)}function na(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,EP(r)),ot!==null)for(r=ot.return;r!==null;){var s=r;switch($h(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Zc();break;case 3:oi(),Be(er),Be(Ft),Gh();break;case 5:Kh(s);break;case 4:oi();break;case 13:Be(Ge);break;case 19:Be(Ge);break;case 10:qh(s.type._context);break;case 22:case 23:a0()}r=r.return}if(jt=e,ot=e=js(e.current,null),Tt=cr=t,pt=0,Bo=null,r0=ud=fa=0,Gt=yo=null,Js!==null){for(t=0;t<Js.length;t++)if(r=Js[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}Js=null}return e}function Xw(e,t){do{var r=ot;try{if(Bh(),Ac.current=lu,ou){for(var s=Ye.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ou=!1}if(ma=0,bt=ft=Ye=null,xo=!1,$o=0,t0.current=null,r===null||r.return===null){pt=1,Bo=t,ot=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Tt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=hv(o);if(p!==null){p.flags&=-257,gv(p,o,l,i,t),p.mode&1&&pv(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var b=new Set;b.add(c),t.updateQueue=b}else g.add(c);break e}else{if(!(t&1)){pv(i,u,t),i0();break e}c=Error(ae(426))}}else if(He&&l.mode&1){var x=hv(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),gv(x,o,l,i,t),zh(li(c,l));break e}}i=c=li(c,l),pt!==4&&(pt=2),yo===null?yo=[i]:yo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Iw(i,c,t);lv(i,v);break e;case 1:l=c;var y=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ys===null||!ys.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Dw(i,l,t);lv(i,w);break e}}i=i.return}while(i!==null)}eN(r)}catch(N){t=N,ot===r&&r!==null&&(ot=r=r.return);continue}break}while(!0)}function Jw(){var e=cu.current;return cu.current=lu,e===null?lu:e}function i0(){(pt===0||pt===3||pt===2)&&(pt=4),jt===null||!(fa&268435455)&&!(ud&268435455)||ls(jt,Tt)}function mu(e,t){var r=Ae;Ae|=2;var s=Jw();(jt!==e||Tt!==t)&&(Pn=null,na(e,t));do try{e6();break}catch(a){Xw(e,a)}while(!0);if(Bh(),Ae=r,cu.current=s,ot!==null)throw Error(ae(261));return jt=null,Tt=0,pt}function e6(){for(;ot!==null;)Zw(ot)}function t6(){for(;ot!==null&&!P3();)Zw(ot)}function Zw(e){var t=rN(e.alternate,e,cr);e.memoizedProps=e.pendingProps,t===null?eN(e):ot=t,t0.current=null}function eN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=GP(r,t),r!==null){r.flags&=32767,ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ot=null;return}}else if(r=KP(r,t,cr),r!==null){ot=r;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);pt===0&&(pt=5)}function Hs(e,t,r){var s=Oe,a=Dr.transition;try{Dr.transition=null,Oe=1,r6(e,t,r,s)}finally{Dr.transition=a,Oe=s}return null}function r6(e,t,r,s){do ei();while(ds!==null);if(Ae&6)throw Error(ae(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(_3(e,i),e===jt&&(ot=jt=null,Tt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tc||(tc=!0,nN(Kc,function(){return ei(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Dr.transition,Dr.transition=null;var o=Oe;Oe=1;var l=Ae;Ae|=4,t0.current=null,QP(e,r),Gw(r,e),wP(Jf),Yc=!!Xf,Jf=Xf=null,e.current=r,XP(r),k3(),Ae=l,Oe=o,Dr.transition=i}else e.current=r;if(tc&&(tc=!1,ds=e,du=a),i=e.pendingLanes,i===0&&(ys=null),T3(r.stateNode),rr(e,st()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(uu)throw uu=!1,e=vp,vp=null,e;return du&1&&e.tag!==0&&ei(),i=e.pendingLanes,i&1?e===yp?bo++:(bo=0,yp=e):bo=0,Ds(),null}function ei(){if(ds!==null){var e=Ij(du),t=Dr.transition,r=Oe;try{if(Dr.transition=null,Oe=16>e?16:e,ds===null)var s=!1;else{if(e=ds,ds=null,du=0,Ae&6)throw Error(ae(331));var a=Ae;for(Ae|=4,me=e.current;me!==null;){var i=me,o=i.child;if(me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(me=u;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:vo(8,d,i)}var m=d.child;if(m!==null)m.return=d,me=m;else for(;me!==null;){d=me;var f=d.sibling,p=d.return;if(Hw(d),d===u){me=null;break}if(f!==null){f.return=p,me=f;break}me=p}}}var g=i.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,me=o;else e:for(;me!==null;){if(i=me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,me=v;break e}me=i.return}}var y=e.current;for(me=y;me!==null;){o=me;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,me=j;else e:for(o=y;me!==null;){if(l=me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cd(9,l)}}catch(N){et(l,l.return,N)}if(l===o){me=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,me=w;break e}me=l.return}}if(Ae=a,Ds(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(td,e)}catch{}s=!0}return s}finally{Oe=r,Dr.transition=t}}return!1}function Ev(e,t,r){t=li(r,t),t=Iw(e,t,1),e=vs(e,t,1),t=qt(),e!==null&&(dl(e,1,t),rr(e,t))}function et(e,t,r){if(e.tag===3)Ev(e,e,r);else for(;t!==null;){if(t.tag===3){Ev(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ys===null||!ys.has(s))){e=li(r,e),e=Dw(t,e,1),t=vs(t,e,1),e=qt(),t!==null&&(dl(t,1,e),rr(t,e));break}}t=t.return}}function n6(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=qt(),e.pingedLanes|=e.suspendedLanes&r,jt===e&&(Tt&r)===r&&(pt===4||pt===3&&(Tt&130023424)===Tt&&500>st()-n0?na(e,0):r0|=r),rr(e,t)}function tN(e,t){t===0&&(e.mode&1?(t=Hl,Hl<<=1,!(Hl&130023424)&&(Hl=4194304)):t=1);var r=qt();e=Fn(e,t),e!==null&&(dl(e,t,r),rr(e,r))}function s6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),tN(e,r)}function a6(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(ae(314))}s!==null&&s.delete(t),tN(e,r)}var rN;rN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||er.current)Yt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Yt=!1,WP(e,t,r);Yt=!!(e.flags&131072)}else Yt=!1,He&&t.flags&1048576&&iw(t,ru,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Tc(e,t),e=t.pendingProps;var a=si(t,Ft.current);Za(t,r),a=Qh(null,t,s,e,a,r);var i=Xh();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tr(s)?(i=!0,eu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Hh(t),a.updater=ld,t.stateNode=a,a._reactInternals=t,op(t,s,e,r),t=up(null,t,s,!0,i,r)):(t.tag=0,He&&i&&Fh(t),zt(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Tc(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=o6(s),e=Gr(s,e),a){case 0:t=cp(null,t,s,e,r);break e;case 1:t=yv(null,t,s,e,r);break e;case 11:t=xv(null,t,s,e,r);break e;case 14:t=vv(null,t,s,Gr(s.type,e),r);break e}throw Error(ae(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Gr(s,a),cp(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Gr(s,a),yv(e,t,s,a,r);case 3:e:{if($w(t),e===null)throw Error(ae(387));s=t.pendingProps,i=t.memoizedState,a=i.element,mw(e,t),au(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=li(Error(ae(423)),t),t=bv(e,t,s,r,a);break e}else if(s!==a){a=li(Error(ae(424)),t),t=bv(e,t,s,r,a);break e}else for(fr=xs(t.stateNode.containerInfo.firstChild),pr=t,He=!0,Qr=null,r=uw(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ai(),s===a){t=$n(e,t,r);break e}zt(e,t,s,r)}t=t.child}return t;case 5:return fw(t),e===null&&sp(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Zf(s,a)?o=null:i!==null&&Zf(s,i)&&(t.flags|=32),Fw(e,t),zt(e,t,o,r),t.child;case 6:return e===null&&sp(t),null;case 13:return zw(e,t,r);case 4:return Wh(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ii(t,null,s,r):zt(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Gr(s,a),xv(e,t,s,a,r);case 7:return zt(e,t,t.pendingProps,r),t.child;case 8:return zt(e,t,t.pendingProps.children,r),t.child;case 12:return zt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Fe(nu,s._currentValue),s._currentValue=o,i!==null)if(nn(i.value,o)){if(i.children===a.children&&!er.current){t=$n(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Ln(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ap(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ae(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ap(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}zt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Za(t,r),a=Rr(a),s=s(a),t.flags|=1,zt(e,t,s,r),t.child;case 14:return s=t.type,a=Gr(s,t.pendingProps),a=Gr(s.type,a),vv(e,t,s,a,r);case 15:return _w(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Gr(s,a),Tc(e,t),t.tag=1,tr(s)?(e=!0,eu(t)):e=!1,Za(t,r),Lw(t,s,a),op(t,s,a,r),up(null,t,s,!0,e,r);case 19:return Uw(e,t,r);case 22:return Rw(e,t,r)}throw Error(ae(156,t.tag))};function nN(e,t){return Tj(e,t)}function i6(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,r,s){return new i6(e,t,r,s)}function o0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function o6(e){if(typeof e=="function")return o0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ph)return 11;if(e===kh)return 14}return 2}function js(e,t){var r=e.alternate;return r===null?(r=Mr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lc(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")o0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ra:return sa(r.children,a,i,t);case Ch:o=8,a|=8;break;case Of:return e=Mr(12,r,t,a|2),e.elementType=Of,e.lanes=i,e;case Mf:return e=Mr(13,r,t,a),e.elementType=Mf,e.lanes=i,e;case Lf:return e=Mr(19,r,t,a),e.elementType=Lf,e.lanes=i,e;case fj:return dd(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dj:o=10;break e;case mj:o=9;break e;case Ph:o=11;break e;case kh:o=14;break e;case ss:o=16,s=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=Mr(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function sa(e,t,r,s){return e=Mr(7,e,s,t),e.lanes=r,e}function dd(e,t,r,s){return e=Mr(22,e,s,t),e.elementType=fj,e.lanes=r,e.stateNode={isHidden:!1},e}function Ym(e,t,r){return e=Mr(6,e,null,t),e.lanes=r,e}function Qm(e,t,r){return t=Mr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function l6(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tm(0),this.expirationTimes=Tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tm(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function l0(e,t,r,s,a,i,o,l,c){return e=new l6(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Mr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hh(i),e}function c6(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function sN(e){if(!e)return As;e=e._reactInternals;e:{if(ka(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var r=e.type;if(tr(r))return sw(e,r,t)}return t}function aN(e,t,r,s,a,i,o,l,c){return e=l0(r,s,!0,e,a,i,o,l,c),e.context=sN(null),r=e.current,s=qt(),a=bs(r),i=Ln(s,a),i.callback=t??null,vs(r,i,a),e.current.lanes=a,dl(e,a,s),rr(e,s),e}function md(e,t,r,s){var a=t.current,i=qt(),o=bs(a);return r=sN(r),t.context===null?t.context=r:t.pendingContext=r,t=Ln(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=vs(a,t,o),e!==null&&(tn(e,a,o,i),kc(e,a,o)),o}function fu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function c0(e,t){Tv(e,t),(e=e.alternate)&&Tv(e,t)}function u6(){return null}var iN=typeof reportError=="function"?reportError:function(e){console.error(e)};function u0(e){this._internalRoot=e}fd.prototype.render=u0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));md(e,t,null,null)};fd.prototype.unmount=u0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pa(function(){md(null,e,null,null)}),t[Rn]=null}};function fd(e){this._internalRoot=e}fd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<os.length&&t!==0&&t<os[r].priority;r++);os.splice(r,0,e),r===0&&$j(e)}};function d0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ov(){}function d6(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var u=fu(o);i.call(u)}}var o=aN(t,s,e,0,null,!1,!1,"",Ov);return e._reactRootContainer=o,e[Rn]=o.current,Io(e.nodeType===8?e.parentNode:e),pa(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var u=fu(c);l.call(u)}}var c=l0(e,0,!1,null,null,!1,!1,"",Ov);return e._reactRootContainer=c,e[Rn]=c.current,Io(e.nodeType===8?e.parentNode:e),pa(function(){md(t,c,r,s)}),c}function hd(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=fu(o);l.call(c)}}md(t,o,e,a)}else o=d6(r,t,e,a,s);return fu(o)}Dj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=io(t.pendingLanes);r!==0&&(Th(t,r|1),rr(t,st()),!(Ae&6)&&(ci=st()+500,Ds()))}break;case 13:pa(function(){var s=Fn(e,1);if(s!==null){var a=qt();tn(s,e,1,a)}}),c0(e,1)}};Oh=function(e){if(e.tag===13){var t=Fn(e,134217728);if(t!==null){var r=qt();tn(t,e,134217728,r)}c0(e,134217728)}};_j=function(e){if(e.tag===13){var t=bs(e),r=Fn(e,t);if(r!==null){var s=qt();tn(r,e,t,s)}c0(e,t)}};Rj=function(){return Oe};Fj=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}};qf=function(e,t,r){switch(t){case"input":if(_f(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=ad(s);if(!a)throw Error(ae(90));hj(s),_f(s,a)}}}break;case"textarea":xj(e,r);break;case"select":t=r.value,t!=null&&Ya(e,!!r.multiple,t,!1)}};Sj=s0;Cj=pa;var m6={usingClientEntryPoint:!1,Events:[fl,Ua,ad,wj,Nj,s0]},Yi={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f6={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Aj(e),e===null?null:e.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||u6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{td=rc.inject(f6),gn=rc}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m6;wr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d0(t))throw Error(ae(200));return c6(e,t,null,r)};wr.createRoot=function(e,t){if(!d0(e))throw Error(ae(299));var r=!1,s="",a=iN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=l0(e,1,!1,null,null,r,!1,s,a),e[Rn]=t.current,Io(e.nodeType===8?e.parentNode:e),new u0(t)};wr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=Aj(t),e=e===null?null:e.stateNode,e};wr.flushSync=function(e){return pa(e)};wr.hydrate=function(e,t,r){if(!pd(t))throw Error(ae(200));return hd(null,e,t,!0,r)};wr.hydrateRoot=function(e,t,r){if(!d0(e))throw Error(ae(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=iN;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=aN(t,null,e,1,r??null,a,!1,i,o),e[Rn]=t.current,Io(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new fd(t)};wr.render=function(e,t,r){if(!pd(t))throw Error(ae(200));return hd(null,e,t,!1,r)};wr.unmountComponentAtNode=function(e){if(!pd(e))throw Error(ae(40));return e._reactRootContainer?(pa(function(){hd(null,null,e,!1,function(){e._reactRootContainer=null,e[Rn]=null})}),!0):!1};wr.unstable_batchedUpdates=s0;wr.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!pd(r))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return hd(e,t,r,!1,s)};wr.version="18.3.1-next-f1338f8080-20240426";function oN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oN)}catch(e){console.error(e)}}oN(),oj.exports=wr;var lN=oj.exports,Mv=lN;Ef.createRoot=Mv.createRoot,Ef.hydrateRoot=Mv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},qo.apply(this,arguments)}var ms;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ms||(ms={}));const Lv="popstate";function p6(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return wp("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:pu(a)}return g6(t,r,null,e)}function at(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function h6(){return Math.random().toString(36).substr(2,8)}function Iv(e,t){return{usr:e.state,key:e.key,idx:t}}function wp(e,t,r,s){return r===void 0&&(r=null),qo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ni(t):t,{state:r,key:t&&t.key||s||h6()})}function pu(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ni(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function g6(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=ms.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(qo({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=ms.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:b.location,delta:v})}function f(x,v){l=ms.Push;let y=wp(b.location,x,v);u=d()+1;let j=Iv(y,u),w=b.createHref(y);try{o.pushState(j,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(w)}i&&c&&c({action:l,location:b.location,delta:1})}function p(x,v){l=ms.Replace;let y=wp(b.location,x,v);u=d();let j=Iv(y,u),w=b.createHref(y);o.replaceState(j,"",w),i&&c&&c({action:l,location:b.location,delta:0})}function g(x){let v=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof x=="string"?x:pu(x);return y=y.replace(/ $/,"%20"),at(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let b={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Lv,m),c=x,()=>{a.removeEventListener(Lv,m),c=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(x){return o.go(x)}};return b}var Dv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Dv||(Dv={}));function x6(e,t,r){return r===void 0&&(r="/"),v6(e,t,r)}function v6(e,t,r,s){let a=typeof t=="string"?Ni(t):t,i=m0(a.pathname||"/",r);if(i==null)return null;let o=uN(e);y6(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=O6(i);l=A6(o[c],u)}return l}function uN(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(at(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=ws([s,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uN(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:P6(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of dN(i.path))a(i,o,c)}),t}function dN(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=dN(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function y6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:k6(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const b6=/^:[\w-]+$/,j6=3,w6=2,N6=1,S6=10,C6=-2,_v=e=>e==="*";function P6(e,t){let r=e.split("/"),s=r.length;return r.some(_v)&&(s+=C6),t&&(s+=w6),r.filter(a=>!_v(a)).reduce((a,i)=>a+(b6.test(i)?j6:i===""?N6:S6),s)}function k6(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function A6(e,t,r){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=i==="/"?t:t.slice(i.length)||"/",m=E6({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:ws([i,m.pathname]),pathnameBase:D6(ws([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=ws([i,m.pathnameBase]))}return o}function E6(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=T6(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((u,d,m)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let b=l[m]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=l[m];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function T6(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),cN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function O6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function m0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function M6(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Ni(e):e;return{pathname:r?r.startsWith("/")?r:L6(r,t):t,search:_6(s),hash:R6(a)}}function L6(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Xm(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function f0(e,t){let r=I6(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function p0(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Ni(e):(a=qo({},e),at(!a.pathname||!a.pathname.includes("?"),Xm("?","pathname","search",a)),at(!a.pathname||!a.pathname.includes("#"),Xm("#","pathname","hash",a)),at(!a.search||!a.search.includes("#"),Xm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;a.pathname=f.join("/")}l=m>=0?t[m]:"/"}let c=M6(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ws=e=>e.join("/").replace(/\/\/+/g,"/"),D6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,R6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function F6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mN=["post","put","patch","delete"];new Set(mN);const $6=["get",...mN];new Set($6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Vo.apply(this,arguments)}const h0=h.createContext(null),z6=h.createContext(null),_s=h.createContext(null),gd=h.createContext(null),Yn=h.createContext({outlet:null,matches:[],isDataRoute:!1}),fN=h.createContext(null);function U6(e,t){let{relative:r}=t===void 0?{}:t;Si()||at(!1);let{basename:s,navigator:a}=h.useContext(_s),{hash:i,pathname:o,search:l}=gN(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:ws([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Si(){return h.useContext(gd)!=null}function Mt(){return Si()||at(!1),h.useContext(gd).location}function pN(e){h.useContext(_s).static||h.useLayoutEffect(e)}function mt(){let{isDataRoute:e}=h.useContext(Yn);return e?ek():B6()}function B6(){Si()||at(!1);let e=h.useContext(h0),{basename:t,future:r,navigator:s}=h.useContext(_s),{matches:a}=h.useContext(Yn),{pathname:i}=Mt(),o=JSON.stringify(f0(a,r.v7_relativeSplatPath)),l=h.useRef(!1);return pN(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let m=p0(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ws([t,m.pathname])),(d.replace?s.replace:s.push)(m,d.state,d)},[t,s,o,i,e])}function hN(){let{matches:e}=h.useContext(Yn),t=e[e.length-1];return t?t.params:{}}function gN(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=h.useContext(_s),{matches:a}=h.useContext(Yn),{pathname:i}=Mt(),o=JSON.stringify(f0(a,s.v7_relativeSplatPath));return h.useMemo(()=>p0(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function q6(e,t){return V6(e,t)}function V6(e,t,r,s){Si()||at(!1);let{navigator:a}=h.useContext(_s),{matches:i}=h.useContext(Yn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Mt(),d;if(t){var m;let x=typeof t=="string"?Ni(t):t;c==="/"||(m=x.pathname)!=null&&m.startsWith(c)||at(!1),d=x}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=x6(e,{pathname:p}),b=Y6(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ws([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:ws([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,s);return t&&b?h.createElement(gd.Provider,{value:{location:Vo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ms.Pop}},b):b}function H6(){let e=Z6(),t=F6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:a},r):null,null)}const W6=h.createElement(H6,null);class K6 extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Yn.Provider,{value:this.props.routeContext},h.createElement(fN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G6(e){let{routeContext:t,match:r,children:s}=e,a=h.useContext(h0);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Yn.Provider,{value:t},s)}function Y6(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:f,errors:p}=r,g=m.route.loader&&f[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,m,f)=>{let p,g=!1,b=null,x=null;r&&(p=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||W6,c&&(u<0&&f===0?(tk("route-fallback"),g=!0,x=null):u===f&&(g=!0,x=m.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),y=()=>{let j;return p?j=b:g?j=x:m.route.Component?j=h.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=d,h.createElement(G6,{match:m,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?h.createElement(K6,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var xN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xN||{}),vN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vN||{});function Q6(e){let t=h.useContext(h0);return t||at(!1),t}function X6(e){let t=h.useContext(z6);return t||at(!1),t}function J6(e){let t=h.useContext(Yn);return t||at(!1),t}function yN(e){let t=J6(),r=t.matches[t.matches.length-1];return r.route.id||at(!1),r.route.id}function Z6(){var e;let t=h.useContext(fN),r=X6(),s=yN();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function ek(){let{router:e}=Q6(xN.UseNavigateStable),t=yN(vN.UseNavigateStable),r=h.useRef(!1);return pN(()=>{r.current=!0}),h.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Vo({fromRouteId:t},i)))},[e,t])}const Rv={};function tk(e,t,r){Rv[e]||(Rv[e]=!0)}function rk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function nk(e){let{to:t,replace:r,state:s,relative:a}=e;Si()||at(!1);let{future:i,static:o}=h.useContext(_s),{matches:l}=h.useContext(Yn),{pathname:c}=Mt(),u=mt(),d=p0(t,f0(l,i.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(m),{replace:r,state:s,relative:a}),[u,m,a,r,s]),null}function ye(e){at(!1)}function sk(e){let{basename:t="/",children:r=null,location:s,navigationType:a=ms.Pop,navigator:i,static:o=!1,future:l}=e;Si()&&at(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:i,static:o,future:Vo({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Ni(s));let{pathname:d="/",search:m="",hash:f="",state:p=null,key:g="default"}=s,b=h.useMemo(()=>{let x=m0(d,c);return x==null?null:{location:{pathname:x,search:m,hash:f,state:p,key:g},navigationType:a}},[c,d,m,f,p,g,a]);return b==null?null:h.createElement(_s.Provider,{value:u},h.createElement(gd.Provider,{children:r,value:b}))}function ak(e){let{children:t,location:r}=e;return q6(Np(t),r)}new Promise(()=>{});function Np(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(s,a)=>{if(!h.isValidElement(s))return;let i=[...t,a];if(s.type===h.Fragment){r.push.apply(r,Np(s.props.children,i));return}s.type!==ye&&at(!1),!s.props.index||!s.props.children||at(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Np(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Sp.apply(this,arguments)}function ik(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ok(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lk(e,t){return e.button===0&&(!t||t==="_self")&&!ok(e)}const ck=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uk="6";try{window.__reactRouterVersion=uk}catch{}const dk="startTransition",Fv=aj[dk];function mk(e){let{basename:t,children:r,future:s,window:a}=e,i=h.useRef();i.current==null&&(i.current=p6({window:a,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=h.useCallback(m=>{u&&Fv?Fv(()=>c(m)):c(m)},[c,u]);return h.useLayoutEffect(()=>o.listen(d),[o,d]),h.useEffect(()=>rk(s),[s]),h.createElement(sk,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const fk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=h.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:m}=t,f=ik(t,ck),{basename:p}=h.useContext(_s),g,b=!1;if(typeof u=="string"&&pk.test(u)&&(g=u,fk))try{let j=new URL(window.location.href),w=u.startsWith("//")?new URL(j.protocol+u):new URL(u),N=m0(w.pathname,p);w.origin===j.origin&&N!=null?u=N+w.search+w.hash:b=!0}catch{}let x=U6(u,{relative:a}),v=hk(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:m});function y(j){s&&s(j),j.defaultPrevented||v(j)}return h.createElement("a",Sp({},f,{href:g||x,onClick:b||i?s:y,ref:r,target:c}))});var $v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($v||($v={}));var zv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zv||(zv={}));function hk(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=mt(),u=Mt(),d=gN(e,{relative:o});return h.useCallback(m=>{if(lk(m,r)){m.preventDefault();let f=s!==void 0?s:pu(u)===pu(d);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,s,a,r,e,i,o,l])}function bN(e,t){return function(){return e.apply(t,arguments)}}const{toString:gk}=Object.prototype,{getPrototypeOf:g0}=Object,{iterator:xd,toStringTag:jN}=Symbol,vd=(e=>t=>{const r=gk.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),on=e=>(e=e.toLowerCase(),t=>vd(t)===e),yd=e=>t=>typeof t===e,{isArray:Ci}=Array,ui=yd("undefined");function hl(e){return e!==null&&!ui(e)&&e.constructor!==null&&!ui(e.constructor)&&nr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const wN=on("ArrayBuffer");function xk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&wN(e.buffer),t}const vk=yd("string"),nr=yd("function"),NN=yd("number"),gl=e=>e!==null&&typeof e=="object",yk=e=>e===!0||e===!1,Ic=e=>{if(vd(e)!=="object")return!1;const t=g0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(jN in e)&&!(xd in e)},bk=e=>{if(!gl(e)||hl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},jk=on("Date"),wk=on("File"),Nk=on("Blob"),Sk=on("FileList"),Ck=e=>gl(e)&&nr(e.pipe),Pk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||nr(e.append)&&((t=vd(e))==="formdata"||t==="object"&&nr(e.toString)&&e.toString()==="[object FormData]"))},kk=on("URLSearchParams"),[Ak,Ek,Tk,Ok]=["ReadableStream","Request","Response","Headers"].map(on),Mk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xl(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Ci(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(hl(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],t.call(null,e[l],l,e)}}function SN(e,t){if(hl(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const ea=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,CN=e=>!ui(e)&&e!==ea;function Cp(){const{caseless:e,skipUndefined:t}=CN(this)&&this||{},r={},s=(a,i)=>{const o=e&&SN(r,i)||i;Ic(r[o])&&Ic(a)?r[o]=Cp(r[o],a):Ic(a)?r[o]=Cp({},a):Ci(a)?r[o]=a.slice():(!t||!ui(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&xl(arguments[a],s);return r}const Lk=(e,t,r,{allOwnKeys:s}={})=>(xl(t,(a,i)=>{r&&nr(a)?e[i]=bN(a,r):e[i]=a},{allOwnKeys:s}),e),Ik=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Dk=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},_k=(e,t,r,s)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&g0(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Rk=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Fk=e=>{if(!e)return null;if(Ci(e))return e;let t=e.length;if(!NN(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},$k=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&g0(Uint8Array)),zk=(e,t)=>{const s=(e&&e[xd]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Uk=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},Bk=on("HTMLFormElement"),qk=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),Uv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Vk=on("RegExp"),PN=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};xl(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},Hk=e=>{PN(e,(t,r)=>{if(nr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(nr(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Wk=(e,t)=>{const r={},s=a=>{a.forEach(i=>{r[i]=!0})};return Ci(e)?s(e):s(String(e).split(t)),r},Kk=()=>{},Gk=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Yk(e){return!!(e&&nr(e.append)&&e[jN]==="FormData"&&e[xd])}const Qk=e=>{const t=new Array(10),r=(s,a)=>{if(gl(s)){if(t.indexOf(s)>=0)return;if(hl(s))return s;if(!("toJSON"in s)){t[a]=s;const i=Ci(s)?[]:{};return xl(s,(o,l)=>{const c=r(o,a+1);!ui(c)&&(i[l]=c)}),t[a]=void 0,i}}return s};return r(e,0)},Xk=on("AsyncFunction"),Jk=e=>e&&(gl(e)||nr(e))&&nr(e.then)&&nr(e.catch),kN=((e,t)=>e?setImmediate:t?((r,s)=>(ea.addEventListener("message",({source:a,data:i})=>{a===ea&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),ea.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",nr(ea.postMessage)),Zk=typeof queueMicrotask<"u"?queueMicrotask.bind(ea):typeof process<"u"&&process.nextTick||kN,eA=e=>e!=null&&nr(e[xd]),Y={isArray:Ci,isArrayBuffer:wN,isBuffer:hl,isFormData:Pk,isArrayBufferView:xk,isString:vk,isNumber:NN,isBoolean:yk,isObject:gl,isPlainObject:Ic,isEmptyObject:bk,isReadableStream:Ak,isRequest:Ek,isResponse:Tk,isHeaders:Ok,isUndefined:ui,isDate:jk,isFile:wk,isBlob:Nk,isRegExp:Vk,isFunction:nr,isStream:Ck,isURLSearchParams:kk,isTypedArray:$k,isFileList:Sk,forEach:xl,merge:Cp,extend:Lk,trim:Mk,stripBOM:Ik,inherits:Dk,toFlatObject:_k,kindOf:vd,kindOfTest:on,endsWith:Rk,toArray:Fk,forEachEntry:zk,matchAll:Uk,isHTMLForm:Bk,hasOwnProperty:Uv,hasOwnProp:Uv,reduceDescriptors:PN,freezeMethods:Hk,toObjectSet:Wk,toCamelCase:qk,noop:Kk,toFiniteNumber:Gk,findKey:SN,global:ea,isContextDefined:CN,isSpecCompliantForm:Yk,toJSONObject:Qk,isAsyncFn:Xk,isThenable:Jk,setImmediate:kN,asap:Zk,isIterable:eA};function be(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Y.inherits(be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const AN=be.prototype,EN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{EN[e]={value:e}});Object.defineProperties(be,EN);Object.defineProperty(AN,"isAxiosError",{value:!0});be.from=(e,t,r,s,a,i)=>{const o=Object.create(AN);Y.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return be.call(o,l,c,r,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const tA=null;function Pp(e){return Y.isPlainObject(e)||Y.isArray(e)}function TN(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function Bv(e,t,r){return e?e.concat(t).map(function(a,i){return a=TN(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function rA(e){return Y.isArray(e)&&!e.some(Pp)}const nA=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function bd(e,t,r){if(!Y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,x){return!Y.isUndefined(x[b])});const s=r.metaTokens,a=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Y.isDate(g))return g.toISOString();if(Y.isBoolean(g))return g.toString();if(!c&&Y.isBlob(g))throw new be("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(g)||Y.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,b,x){let v=g;if(g&&!x&&typeof g=="object"){if(Y.endsWith(b,"{}"))b=s?b:b.slice(0,-2),g=JSON.stringify(g);else if(Y.isArray(g)&&rA(g)||(Y.isFileList(g)||Y.endsWith(b,"[]"))&&(v=Y.toArray(g)))return b=TN(b),v.forEach(function(j,w){!(Y.isUndefined(j)||j===null)&&t.append(o===!0?Bv([b],w,i):o===null?b:b+"[]",u(j))}),!1}return Pp(g)?!0:(t.append(Bv(x,b,i),u(g)),!1)}const m=[],f=Object.assign(nA,{defaultVisitor:d,convertValue:u,isVisitable:Pp});function p(g,b){if(!Y.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(g),Y.forEach(g,function(v,y){(!(Y.isUndefined(v)||v===null)&&a.call(t,v,Y.isString(y)?y.trim():y,b,f))===!0&&p(v,b?b.concat(y):[y])}),m.pop()}}if(!Y.isObject(e))throw new TypeError("data must be an object");return p(e),t}function qv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function x0(e,t){this._pairs=[],e&&bd(e,this,t)}const ON=x0.prototype;ON.append=function(t,r){this._pairs.push([t,r])};ON.toString=function(t){const r=t?function(s){return t.call(this,s,qv)}:qv;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function sA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function MN(e,t,r){if(!t)return e;const s=r&&r.encode||sA;Y.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=Y.isURLSearchParams(t)?t.toString():new x0(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Vv{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(s){s!==null&&t(s)})}}const LN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aA=typeof URLSearchParams<"u"?URLSearchParams:x0,iA=typeof FormData<"u"?FormData:null,oA=typeof Blob<"u"?Blob:null,lA={isBrowser:!0,classes:{URLSearchParams:aA,FormData:iA,Blob:oA},protocols:["http","https","file","blob","url","data"]},v0=typeof window<"u"&&typeof document<"u",kp=typeof navigator=="object"&&navigator||void 0,cA=v0&&(!kp||["ReactNative","NativeScript","NS"].indexOf(kp.product)<0),uA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dA=v0&&window.location.href||"http://localhost",mA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:v0,hasStandardBrowserEnv:cA,hasStandardBrowserWebWorkerEnv:uA,navigator:kp,origin:dA},Symbol.toStringTag,{value:"Module"})),Rt={...mA,...lA};function fA(e,t){return bd(e,new Rt.classes.URLSearchParams,{visitor:function(r,s,a,i){return Rt.isNode&&Y.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function pA(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function hA(e){const t={},r=Object.keys(e);let s;const a=r.length;let i;for(s=0;s<a;s++)i=r[s],t[i]=e[i];return t}function IN(e){function t(r,s,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&Y.isArray(a)?a.length:o,c?(Y.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!Y.isObject(a[o]))&&(a[o]=[]),t(r,s,a[o],i)&&Y.isArray(a[o])&&(a[o]=hA(a[o])),!l)}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const r={};return Y.forEachEntry(e,(s,a)=>{t(pA(s),a,r,0)}),r}return null}function gA(e,t,r){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const vl={transitional:LN,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=Y.isObject(t);if(i&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return a?JSON.stringify(IN(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)||Y.isReadableStream(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return fA(t,this.formSerializer).toString();if((l=Y.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return bd(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),gA(t)):t}],transformResponse:[function(t){const r=this.transitional||vl.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Y.isResponse(t)||Y.isReadableStream(t))return t;if(t&&Y.isString(t)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?be.from(l,be.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rt.classes.FormData,Blob:Rt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{vl.headers[e]={}});const xA=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vA=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||t[r]&&xA[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},Hv=Symbol("internals");function Qi(e){return e&&String(e).trim().toLowerCase()}function Dc(e){return e===!1||e==null?e:Y.isArray(e)?e.map(Dc):String(e)}function yA(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const bA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Jm(e,t,r,s,a){if(Y.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!Y.isString(t)){if(Y.isString(s))return t.indexOf(s)!==-1;if(Y.isRegExp(s))return s.test(t)}}function jA(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function wA(e,t){const r=Y.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}let sr=class{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function i(l,c,u){const d=Qi(c);if(!d)throw new Error("header name must be a non-empty string");const m=Y.findKey(a,d);(!m||a[m]===void 0||u===!0||u===void 0&&a[m]!==!1)&&(a[m||c]=Dc(l))}const o=(l,c)=>Y.forEach(l,(u,d)=>i(u,d,c));if(Y.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Y.isString(t)&&(t=t.trim())&&!bA(t))o(vA(t),r);else if(Y.isObject(t)&&Y.isIterable(t)){let l={},c,u;for(const d of t){if(!Y.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Y.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=Qi(t),t){const s=Y.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return yA(a);if(Y.isFunction(r))return r.call(this,a,s);if(Y.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Qi(t),t){const s=Y.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Jm(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function i(o){if(o=Qi(o),o){const l=Y.findKey(s,o);l&&(!r||Jm(s,s[l],l,r))&&(delete s[l],a=!0)}}return Y.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const i=r[s];(!t||Jm(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,s={};return Y.forEach(this,(a,i)=>{const o=Y.findKey(s,i);if(o){r[o]=Dc(a),delete r[i];return}const l=t?jA(i):String(i).trim();l!==i&&delete r[i],r[l]=Dc(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Y.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&Y.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[Hv]=this[Hv]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Qi(o);s[l]||(wA(a,o),s[l]=!0)}return Y.isArray(t)?t.forEach(i):i(t),this}};sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(sr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});Y.freezeMethods(sr);function Zm(e,t){const r=this||vl,s=t||r,a=sr.from(s.headers);let i=s.data;return Y.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function DN(e){return!!(e&&e.__CANCEL__)}function Pi(e,t,r){be.call(this,e??"canceled",be.ERR_CANCELED,t,r),this.name="CanceledError"}Y.inherits(Pi,be,{__CANCEL__:!0});function _N(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new be("Request failed with status code "+r.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function NA(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function SA(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=s[i];o||(o=u),r[a]=c,s[a]=u;let m=i,f=0;for(;m!==a;)f+=r[m++],m=m%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function CA(e,t){let r=0,s=1e3/t,a,i;const o=(u,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),m=d-r;m>=s?o(u,d):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},s-m)))},()=>a&&o(a)]}const hu=(e,t,r=3)=>{let s=0;const a=SA(50,250);return CA(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,u=a(c),d=o<=l;s=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},Wv=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},Kv=e=>(...t)=>Y.asap(()=>e(...t)),PA=Rt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Rt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Rt.origin),Rt.navigator&&/(msie|trident)/i.test(Rt.navigator.userAgent)):()=>!0,kA=Rt.hasStandardBrowserEnv?{write(e,t,r,s,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Y.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Y.isString(s)&&l.push(`path=${s}`),Y.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),Y.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function AA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function EA(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function RN(e,t,r){let s=!AA(t);return e&&(s||r==!1)?EA(e,t):t}const Gv=e=>e instanceof sr?{...e}:e;function ha(e,t){t=t||{};const r={};function s(u,d,m,f){return Y.isPlainObject(u)&&Y.isPlainObject(d)?Y.merge.call({caseless:f},u,d):Y.isPlainObject(d)?Y.merge({},d):Y.isArray(d)?d.slice():d}function a(u,d,m,f){if(Y.isUndefined(d)){if(!Y.isUndefined(u))return s(void 0,u,m,f)}else return s(u,d,m,f)}function i(u,d){if(!Y.isUndefined(d))return s(void 0,d)}function o(u,d){if(Y.isUndefined(d)){if(!Y.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function l(u,d,m){if(m in t)return s(u,d);if(m in e)return s(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,m)=>a(Gv(u),Gv(d),m,!0)};return Y.forEach(Object.keys({...e,...t}),function(d){const m=c[d]||a,f=m(e[d],t[d],d);Y.isUndefined(f)&&m!==l||(r[d]=f)}),r}const FN=e=>{const t=ha({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=sr.from(o),t.url=MN(RN(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Y.isFormData(r)){if(Rt.hasStandardBrowserEnv||Rt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Y.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,m])=>{u.includes(d.toLowerCase())&&o.set(d,m)})}}if(Rt.hasStandardBrowserEnv&&(s&&Y.isFunction(s)&&(s=s(t)),s||s!==!1&&PA(t.url))){const c=a&&i&&kA.read(i);c&&o.set(a,c)}return t},TA=typeof XMLHttpRequest<"u",OA=TA&&function(e){return new Promise(function(r,s){const a=FN(e);let i=a.data;const o=sr.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,m,f,p,g;function b(){p&&p(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function v(){if(!x)return;const j=sr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:j,config:e,request:x};_N(function(P){r(P),b()},function(P){s(P),b()},N),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(s(new be("Request aborted",be.ECONNABORTED,e,x)),x=null)},x.onerror=function(w){const N=w&&w.message?w.message:"Network Error",S=new be(N,be.ERR_NETWORK,e,x);S.event=w||null,s(S),x=null},x.ontimeout=function(){let w=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||LN;a.timeoutErrorMessage&&(w=a.timeoutErrorMessage),s(new be(w,N.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&Y.forEach(o.toJSON(),function(w,N){x.setRequestHeader(N,w)}),Y.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),u&&([f,g]=hu(u,!0),x.addEventListener("progress",f)),c&&x.upload&&([m,p]=hu(c),x.upload.addEventListener("progress",m),x.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(d=j=>{x&&(s(!j||j.type?new Pi(null,e,x):j),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const y=NA(a.url);if(y&&Rt.protocols.indexOf(y)===-1){s(new be("Unsupported protocol "+y+":",be.ERR_BAD_REQUEST,e));return}x.send(i||null)})},MA=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;s.abort(d instanceof be?d:new Pi(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new be(`timeout ${t} of ms exceeded`,be.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>Y.asap(l),c}},LA=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},IA=async function*(e,t){for await(const r of DA(e))yield*LA(r,t)},DA=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},Yv=(e,t,r,s)=>{const a=IA(e,t);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let m=d.byteLength;if(r){let f=i+=m;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Qv=64*1024,{isFunction:nc}=Y,_A=(({Request:e,Response:t})=>({Request:e,Response:t}))(Y.global),{ReadableStream:Xv,TextEncoder:Jv}=Y.global,Zv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},RA=e=>{e=Y.merge.call({skipUndefined:!0},_A,e);const{fetch:t,Request:r,Response:s}=e,a=t?nc(t):typeof fetch=="function",i=nc(r),o=nc(s);if(!a)return!1;const l=a&&nc(Xv),c=a&&(typeof Jv=="function"?(g=>b=>g.encode(b))(new Jv):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=i&&l&&Zv(()=>{let g=!1;const b=new r(Rt.origin,{body:new Xv,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!b}),d=o&&l&&Zv(()=>Y.isReadableStream(new s("").body)),m={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!m[g]&&(m[g]=(b,x)=>{let v=b&&b[g];if(v)return v.call(b);throw new be(`Response type '${g}' is not supported`,be.ERR_NOT_SUPPORT,x)})});const f=async g=>{if(g==null)return 0;if(Y.isBlob(g))return g.size;if(Y.isSpecCompliantForm(g))return(await new r(Rt.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(g)||Y.isArrayBuffer(g))return g.byteLength;if(Y.isURLSearchParams(g)&&(g=g+""),Y.isString(g))return(await c(g)).byteLength},p=async(g,b)=>{const x=Y.toFiniteNumber(g.getContentLength());return x??f(b)};return async g=>{let{url:b,method:x,data:v,signal:y,cancelToken:j,timeout:w,onDownloadProgress:N,onUploadProgress:S,responseType:P,headers:C,withCredentials:E="same-origin",fetchOptions:O}=FN(g),I=t||fetch;P=P?(P+"").toLowerCase():"text";let M=MA([y,j&&j.toAbortSignal()],w),k=null;const A=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let B;try{if(S&&u&&x!=="get"&&x!=="head"&&(B=await p(C,v))!==0){let U=new r(b,{method:"POST",body:v,duplex:"half"}),q;if(Y.isFormData(v)&&(q=U.headers.get("content-type"))&&C.setContentType(q),U.body){const[te,W]=Wv(B,hu(Kv(S)));v=Yv(U.body,Qv,te,W)}}Y.isString(E)||(E=E?"include":"omit");const F=i&&"credentials"in r.prototype,D={...O,signal:M,method:x.toUpperCase(),headers:C.normalize().toJSON(),body:v,duplex:"half",credentials:F?E:void 0};k=i&&new r(b,D);let $=await(i?I(k,O):I(b,D));const z=d&&(P==="stream"||P==="response");if(d&&(N||z&&A)){const U={};["status","statusText","headers"].forEach(ie=>{U[ie]=$[ie]});const q=Y.toFiniteNumber($.headers.get("content-length")),[te,W]=N&&Wv(q,hu(Kv(N),!0))||[];$=new s(Yv($.body,Qv,te,()=>{W&&W(),A&&A()}),U)}P=P||"text";let K=await m[Y.findKey(m,P)||"text"]($,g);return!z&&A&&A(),await new Promise((U,q)=>{_N(U,q,{data:K,headers:sr.from($.headers),status:$.status,statusText:$.statusText,config:g,request:k})})}catch(F){throw A&&A(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new be("Network Error",be.ERR_NETWORK,g,k),{cause:F.cause||F}):be.from(F,F&&F.code,g,k)}}},FA=new Map,$N=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,i=[s,a,r];let o=i.length,l=o,c,u,d=FA;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:RA(t)),d=u;return u};$N();const y0={http:tA,xhr:OA,fetch:{get:$N}};Y.forEach(y0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ey=e=>`- ${e}`,$A=e=>Y.isFunction(e)||e===null||e===!1;function zA(e,t){e=Y.isArray(e)?e:[e];const{length:r}=e;let s,a;const i={};for(let o=0;o<r;o++){s=e[o];let l;if(a=s,!$A(s)&&(a=y0[(l=String(s)).toLowerCase()],a===void 0))throw new be(`Unknown adapter '${l}'`);if(a&&(Y.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(ey).join(`
`):" "+ey(o[0]):"as no adapter specified";throw new be("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const zN={getAdapter:zA,adapters:y0};function ef(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pi(null,e)}function ty(e){return ef(e),e.headers=sr.from(e.headers),e.data=Zm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),zN.getAdapter(e.adapter||vl.adapter,e)(e).then(function(s){return ef(e),s.data=Zm.call(e,e.transformResponse,s),s.headers=sr.from(s.headers),s},function(s){return DN(s)||(ef(e),s&&s.response&&(s.response.data=Zm.call(e,e.transformResponse,s.response),s.response.headers=sr.from(s.response.headers))),Promise.reject(s)})}const UN="1.13.1",jd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{jd[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const ry={};jd.transitional=function(t,r,s){function a(i,o){return"[Axios v"+UN+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(t===!1)throw new be(a(o," has been removed"+(r?" in "+r:"")),be.ERR_DEPRECATED);return r&&!ry[o]&&(ry[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};jd.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function UA(e,t,r){if(typeof e!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new be("option "+i+" must be "+c,be.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new be("Unknown option "+i,be.ERR_BAD_OPTION)}}const _c={assertOptions:UA,validators:jd},dn=_c.validators;let aa=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Vv,response:new Vv}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ha(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&_c.assertOptions(s,{silentJSONParsing:dn.transitional(dn.boolean),forcedJSONParsing:dn.transitional(dn.boolean),clarifyTimeoutError:dn.transitional(dn.boolean)},!1),a!=null&&(Y.isFunction(a)?r.paramsSerializer={serialize:a}:_c.assertOptions(a,{encode:dn.function,serialize:dn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),_c.assertOptions(r,{baseUrl:dn.spelling("baseURL"),withXsrfToken:dn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Y.merge(i.common,i[r.method]);i&&Y.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=sr.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,m=0,f;if(!c){const g=[ty.bind(this),void 0];for(g.unshift(...l),g.push(...u),f=g.length,d=Promise.resolve(r);m<f;)d=d.then(g[m++],g[m++]);return d}f=l.length;let p=r;for(;m<f;){const g=l[m++],b=l[m++];try{p=g(p)}catch(x){b.call(this,x);break}}try{d=ty.call(this,p)}catch(g){return Promise.reject(g)}for(m=0,f=u.length;m<f;)d=d.then(u[m++],u[m++]);return d}getUri(t){t=ha(this.defaults,t);const r=RN(t.baseURL,t.url,t.allowAbsoluteUrls);return MN(r,t.params,t.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(t){aa.prototype[t]=function(r,s){return this.request(ha(s||{},{method:t,url:r,data:(s||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,l){return this.request(ha(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}aa.prototype[t]=r(),aa.prototype[t+"Form"]=r(!0)});let BA=class BN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,l){s.reason||(s.reason=new Pi(i,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new BN(function(a){t=a}),cancel:t}}};function qA(e){return function(r){return e.apply(null,r)}}function VA(e){return Y.isObject(e)&&e.isAxiosError===!0}const Ap={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ap).forEach(([e,t])=>{Ap[t]=e});function qN(e){const t=new aa(e),r=bN(aa.prototype.request,t);return Y.extend(r,aa.prototype,t,{allOwnKeys:!0}),Y.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return qN(ha(e,a))},r}const tt=qN(vl);tt.Axios=aa;tt.CanceledError=Pi;tt.CancelToken=BA;tt.isCancel=DN;tt.VERSION=UN;tt.toFormData=bd;tt.AxiosError=be;tt.Cancel=tt.CanceledError;tt.all=function(t){return Promise.all(t)};tt.spread=qA;tt.isAxiosError=VA;tt.mergeConfig=ha;tt.AxiosHeaders=sr;tt.formToJSON=e=>IN(Y.isHTMLForm(e)?new FormData(e):e);tt.getAdapter=zN.getAdapter;tt.HttpStatusCode=Ap;tt.default=tt;const{Axios:$q,AxiosError:zq,CanceledError:Uq,isCancel:Bq,CancelToken:qq,VERSION:Vq,all:Hq,Cancel:Wq,isAxiosError:Kq,spread:Gq,toFormData:Yq,AxiosHeaders:Qq,HttpStatusCode:Xq,formToJSON:Jq,getAdapter:Zq,mergeConfig:eV}=tt,HA="http://localhost:5000/api/v1",jo=tt.create({baseURL:HA,headers:{"Content-Type":"application/json"}});jo.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));jo.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const pn={register:async e=>(await jo.post("/auth/register",e)).data,verifyEmail:async e=>{var a,i,o,l;const t=await jo.get(`/auth/verify-email/${e}`),r=((i=(a=t.data)==null?void 0:a.data)==null?void 0:i.user)||((o=t.data)==null?void 0:o.user),s=(l=t.data)==null?void 0:l.token;if(s&&r){const c=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.isSuperAdmin)===!0,u=r==null?void 0:r.role;c?(localStorage.setItem("adminDashboardToken",s),localStorage.setItem("adminDashboardUser",JSON.stringify(r))):u==="producteur"?(localStorage.setItem("producerDashboardToken",s),localStorage.setItem("producerDashboardUser",JSON.stringify(r))):u==="livreur"?(localStorage.setItem("deliveryDashboardToken",s),localStorage.setItem("deliveryDashboardUser",JSON.stringify(r))):(localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(r)));try{window.dispatchEvent(new Event("auth-changed"))}catch{}}return t.data},login:async e=>{var a,i,o,l;const t=await jo.post("/auth/login",e),r=((i=(a=t.data)==null?void 0:a.data)==null?void 0:i.user)||((o=t.data)==null?void 0:o.user),s=(l=t.data)==null?void 0:l.token;if(s&&r){const c=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.isSuperAdmin)===!0,u=r==null?void 0:r.role;c?(localStorage.setItem("adminDashboardToken",s),localStorage.setItem("adminDashboardUser",JSON.stringify(r))):u==="producteur"?(localStorage.setItem("producerDashboardToken",s),localStorage.setItem("producerDashboardUser",JSON.stringify(r))):u==="livreur"?(localStorage.setItem("deliveryDashboardToken",s),localStorage.setItem("deliveryDashboardUser",JSON.stringify(r))):(localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(r)));try{window.dispatchEvent(new Event("auth-changed"))}catch{}}return t.data},logout:()=>{try{["token","user","adminDashboardToken","adminDashboardUser","producerDashboardToken","producerDashboardUser","deliveryDashboardToken","deliveryDashboardUser"].forEach(t=>localStorage.removeItem(t)),window.dispatchEvent(new Event("auth-changed"))}catch(e){console.error("Erreur pendant la dconnexion :",e)}window.location.href="/login"},getCurrentUser:()=>{const e=localStorage.getItem("user");if(!e||e==="undefined"||e==="null")return null;try{return JSON.parse(e)}catch{return localStorage.removeItem("user"),localStorage.removeItem("token"),null}},isAuthenticated:()=>!!localStorage.getItem("token")},VN=h.createContext(),Cn=()=>{const e=h.useContext(VN);if(!e)throw new Error("useAuth doit tre utilis dans un AuthProvider");return e},WA=({children:e})=>{const[t,r]=h.useState(null),[s,a]=h.useState(!0);h.useEffect(()=>{const u=()=>{try{const d=pn.getCurrentUser(),m=pn.isAuthenticated();d&&m&&r(d)}catch(d){console.error("Erreur lors de la vrification de l'authentification:",d),pn.logout()}finally{a(!1)}};u();try{window.addEventListener("auth-changed",u)}catch{}return()=>{try{window.removeEventListener("auth-changed",u)}catch{}}},[]);const c={user:t,loading:s,login:u=>{r(u);try{window.dispatchEvent(new Event("auth-changed"))}catch{}},logout:()=>{pn.logout(),r(null);try{window.dispatchEvent(new Event("auth-changed"))}catch{}},updateUser:u=>{r(u),localStorage.setItem("user",JSON.stringify(u))},isAuthenticated:!!t};return n.jsx(VN.Provider,{value:c,children:e})},KA={admin:"adminDashboardToken","super-admin":"adminDashboardToken",producer:"producerDashboardToken",delivery:"deliveryDashboardToken",any:"token"};function _e({dashboard:e="any",children:t}){const r=Mt(),s=KA[e]||"token";if(!!!localStorage.getItem(s)){const i=e==="admin"||e==="super-admin"?"/admin/login":"/login";return n.jsx(nk,{to:i,replace:!0,state:{from:r}})}return t}const GA="http://localhost:5000/api/v1",YA=3e4,b0=tt.create({baseURL:GA,timeout:YA});b0.interceptors.request.use(e=>{let t=localStorage.getItem("token");const r=window.location.pathname;if(r.includes("/admin")){const s=localStorage.getItem("adminDashboardToken");s&&(t=s)}else if(r.includes("/producer")){const s=localStorage.getItem("producerDashboardToken");s&&(t=s)}else if(r.includes("/delivery")){const s=localStorage.getItem("deliveryDashboardToken");s&&(t=s)}return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));b0.interceptors.response.use(async e=>e,async e=>{var t;if(((t=e.response)==null?void 0:t.status)===401){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("adminDashboardToken"),localStorage.removeItem("producerDashboardToken"),localStorage.removeItem("deliveryDashboardToken"),localStorage.removeItem("adminDashboardUser"),localStorage.removeItem("producerDashboardUser"),localStorage.removeItem("deliveryDashboardUser");const r=window.location.pathname;r.includes("/admin")?window.location.href="/admin/login":r.includes("/producer")?window.location.href="/producer/login":(r.includes("/delivery"),window.location.href="/login")}return Promise.reject(e)});class QA{async request(t,r={}){try{const s={url:t,...r},a=(s.method||"GET").toString().toUpperCase();if(r.noCache&&a==="GET"){s.headers={...s.headers||{},"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"};const o=Date.now();s.params&&typeof s.params=="object"?s.params={...s.params,_ts:o}:s.params={_ts:o}}return s.data&&typeof FormData<"u"&&s.data instanceof FormData&&s.headers&&s.headers["Content-Type"]&&delete s.headers["Content-Type"],(await b0.request(s)).data}catch(s){if(console.error("API Error:",s),s.response){const a=s.response.data||{};let i=a.message||"Erreur serveur";if(Array.isArray(a.errors)&&a.errors.length>0){a.errors[0];const o=a.errors.map(l=>`${l.field?`${l.field}: `:""}${l.message}`).join(" | ");i=`${i} - ${o}`}throw{status:s.response.status,message:i,data:a}}else throw s.request?{status:0,message:"Problme de connexion - vrifiez votre rseau",data:null}:{status:500,message:"Erreur de configuration",data:null}}}async login(t,r){const s=await this.request("/auth/login",{method:"POST",data:{identifier:t,password:r}});if(s.status==="success"&&s.data.token){const a=s.data.user||{};if(a.role==="admin"||a.isSuperAdmin===!0)try{localStorage.removeItem("token"),localStorage.removeItem("user")}catch{}else localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(a))}return s}async loginWithGoogle(t){var s;const r=await this.request("/auth/google",{method:"POST",data:{credential:t}});if(r.status==="success"&&((s=r.data)!=null&&s.token)){const a=r.data.user||{};if(a.role==="admin"||a.isSuperAdmin===!0)try{localStorage.removeItem("token"),localStorage.removeItem("user")}catch{}else localStorage.setItem("token",r.data.token),localStorage.setItem("user",JSON.stringify(a))}return r}async dashboardLogin(t,r,s){try{const a=await this.request("/auth/login",{method:"POST",data:{identifier:t,password:r}});if(a.status==="success"&&a.data.token){const{user:i}=a.data,{role:o}=i;let l=!1,c="token",u="user";switch(s){case"admin":l=o==="admin",c="adminDashboardToken",u="adminDashboardUser";break;case"producer":l=o==="producteur",c="producerDashboardToken",u="producerDashboardUser";break;case"delivery":l=o==="livreur",c="deliveryDashboardToken",u="deliveryDashboardUser";break;default:throw{status:400,message:"Type de dashboard invalide"}}if(!l)throw localStorage.removeItem("token"),localStorage.removeItem("user"),{status:403,message:`Accs refus. Ce dashboard est rserv aux ${s}s.`};return localStorage.setItem(c,a.data.token),localStorage.setItem(u,JSON.stringify(i)),{...a,user:i,role:o,dashboardType:s}}return a}catch(a){throw a}}async logout(){try{await this.request("/auth/logout",{method:"POST"})}catch(t){console.error("Logout error:",t)}finally{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("adminDashboardToken"),localStorage.removeItem("producerDashboardToken"),localStorage.removeItem("deliveryDashboardToken"),localStorage.removeItem("adminDashboardUser"),localStorage.removeItem("producerDashboardUser"),localStorage.removeItem("deliveryDashboardUser")}}async getCurrentUser(){return await this.request("/auth/me")}getCurrentAdmin(){try{const t=localStorage.getItem("adminDashboardUser")||localStorage.getItem("user");if(!t)return null;const r=JSON.parse(t);return r&&(r.role==="admin"||r.isSuperAdmin===!0)?r:null}catch{return null}}async updateMyProfile(t){const r=new FormData;return Object.entries(t||{}).forEach(([s,a])=>{a!=null&&r.append(s,a)}),await this.request("/users/profile",{method:"PUT",data:r,headers:{"Content-Type":"multipart/form-data"}})}async changeMyPassword(t,r,s){return await this.request("/users/change-password",{method:"PUT",data:{currentPassword:t,newPassword:r,confirmPassword:s}})}async forgotPassword(t){return await this.request("/auth/forgot-password",{method:"POST",data:{email:t}})}async resetPassword(t,r){return await this.request(`/auth/reset-password/${encodeURIComponent(t)}`,{method:"PUT",data:{password:r}})}async getAdminDashboard(){return await this.request("/admin/dashboard")}async getGeneralStats(){return await this.request("/admin/stats")}async getDashboardStats(){return await this.getAdminDashboard()}async getUsers(t=1,r=50,s="",a=""){let i={page:t,limit:r,search:s,role:a};if(typeof t=="object"&&t!==null){const l=t;i={page:l.page??1,limit:l.limit??50,search:l.search??"",role:l.role??""}}const o=new URLSearchParams({page:String(i.page),limit:String(i.limit)});return i.search&&o.append("search",String(i.search)),i.role&&o.append("role",String(i.role)),await this.request(`/admin/users?${o.toString()}`)}async getUserDetails(t){return await this.request(`/admin/users/${t}`)}async updateUserStatus(t,r){return await this.request(`/admin/users/${t}/status`,{method:"PATCH",data:{status:r}})}async changeUserStatus(t,r){return await this.request(`/admin/users/${t}/status`,{method:"PATCH",data:{status:r}})}async changeUserRole(t,r){return await this.request(`/admin/users/${t}/role`,{method:"PATCH",data:{role:r}})}async getProducerDashboard(){return await this.request("/users/producer/dashboard")}async getProducerStats(){return await this.request("/users/producer/dashboard")}async getProducerProducts(t=1,r=50,s="",a=""){const i=new URLSearchParams({page:t.toString(),limit:r.toString()}),o=u=>{if(!u)return"";if(typeof u=="string")return u;if(Array.isArray(u))return u.filter(Boolean).join(",");if(typeof u=="object")return"value"in u?String(u.value):"label"in u?String(u.label):"";try{return String(u)}catch{return""}};let l="",c="";return typeof s=="object"&&s!==null?(l=o(s.search),c=o(s.category)):(l=o(s),c=o(a)),l&&i.append("search",l),c&&i.append("category",c),await this.request(`/products/my?${i.toString()}`)}async getMyProducts(t=1,r=50,s="",a=""){return await this.getProducerProducts(t,r,s,a)}async getProducts(t=1,r=50,s={}){let a=1,i=50,o={};typeof t=="object"&&t!==null?o=t:(a=Number(t)||1,i=Number(r)||50,o=s||{});const l=new URLSearchParams({page:a.toString(),limit:i.toString()});return o.search&&l.append("search",String(o.search)),o.category&&l.append("category",String(o.category)),o.minPrice&&l.append("minPrice",String(o.minPrice)),o.maxPrice&&l.append("maxPrice",String(o.maxPrice)),o.isOrganic!==void 0&&l.append("isOrganic",String(o.isOrganic)),o.sort&&l.append("sort",String(o.sort)),await this.request(`/products?${l.toString()}`)}async getPendingProducts(t=1,r=50){return await this.request(`/admin/products/pending?page=${t}&limit=${r}`)}async approveProduct(t){return await this.request(`/admin/products/${t}/approve`,{method:"PATCH"})}async getProductDetails(t){return await this.request(`/products/${t}`)}async getCart(){return await this.request("/cart",{noCache:!0})}async addToCart(t,r=1){return await this.request("/cart/add",{method:"POST",data:{product:t,quantity:r}})}async updateCartItem(t,r){return await this.request(`/cart/update/${t}`,{method:"PUT",data:{quantity:r}})}async removeFromCart(t){return await this.request(`/cart/remove/${t}`,{method:"DELETE"})}async clearCart(){return await this.request("/cart/clear",{method:"DELETE"})}async getProducts(t={}){const{page:r=1,limit:s=50,search:a="",category:i="",minPrice:o,maxPrice:l,isOrganic:c,sort:u}=(typeof t=="object"?t:{})||{},d=new URLSearchParams({page:String(r),limit:String(s)}),m=(f,p)=>{p!=null&&p!==""&&d.append(f,String(p))};return m("search",a),m("category",i),m("minPrice",o),m("maxPrice",l),c!==void 0&&d.append("isOrganic",String(!!c)),m("sort",u),await this.request(`/products?${d.toString()}`)}async createProduct(t){return await this.request("/products",{method:"POST",data:t})}async updateProduct(t,r){return await this.request(`/products/${t}`,{method:"PUT",data:r})}async deleteProduct(t){return await this.request(`/products/${t}`,{method:"DELETE"})}async getPendingProducts(t=1,r=50){const s=new URLSearchParams({page:String(t),limit:String(r)});return await this.request(`/admin/products/pending?${s.toString()}`)}async approveProduct(t){return await this.request(`/admin/products/${t}/approve`,{method:"PATCH"})}async getProductCategories(){return await this.request("/products/categories")}async publishProduct(t){return await this.request(`/products/${t}/publish`,{method:"PATCH"})}async createOrder(t){return await this.request("/orders",{method:"POST",data:t})}async getConsumerOrders(t=1,r=50){const s=new URLSearchParams({page:String(t),limit:String(r)});return await this.request(`/orders?${s.toString()}`)}async getMyOrdersConsumer(t=1,r=50){return await this.getConsumerOrders(t,r)}async getOrderDetails(t){return await this.request(`/orders/${t}`)}async cancelOrder(t,r=""){return await this.request(`/orders/${t}/cancel`,{method:"PATCH",data:{reason:r}})}async unpublishProduct(t){return await this.request(`/products/${t}/unpublish`,{method:"PATCH"})}async getProducerOrders(t=1,r=50,s=""){const a=new URLSearchParams({page:String(t),limit:String(r)});let i=s;return s&&typeof s=="object"&&("status"in s&&(i=s.status),Array.isArray(i)?i=i.filter(Boolean).join(","):i&&typeof i=="object"&&("value"in i?i=String(i.value):"label"in i?i=String(i.label):i="")),i&&a.append("status",i),await this.request(`/orders/producer/list?${a.toString()}`)}async getMyOrders(t=1,r=50,s=""){return await this.getProducerOrders(t,r,s)}async updateOrderStatus(t,r){return await this.request(`/orders/${t}/status`,{method:"PATCH",data:{status:r}})}async getMyFormations(t=1,r=50){const s=new URLSearchParams({page:t.toString(),limit:r.toString()});return await this.request(`/formations/my?${s.toString()}`)}async getFormations(t={}){const{page:r=1,limit:s=20,category:a,type:i,level:o,search:l,isPublished:c,sort:u}=t||{},d=new URLSearchParams({page:String(r),limit:String(s)}),m=(f,p)=>{p!=null&&p!==""&&d.append(f,String(p))};return m("category",a),m("type",i),m("level",o),m("search",l),c!==void 0&&d.append("isPublished",String(!!c)),m("sort",u),await this.request(`/formations?${d.toString()}`)}async toggleFormationPublish(t){return await this.request(`/formations/${t}/publish`,{method:"PATCH"})}async createFormation(t){return await this.request("/formations",{method:"POST",data:t})}async updateFormation(t,r){return await this.request(`/formations/${t}`,{method:"PUT",data:r})}async deleteFormation(t){return await this.request(`/formations/${t}`,{method:"DELETE"})}async getFormationOptions(){return await this.request("/formations/options")}async getFormationCategories(){return await this.request("/formations/categories")}async getDeliveryDashboard(){return await this.request("/users/deliverer/dashboard")}async getDeliveryStats(){var r;const t=await this.request("/deliveries",{noCache:!0});if(t.status==="success"&&((r=t.data)!=null&&r.deliveries)){const s=t.data.deliveries,a=s.filter(u=>u.status==="delivered").length,i=s.filter(u=>u.status==="assigned").length,o=s.filter(u=>["picked-up","in-transit"].includes(u.status)).length,l=s.filter(u=>u.status==="failed"||u.order&&u.order.status==="cancelled").length;return{status:"success",data:{totalDeliveries:t.total||s.length,completedDeliveries:a,pendingDeliveries:i+o,inPreparationDeliveries:i,inTransitDeliveries:o,cancelledDeliveries:l,totalEarnings:a*1e3}}}return t}async getMyDeliveries(t=1,r=10,s={}){const a=new URLSearchParams({page:t.toString(),limit:r.toString()});return s.status&&a.append("status",s.status),await this.request(`/deliveries?${a.toString()}`,{noCache:!0})}async getAvailableDeliveries(t=1,r=10,s={}){const a=new URLSearchParams({page:t.toString(),limit:r.toString()});return await this.request(`/deliveries/available?${a.toString()}`,{noCache:!0})}async getMyDeliveryHistory(t=1,r=50,s=""){const a=new URLSearchParams({page:t.toString(),limit:r.toString()});return s&&a.append("status",s),await this.request(`/deliveries/my/history?${a.toString()}`,{noCache:!0})}async getDeliveryHistory(t=1,r=50,s={}){const a=new URLSearchParams({page:t.toString(),limit:r.toString()});return s.status&&a.append("status",s.status),s.dateFrom&&a.append("dateFrom",s.dateFrom),s.dateTo&&a.append("dateTo",s.dateTo),await this.request(`/deliveries/my/history?${a.toString()}`)}async acceptDelivery(t){return await this.request(`/deliveries/${t}/accept`,{method:"PATCH"})}async declineDelivery(t,r=""){return await this.request(`/deliveries/${t}/decline`,{method:"PATCH",data:{reason:r}})}async updateDeliveryStatus(t,r,s=""){return await this.request(`/deliveries/${t}/status`,{method:"PATCH",data:{status:r,notes:s}})}async completeDelivery(t,r=""){return await this.request(`/deliveries/${t}/complete`,{method:"PATCH",data:{notes:r}})}async getDeliveryDetails(t){return await this.request(`/deliveries/${t}`,{noCache:!0})}async toggleUserStatus(t){return await this.changeUserStatus(t,"toggle")}async updateUserRole(t,r){return await this.changeUserRole(t,r)}async deleteUser(t){return await this.request(`/admin/users/${t}`,{method:"DELETE"})}async blockUser(t,r=""){return await this.request(`/admin/users/${t}/block`,{method:"PATCH",data:{reason:r}})}async unblockUser(t){return await this.request(`/admin/users/${t}/unblock`,{method:"PATCH"})}async isUserBlocked(t){return await this.request(`/admin/users/${t}/status`)}async healthCheck(){return await this.request("/health")}async getMyProfile(){return await this.request("/users/me")}async getUserProfile(t){return await this.request(`/users/profile/${t}`)}async updateProfile(t){if(t.profilePicture instanceof File||t.profilePicture instanceof Blob){const r=new FormData;return Object.keys(t).forEach(s=>{s==="profilePicture"?r.append("profilePicture",t[s]):typeof t[s]=="object"?r.append(s,JSON.stringify(t[s])):r.append(s,t[s])}),await this.request("/users/profile",{method:"PUT",headers:{},data:r})}else return await this.request("/users/profile",{method:"PUT",data:t})}async changePassword(t){return await this.request("/users/change-password",{method:"PUT",data:t})}async updatePreferences(t){return await this.request("/users/preferences",{method:"PUT",data:t})}async deleteAccount(){return await this.request("/users/account",{method:"DELETE"})}async getOrderDetails(t){return await this.request(`/orders/${t}`)}}const ne=new QA,ny=e=>new Promise((t,r)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>t(s.result),s.onerror=a=>r(a)}),XA=e=>{if(!e)return!1;const t=["image/jpeg","image/jpg","image/png","image/gif","image/webp"],r=5*1024*1024;return t.includes(e.type)&&e.size<=r},JA="http://localhost:5000/api/v1",Rc=JA.replace(/\/api\/v\d+$/,""),ZA="data:image/svg+xml;utf8,"+encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" viewBox="0 0 150 150">
      <defs>
        <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#16a34a"/>
          <stop offset="100%" stop-color="#22c55e"/>
        </linearGradient>
      </defs>
      <rect width="150" height="150" fill="url(#g)"/>
      <circle cx="75" cy="55" r="28" fill="#ffffff" opacity="0.9"/>
      <rect x="35" y="92" width="80" height="36" rx="18" fill="#ffffff" opacity="0.9"/>
    </svg>
  `),Qt=e=>e?/^https?:\/\//i.test(e)||e.startsWith("data:")?e:e.startsWith("/uploads")?`${Rc}${e}`:e.startsWith("uploads/")?`${Rc}/${e}`:`${Rc}/uploads/${e}`:ZA,At=e=>{var s,a,i;if(!e)return null;let t=typeof e=="string"?e:null;if(typeof e=="object"&&(t=[e.imageUrl,e.image,e.photo,e.picture,e.imagePath,e.img,e.thumbnail,Array.isArray(e.images)&&e.images.length>0?e.images[0]:null,(s=e.product)==null?void 0:s.imageUrl,(a=e.product)==null?void 0:a.image,Array.isArray((i=e.product)==null?void 0:i.images)&&e.product.images.length>0?e.product.images[0]:null,Array.isArray(e.media)&&e.media.length>0?e.media[0]:null].find(Boolean)||null),!t)return null;if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:"))return t;const r=Rc;return t.startsWith("/uploads/")?`${r}${t}`:t.startsWith("uploads/")?`${r}/${t}`:`${r}/uploads/${t}`},HN=h.createContext(),wd=()=>{const e=h.useContext(HN);if(!e)throw new Error("useCart doit tre utilis dans un CartProvider");return e},eE=({children:e})=>{const[t,r]=h.useState([]),[s,a]=h.useState(0),{user:i,isAuthenticated:o}=Cn(),[l,c]=h.useState(!1),[u,d]=h.useState(0),m=j=>!j||!Array.isArray(j.items)?[]:j.items.map(w=>{const N=w.product||{};return{id:N._id||N.id,nom:N.name,name:N.name,prix:typeof N.price=="number"?N.price:Number(N.price)||0,price:typeof N.price=="number"?N.price:Number(N.price)||0,unite:N.unit,unit:N.unit,quantity:w.quantity||1,image:At(N)}});h.useEffect(()=>{(async()=>{if(o)try{const N=await ne.getCart()||{},S=N.data&&(N.data.cart||N.data)||N.cart;let P=m(S);const C=localStorage.getItem("cart_last_user_id"),E=(i==null?void 0:i.id)||(i==null?void 0:i._id)||(i==null?void 0:i.userId);if(C&&E&&C===String(E)){const I=localStorage.getItem("cart");if(I)try{const M=JSON.parse(I);if(Array.isArray(M)&&M.length>0){const k=new Set((P||[]).map(D=>D.id));for(const D of M){const $=D.id||D.productId||D._id;if(!$||k.has($))continue;const z=Math.max(1,Number(D.quantity)||1);try{await ne.addToCart($,z)}catch{}}const B=await ne.getCart()||{},F=B.data&&(B.data.cart||B.data)||B.cart;P=m(F)}}catch{}}else localStorage.removeItem("cart");r(P),localStorage.setItem("cart",JSON.stringify(P)),E&&localStorage.setItem("cart_last_user_id",String(E)),c(!0)}catch{const N=localStorage.getItem("cart");if(N)try{const S=JSON.parse(N),P=Array.isArray(S)?S.map(C=>({...C,image:C.image||At(C)})):[];r(P)}catch{r([])}c(!0)}else{const w=localStorage.getItem("cart");if(w)try{const N=JSON.parse(w),S=Array.isArray(N)?N.map(P=>({...P,image:P.image||At(P)})):[];r(S)}catch{localStorage.removeItem("cart")}else r([]);localStorage.removeItem("cart_last_user_id"),c(!0)}})()},[o,i==null?void 0:i.id,u]),h.useEffect(()=>{const j=()=>d(w=>w+1);try{window.addEventListener("auth-changed",j)}catch{}return()=>{try{window.removeEventListener("auth-changed",j)}catch{}}},[]),h.useEffect(()=>{const j=t.reduce((w,N)=>w+(N.quantity||1),0);a(j),l&&localStorage.setItem("cart",JSON.stringify(t))},[t,l]);const f=async j=>{if(o)try{const w=j._id||j.id,S=await ne.addToCart(w,1)||{},P=S.data&&(S.data.cart||S.data)||S.cart;r(m(P));return}catch{}r(w=>w.find(S=>S.id===(j._id||j.id))?w.map(S=>S.id===(j._id||j.id)?{...S,quantity:S.quantity+1}:S):[...w,{...j,id:j._id||j.id,nom:j.nom||j.name,prix:j.prix??j.price,unite:j.unite??j.unit,image:j.image||At(j),quantity:1,addedAt:new Date().toISOString()}])},p=async j=>{if(o)try{await ne.removeFromCart(j);const N=await ne.getCart()||{},S=N.data&&(N.data.cart||N.data)||N.cart;r(m(S));return}catch{}r(w=>w.filter(N=>N.id!==j))},y={cartItems:t,cartCount:s,addToCart:f,removeFromCart:p,updateQuantity:async(j,w)=>{if(w<=0){await p(j);return}if(o)try{await ne.updateCartItem(j,w);const S=await ne.getCart()||{},P=S.data&&(S.data.cart||S.data)||S.cart;r(m(P));return}catch{}r(N=>N.map(S=>S.id===j?{...S,quantity:w}:S))},clearCart:async()=>{if(o)try{await ne.clearCart(),r([]);return}catch{}r([])},getTotalPrice:()=>t.reduce((j,w)=>j+(w.prix??w.price??0)*(w.quantity||1),0),getCartItemCount:()=>t.reduce((j,w)=>j+w.quantity,0)};return n.jsx(HN.Provider,{value:y,children:e})},WN=h.createContext(),Nd=()=>{const e=h.useContext(WN);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},tE=({toast:e,onRemove:t})=>{const{position:r="top-right",duration:s=5e3}=e;h.useEffect(()=>{if(s>0&&e.type!=="loading"){const l=setTimeout(()=>{t(e.id)},s);return()=>clearTimeout(l)}},[s,e,t]);const a={"top-right":"top-4 right-4","top-left":"top-4 left-4","bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4","top-center":"top-4 left-1/2 transform -translate-x-1/2"},i={success:"bg-green-500 text-white border-green-600",error:"bg-red-500 text-white border-red-600",warning:"bg-yellow-500 text-white border-yellow-600",info:"bg-blue-500 text-white border-blue-600",loading:"bg-gray-500 text-white border-gray-600"},o={success:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),error:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),warning:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),info:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),loading:n.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})};return n.jsx("div",{className:`fixed z-50 ${a[r]} max-w-sm w-full`,children:n.jsxs("div",{className:`
        ${i[e.type]} 
        px-4 py-3 rounded-lg shadow-lg border flex items-start gap-3 
        transform transition-all duration-300 ease-in-out
        ${e.type==="loading"?"cursor-wait":"hover:shadow-xl"}
      `,children:[n.jsx("div",{className:"flex-shrink-0",children:o[e.type]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[e.title&&n.jsx("p",{className:"font-semibold text-sm",children:e.title}),n.jsx("p",{className:`text-sm ${e.title?"mt-1":""}`,children:e.message}),e.actions&&n.jsx("div",{className:"flex gap-2 mt-2",children:e.actions.map((l,c)=>n.jsx("button",{onClick:l.onClick,className:"text-xs px-3 py-1 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full transition-colors",disabled:e.type==="loading",children:l.label},c))})]}),e.type!=="loading"&&n.jsx("button",{onClick:()=>t(e.id),className:"flex-shrink-0 hover:opacity-75 transition-opacity",disabled:e.type==="loading",children:n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})},rE=({children:e,position:t="top-right",maxToasts:r=5})=>{const[s,a]=h.useState([]),i=v=>{const y=Date.now()+Math.random(),j={id:y,position:t,duration:5e3,...v};return a(w=>[j,...w].slice(0,r)),y},o=v=>{a(y=>y.filter(j=>j.id!==v))},l=()=>{a([])},c=(v,y={})=>i({type:"success",message:v,...y}),u=(v,y={})=>i({type:"error",message:v,...y}),d=(v,y={})=>i({type:"warning",message:v,...y}),m=(v,y={})=>i({type:"info",message:v,...y}),f=(v,y={})=>i({type:"loading",message:v,duration:0,...y}),p=(v,y="general")=>{var w,N,S,P;let j="Une erreur inattendue s'est produite";if(v.response){const{status:C,data:E}=v.response;switch(C){case 400:(w=E.message)!=null&&w.includes("email")?j="Cette adresse email est dj utilise ou invalide":(N=E.message)!=null&&N.includes("password")?j="Le mot de passe ne respecte pas les critres de scurit":(S=E.message)!=null&&S.includes("phone")?j="Numro de tlphone invalide":j=E.message||"Donnes invalides";break;case 401:j="Email ou mot de passe incorrect";break;case 403:(P=E.message)!=null&&P.includes("not verified")?j="Veuillez vrifier votre email avant de vous connecter":j="Accs refus";break;case 404:j="Aucun compte trouv avec ces identifiants";break;case 409:j="Un compte existe dj avec cet email";break;case 500:j="Erreur serveur temporaire. Ressayez dans quelques minutes";break;default:j=E.message||`Erreur serveur (${C})`}}else v.request&&(j="Problme de connexion. Vrifiez votre internet");return g(j,{title:"Erreur d'authentification",duration:7e3})},g=u,x={toasts:s,addToast:i,removeToast:o,clearAll:l,success:c,error:u,warning:d,info:m,loading:f,showAuthError:p,showAuthSuccess:(v,y={})=>c(v,{title:"Succs",...y})};return n.jsxs(WN.Provider,{value:x,children:[e,n.jsx("div",{className:"fixed inset-0 pointer-events-none z-40",children:s.map(v=>n.jsx("div",{className:"pointer-events-auto",children:n.jsx(tE,{toast:v,onRemove:o})},v.id))})]})},yl=()=>{const e=Nd();return{showSuccess:e.showAuthSuccess,showError:e.showAuthError,showInfo:t=>e.info(t,{title:"Information"}),showWarning:t=>e.warning(t,{title:"Attention"}),showLoading:t=>e.loading(t,{title:"Chargement..."}),removeToast:e.removeToast}};function KN(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=KN(e[t]))&&(s&&(s+=" "),s+=r);else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function fs(){for(var e,t,r=0,s="";r<arguments.length;)(e=arguments[r++])&&(t=KN(e))&&(s&&(s+=" "),s+=t);return s}const wo=e=>typeof e=="number"&&!isNaN(e),ga=e=>typeof e=="string",Xt=e=>typeof e=="function",Fc=e=>ga(e)||Xt(e)?e:null,tf=e=>h.isValidElement(e)||ga(e)||Xt(e)||wo(e);function nE(e,t,r){r===void 0&&(r=300);const{scrollHeight:s,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=s+"px",a.transition=`all ${r}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,r)})})}function Sd(e){let{enter:t,exit:r,appendPosition:s=!1,collapse:a=!0,collapseDuration:i=300}=e;return function(o){let{children:l,position:c,preventExitTransition:u,done:d,nodeRef:m,isIn:f}=o;const p=s?`${t}--${c}`:t,g=s?`${r}--${c}`:r,b=h.useRef(0);return h.useLayoutEffect(()=>{const x=m.current,v=p.split(" "),y=j=>{j.target===m.current&&(x.dispatchEvent(new Event("d")),x.removeEventListener("animationend",y),x.removeEventListener("animationcancel",y),b.current===0&&j.type!=="animationcancel"&&x.classList.remove(...v))};x.classList.add(...v),x.addEventListener("animationend",y),x.addEventListener("animationcancel",y)},[]),h.useEffect(()=>{const x=m.current,v=()=>{x.removeEventListener("animationend",v),a?nE(x,d,i):d()};f||(u?v():(b.current=1,x.className+=` ${g}`,x.addEventListener("animationend",v)))},[f]),ve.createElement(ve.Fragment,null,l)}}function sy(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ar={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const r=this.list.get(e).filter(s=>s!==t);return this.list.set(e,r),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const r=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(r)})}},sc=e=>{let{theme:t,type:r,...s}=e;return ve.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...s})},rf={info:function(e){return ve.createElement(sc,{...e},ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return ve.createElement(sc,{...e},ve.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return ve.createElement(sc,{...e},ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return ve.createElement(sc,{...e},ve.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ve.createElement("div",{className:"Toastify__spinner"})}};function sE(e){const[,t]=h.useReducer(p=>p+1,0),[r,s]=h.useState([]),a=h.useRef(null),i=h.useRef(new Map).current,o=p=>r.indexOf(p)!==-1,l=h.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:p=>i.get(p)}).current;function c(p){let{containerId:g}=p;const{limit:b}=l.props;!b||g&&l.containerId!==g||(l.count-=l.queue.length,l.queue=[])}function u(p){s(g=>p==null?[]:g.filter(b=>b!==p))}function d(){const{toastContent:p,toastProps:g,staleId:b}=l.queue.shift();f(p,g,b)}function m(p,g){let{delay:b,staleId:x,...v}=g;if(!tf(p)||function(M){return!a.current||l.props.enableMultiContainer&&M.containerId!==l.props.containerId||i.has(M.toastId)&&M.updateId==null}(v))return;const{toastId:y,updateId:j,data:w}=v,{props:N}=l,S=()=>u(y),P=j==null;P&&l.count++;const C={...N,style:N.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(v).filter(M=>{let[k,A]=M;return A!=null})),toastId:y,updateId:j,data:w,closeToast:S,isIn:!1,className:Fc(v.className||N.toastClassName),bodyClassName:Fc(v.bodyClassName||N.bodyClassName),progressClassName:Fc(v.progressClassName||N.progressClassName),autoClose:!v.isLoading&&(E=v.autoClose,O=N.autoClose,E===!1||wo(E)&&E>0?E:O),deleteToast(){const M=sy(i.get(y),"removed");i.delete(y),Ar.emit(4,M);const k=l.queue.length;if(l.count=y==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),k>0){const A=y==null?l.props.limit:1;if(k===1||A===1)l.displayedToast++,d();else{const B=A>k?k:A;l.displayedToast=B;for(let F=0;F<B;F++)d()}}else t()}};var E,O;C.iconOut=function(M){let{theme:k,type:A,isLoading:B,icon:F}=M,D=null;const $={theme:k,type:A};return F===!1||(Xt(F)?D=F($):h.isValidElement(F)?D=h.cloneElement(F,$):ga(F)||wo(F)?D=F:B?D=rf.spinner():(z=>z in rf)(A)&&(D=rf[A]($))),D}(C),Xt(v.onOpen)&&(C.onOpen=v.onOpen),Xt(v.onClose)&&(C.onClose=v.onClose),C.closeButton=N.closeButton,v.closeButton===!1||tf(v.closeButton)?C.closeButton=v.closeButton:v.closeButton===!0&&(C.closeButton=!tf(N.closeButton)||N.closeButton);let I=p;h.isValidElement(p)&&!ga(p.type)?I=h.cloneElement(p,{closeToast:S,toastProps:C,data:w}):Xt(p)&&(I=p({closeToast:S,toastProps:C,data:w})),N.limit&&N.limit>0&&l.count>N.limit&&P?l.queue.push({toastContent:I,toastProps:C,staleId:x}):wo(b)?setTimeout(()=>{f(I,C,x)},b):f(I,C,x)}function f(p,g,b){const{toastId:x}=g;b&&i.delete(b);const v={content:p,props:g};i.set(x,v),s(y=>[...y,x].filter(j=>j!==b)),Ar.emit(4,sy(v,v.props.updateId==null?"added":"updated"))}return h.useEffect(()=>(l.containerId=e.containerId,Ar.cancelEmit(3).on(0,m).on(1,p=>a.current&&u(p)).on(5,c).emit(2,l),()=>{i.clear(),Ar.emit(3,l)}),[]),h.useEffect(()=>{l.props=e,l.isToastActive=o,l.displayedToast=r.length}),{getToastToRender:function(p){const g=new Map,b=Array.from(i.values());return e.newestOnTop&&b.reverse(),b.forEach(x=>{const{position:v}=x.props;g.has(v)||g.set(v,[]),g.get(v).push(x)}),Array.from(g,x=>p(x[0],x[1]))},containerRef:a,isToastActive:o}}function ay(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function iy(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function aE(e){const[t,r]=h.useState(!1),[s,a]=h.useState(!1),i=h.useRef(null),o=h.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=h.useRef(e),{autoClose:c,pauseOnHover:u,closeToast:d,onClick:m,closeOnClick:f}=e;function p(w){if(e.draggable){w.nativeEvent.type==="touchstart"&&w.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.addEventListener("touchmove",v),document.addEventListener("touchend",y);const N=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=N.getBoundingClientRect(),N.style.transition="",o.x=ay(w.nativeEvent),o.y=iy(w.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=N.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=N.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(w){if(o.boundingRect){const{top:N,bottom:S,left:P,right:C}=o.boundingRect;w.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=P&&o.x<=C&&o.y>=N&&o.y<=S?x():b()}}function b(){r(!0)}function x(){r(!1)}function v(w){const N=i.current;o.canDrag&&N&&(o.didMove=!0,t&&x(),o.x=ay(w),o.y=iy(w),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),N.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,N.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",y);const w=i.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return a(!0),void e.closeToast();w.style.transition="transform 0.2s, opacity 0.2s",w.style.transform=`translate${e.draggableDirection}(0)`,w.style.opacity="1"}}h.useEffect(()=>{l.current=e}),h.useEffect(()=>(i.current&&i.current.addEventListener("d",b,{once:!0}),Xt(e.onOpen)&&e.onOpen(h.isValidElement(e.children)&&e.children.props),()=>{const w=l.current;Xt(w.onClose)&&w.onClose(h.isValidElement(w.children)&&w.children.props)}),[]),h.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||x(),window.addEventListener("focus",b),window.addEventListener("blur",x)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",x))}),[e.pauseOnFocusLoss]);const j={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return c&&u&&(j.onMouseEnter=x,j.onMouseLeave=b),f&&(j.onClick=w=>{m&&m(w),o.canCloseOnClick&&d()}),{playToast:b,pauseToast:x,isRunning:t,preventExitTransition:s,toastRef:i,eventHandlers:j}}function GN(e){let{closeToast:t,theme:r,ariaLabel:s="close"}=e;return ve.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:a=>{a.stopPropagation(),t(a)},"aria-label":s},ve.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ve.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function iE(e){let{delay:t,isRunning:r,closeToast:s,type:a="default",hide:i,className:o,style:l,controlledProgress:c,progress:u,rtl:d,isIn:m,theme:f}=e;const p=i||c&&u===0,g={...l,animationDuration:`${t}ms`,animationPlayState:r?"running":"paused",opacity:p?0:1};c&&(g.transform=`scaleX(${u})`);const b=fs("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":d}),x=Xt(o)?o({rtl:d,type:a,defaultClassName:b}):fs(b,o);return ve.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:x,style:g,[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{m&&s()}})}const oE=e=>{const{isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:a}=aE(e),{closeButton:i,children:o,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:m,transition:f,position:p,className:g,style:b,bodyClassName:x,bodyStyle:v,progressClassName:y,progressStyle:j,updateId:w,role:N,progress:S,rtl:P,toastId:C,deleteToast:E,isIn:O,isLoading:I,iconOut:M,closeOnClick:k,theme:A}=e,B=fs("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":k}),F=Xt(g)?g({rtl:P,position:p,type:u,defaultClassName:B}):fs(B,g),D=!!S||!l,$={closeToast:m,type:u,theme:A};let z=null;return i===!1||(z=Xt(i)?i($):h.isValidElement(i)?h.cloneElement(i,$):GN($)),ve.createElement(f,{isIn:O,done:E,position:p,preventExitTransition:r,nodeRef:s},ve.createElement("div",{id:C,onClick:c,className:F,...a,style:b,ref:s},ve.createElement("div",{...O&&{role:N},className:Xt(x)?x({type:u}):fs("Toastify__toast-body",x),style:v},M!=null&&ve.createElement("div",{className:fs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},M),ve.createElement("div",null,o)),z,ve.createElement(iE,{...w&&!D?{key:`pb-${w}`}:{},rtl:P,theme:A,delay:l,isRunning:t,isIn:O,closeToast:m,hide:d,type:u,style:j,className:y,controlledProgress:D,progress:S||0})))},Cd=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},lE=Sd(Cd("bounce",!0));Sd(Cd("slide",!0));Sd(Cd("zoom"));Sd(Cd("flip"));const Ep=h.forwardRef((e,t)=>{const{getToastToRender:r,containerRef:s,isToastActive:a}=sE(e),{className:i,style:o,rtl:l,containerId:c}=e;function u(d){const m=fs("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":l});return Xt(i)?i({position:d,rtl:l,defaultClassName:m}):fs(m,Fc(i))}return h.useEffect(()=>{t&&(t.current=s.current)},[]),ve.createElement("div",{ref:s,className:"Toastify",id:c},r((d,m)=>{const f=m.length?{...o}:{...o,pointerEvents:"none"};return ve.createElement("div",{className:u(d),style:f,key:`container-${d}`},m.map((p,g)=>{let{content:b,props:x}=p;return ve.createElement(oE,{...x,isIn:a(x.toastId),style:{...x.style,"--nth":g+1,"--len":m.length},key:`toast-${x.key}`},b)}))}))});Ep.displayName="ToastContainer",Ep.defaultProps={position:"top-right",transition:lE,autoClose:5e3,closeButton:GN,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let nf,Ws=new Map,lo=[],cE=1;function YN(){return""+cE++}function uE(e){return e&&(ga(e.toastId)||wo(e.toastId))?e.toastId:YN()}function No(e,t){return Ws.size>0?Ar.emit(0,e,t):lo.push({content:e,options:t}),t.toastId}function gu(e,t){return{...t,type:t&&t.type||e,toastId:uE(t)}}function ac(e){return(t,r)=>No(t,gu(e,r))}function re(e,t){return No(e,gu("default",t))}re.loading=(e,t)=>No(e,gu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),re.promise=function(e,t,r){let s,{pending:a,error:i,success:o}=t;a&&(s=ga(a)?re.loading(a,r):re.loading(a.render,{...r,...a}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,m,f)=>{if(m==null)return void re.dismiss(s);const p={type:d,...l,...r,data:f},g=ga(m)?{render:m}:m;return s?re.update(s,{...p,...g}):re(g.render,{...p,...g}),f},u=Xt(e)?e():e;return u.then(d=>c("success",o,d)).catch(d=>c("error",i,d)),u},re.success=ac("success"),re.info=ac("info"),re.error=ac("error"),re.warning=ac("warning"),re.warn=re.warning,re.dark=(e,t)=>No(e,gu("default",{theme:"dark",...t})),re.dismiss=e=>{Ws.size>0?Ar.emit(1,e):lo=lo.filter(t=>e!=null&&t.options.toastId!==e)},re.clearWaitingQueue=function(e){return e===void 0&&(e={}),Ar.emit(5,e)},re.isActive=e=>{let t=!1;return Ws.forEach(r=>{r.isToastActive&&r.isToastActive(e)&&(t=!0)}),t},re.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const r=function(s,a){let{containerId:i}=a;const o=Ws.get(i||nf);return o&&o.getToast(s)}(e,t);if(r){const{props:s,content:a}=r,i={delay:100,...s,...t,toastId:t.toastId||e,updateId:YN()};i.toastId!==e&&(i.staleId=e);const o=i.render||a;delete i.render,No(o,i)}},0)},re.done=e=>{re.update(e,{progress:1})},re.onChange=e=>(Ar.on(4,e),()=>{Ar.off(4,e)}),re.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},re.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ar.on(2,e=>{nf=e.containerId||e,Ws.set(nf,e),lo.forEach(t=>{Ar.emit(0,t.content,t.options)}),lo=[]}).on(3,e=>{Ws.delete(e.containerId||e),Ws.size===0&&Ar.off(0).off(1).off(5)});const dE=({isOpen:e,onClose:t,onUpdated:r})=>{const{user:s,updateUser:a}=Cn(),[i,o]=h.useState(""),[l,c]=h.useState(""),[u,d]=h.useState(""),[m,f]=h.useState(null),[p,g]=h.useState(""),[b,x]=h.useState(!1),[v,y]=h.useState("");h.useEffect(()=>{e&&(o((s==null?void 0:s.firstName)||""),c((s==null?void 0:s.lastName)||""),d((s==null?void 0:s.phone)||""),f(null),g(""),y(""))},[e,s]);const j=N=>{var P;const S=((P=N.target.files)==null?void 0:P[0])||null;if(f(S),S){const C=URL.createObjectURL(S);g(C)}else g("")},w=async N=>{var S,P,C;N.preventDefault(),x(!0),y("");try{const E={firstName:i,lastName:l,phone:u};m&&(E.profilePicture=m);const O=await ne.updateMyProfile(E),I=((S=O==null?void 0:O.data)==null?void 0:S.user)||{...s,firstName:i,lastName:l,phone:u};(C=(P=O==null?void 0:O.data)==null?void 0:P.user)!=null&&C.profilePicture&&(I.profilePicture=O.data.user.profilePicture),a(I),r&&r()}catch(E){y((E==null?void 0:E.message)||"Erreur lors de la mise  jour du profil")}finally{x(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Modifier mon profil"}),n.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:""})]}),v&&n.jsx("div",{className:"mb-3 rounded bg-red-50 text-red-700 px-4 py-2 text-sm",children:v}),n.jsxs("form",{onSubmit:w,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Prnom"}),n.jsx("input",{value:i,onChange:N=>o(N.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Nom"}),n.jsx("input",{value:l,onChange:N=>c(N.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Tlphone"}),n.jsx("input",{value:u,onChange:N=>d(N.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Photo de profil"}),n.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"w-full"}),p&&n.jsx("img",{src:p,alt:"Aperu",className:"mt-2 w-20 h-20 rounded-full object-cover"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Annuler"}),n.jsx("button",{disabled:b,type:"submit",className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",children:b?"Enregistrement...":"Enregistrer"})]})]})]})}):null},bl="/assets/logo-hAyNAU3d.png",qr=({onRegisterClick:e,onLoginClick:t})=>{const[r,s]=h.useState(!1),{user:a,logout:i}=Cn(),{cartCount:o}=wd(),l=Mt(),[c,u]=h.useState(!1),[d,m]=h.useState(!1),[f,p]=h.useState(0),g=x=>x==="/"?l.pathname==="/":l.pathname.startsWith(x),b=x=>`transition ${g(x)?"text-green-600 font-medium":"text-gray-700 hover:text-green-600"}`;return n.jsxs("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsx(xe,{to:"/",className:"flex items-center space-x-2",children:n.jsx("img",{src:bl,alt:"Logo AgriTeranga",className:"w-32 h-12 md:w-46 md:h-16 object-contain"})}),n.jsxs("nav",{className:"hidden md:flex space-x-8",children:[n.jsx(xe,{to:"/",className:b("/"),children:"Accueil"}),n.jsx(xe,{to:"/about",className:b("/about"),children:" Propos"}),n.jsx(xe,{to:"/services",className:b("/services"),children:"Nos services"}),n.jsx(xe,{to:"/products",className:b("/products"),children:"Produits"}),n.jsx(xe,{to:"/contact",className:b("/contact"),children:"Contact"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[a?n.jsxs(n.Fragment,{children:[n.jsxs(xe,{to:"/panier",className:`relative p-2 rounded-full transition hidden md:block ${g("/panier")?"text-green-600 bg-green-50":"text-green-600 hover:bg-green-50"}`,children:[n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m1.6 8L5 5H3m4 8v8a2 2 0 002 2h10a2 2 0 002-2v-8m-4 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:o||0})]}),n.jsxs("div",{className:"relative group hidden md:block",children:[n.jsxs("button",{className:"flex items-center space-x-2 p-2 rounded-full hover:bg-green-50 transition",children:[n.jsx("img",{src:`${Qt(a.profilePicture)}${f?`?v=${f}`:""}`,onError:x=>{x.currentTarget.onerror=null,x.currentTarget.src=Qt(null)},alt:"Profil",className:"w-8 h-8 rounded-full object-cover"}),n.jsx("span",{className:"text-gray-700 font-medium",children:a.firstName}),n.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[n.jsx("button",{className:"w-full text-left block px-4 py-2 text-gray-700 hover:bg-green-50 transition",onClick:()=>{m(!0),s(!1)},children:"Mon Profil"}),n.jsx(xe,{to:"/commandes",className:"block px-4 py-2 text-gray-700 hover:bg-green-50 transition",onClick:()=>s(!1),children:"Mes Commandes"}),n.jsx(xe,{to:"/parametres",className:"block px-4 py-2 text-gray-700 hover:bg-green-50 transition",onClick:()=>s(!1),children:"Paramtres"}),n.jsx("hr",{className:"my-1"}),n.jsx("button",{onClick:()=>u(!0),className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 transition",children:"Dconnexion"})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:t,className:"px-6 py-2 text-green-600 border border-green-600 rounded-full hover:bg-green-50 transition hidden md:block",children:"Se connecter"}),n.jsx("button",{onClick:e,className:"px-6 py-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition hidden md:block",children:"S'inscrire"})]}),n.jsx("button",{className:"md:hidden flex items-center px-3 py-2 border rounded text-gray-700 border-gray-700",onClick:()=>s(!r),children:n.jsx("svg",{className:"fill-current h-6 w-6",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:r?"M4.293 4.293l11.414 11.414m0-11.414L4.293 15.707":"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})})})]})]})}),r&&n.jsxs("div",{className:"md:hidden bg-white px-4 pt-2 pb-4 space-y-1 shadow-md",children:[n.jsx(xe,{to:"/",className:`block px-3 py-2 rounded-md transition ${g("/")?"text-green-600 font-medium bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,onClick:()=>s(!1),children:"Accueil"}),n.jsx(xe,{to:"/about",className:`block px-3 py-2 rounded-md transition ${g("/about")?"text-green-600 font-medium bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,onClick:()=>s(!1),children:" Propos"}),n.jsx(xe,{to:"/services",className:`block px-3 py-2 rounded-md transition ${g("/services")?"text-green-600 font-medium bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,onClick:()=>s(!1),children:"Nos services"}),n.jsx(xe,{to:"/products",className:`block px-3 py-2 rounded-md transition ${g("/products")?"text-green-600 font-medium bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,onClick:()=>s(!1),children:"Produits"}),n.jsx(xe,{to:"/contact",className:`block px-3 py-2 rounded-md transition ${g("/contact")?"text-green-600 font-medium bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-green-50"}`,onClick:()=>s(!1),children:"Contact"}),a?n.jsxs("div",{className:"space-y-2 mt-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 px-4 py-3 bg-green-50 rounded-lg",children:[n.jsx("img",{src:`${Qt(a.profilePicture)}${f?`?v=${f}`:""}`,onError:x=>{x.currentTarget.onerror=null,x.currentTarget.src=Qt(null)},alt:"Profil",className:"w-10 h-10 rounded-full object-cover"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-800",children:[a.firstName," ",a.lastName]}),n.jsx("p",{className:"text-sm text-gray-600",children:a.email})]})]}),n.jsxs(xe,{to:"/panier",className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition ${g("/panier")?"text-green-600 font-medium bg-green-50":"text-gray-700 hover:bg-green-50"}`,onClick:()=>s(!1),children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m1.6 8L5 5H3m4 8v8a2 2 0 002 2h10a2 2 0 002-2v-8m-4 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),n.jsx("span",{children:"Mon Panier"}),n.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:o||0})]}),n.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-green-50 rounded-lg transition text-left",onClick:()=>{s(!1),m(!0)},children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),n.jsx("span",{children:"Mon Profil"})]}),n.jsxs(xe,{to:"/commandes",className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-green-50 rounded-lg transition",onClick:()=>s(!1),children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),n.jsx("span",{children:"Mes Commandes"})]}),n.jsxs(xe,{to:"/parametres",className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-green-50 rounded-lg transition",onClick:()=>s(!1),children:[n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.jsx("span",{children:"Paramtres"})]}),n.jsx("hr",{className:"my-2"}),n.jsxs("button",{onClick:()=>u(!0),className:"w-full text-left px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition flex items-center space-x-3",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),n.jsx("span",{children:"Dconnexion"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{s(!1),t()},className:"w-full px-4 py-2 text-green-600 border border-green-600 rounded-full hover:bg-green-50 transition mt-2 text-center",children:"Se connecter"}),n.jsx("button",{onClick:()=>{s(!1),e()},className:"w-full px-4 py-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition mt-2",children:"S'inscrire"})]})]}),c&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Confirmer la dconnexion"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Voulez-vous vraiment vous dconnecter ?"}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Annuler"}),n.jsx("button",{onClick:()=>{u(!1),s(!1),i()},className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Se dconnecter"})]})]})}),d&&n.jsx(dE,{isOpen:d,onClose:()=>m(!1),onUpdated:()=>{p(Date.now()),m(!1)}})]})},mE="/assets/fond-CbVTUmd7.png",fE=()=>n.jsxs("section",{className:"relative w-full h-[30vh] sm:h-[50vh] md:h-screen flex items-center justify-center md:justify-start",children:[n.jsx("img",{src:mE,alt:"Hero background",className:"absolute inset-0 w-full h-full object-cover"}),n.jsxs("div",{className:"relative z-10 pl-4 pr-50 sm:px-6 lg:px-16 text-white max-w-3xl flex flex-col justify-center h-full space-y-4 text-left",children:[n.jsx("h2",{className:"hidden sm:block md:text-xl font-bold",children:"Donner du pouvoir aux agriculteurs locaux, un clic  la fois"}),n.jsx("h1",{className:"text-2xl sm:text-3xl md:text-7xl font-extrabold leading-tight",children:"Cultiver pour un avenir sain"}),n.jsx("p",{className:"text-xs sm:text-sm md:text-xl",children:"La premire plateforme numrique du Sngal qui connecte directement les producteurs agricoles aux acheteurs pour des transactions transparentes et quitables"})]})]});/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hE=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,s)=>s?s.toUpperCase():r.toLowerCase()),oy=e=>{const t=hE(e);return t.charAt(0).toUpperCase()+t.slice(1)},QN=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim(),gE=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...xE,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:QN("lucide",a),...!i&&!gE(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>h.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const r=h.forwardRef(({className:s,...a},i)=>h.createElement(vE,{ref:i,iconNode:t,className:QN(`lucide-${pE(oy(e))}`,`lucide-${e}`,s),...a}));return r.displayName=oy(e),r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],XN=de("activity",yE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$c=de("arrow-right",bE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ns=de("bell",jE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xu=de("book-open",wE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xa=de("calendar",NE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],j0=de("camera",SE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],So=de("chart-column",CE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Tp=de("check",PE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JN=de("chevron-down",kE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],EE=de("chevron-left",AE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OE=de("chevron-right",TE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Es=de("circle-alert",ME);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ar=de("circle-check-big",LE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zn=de("circle-x",IE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ho=de("clipboard-list",DE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$r=de("clock",_E);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],ly=de("cog",RE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],cy=de("database",FE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Wo=de("dollar-sign",$E);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ZN=de("download",zE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],BE=de("ellipsis-vertical",UE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],VE=de("ellipsis",qE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],WE=de("external-link",HE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ss=de("eye-off",KE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hr=de("eye",GE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QE=de("file-text",YE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],va=de("funnel",XE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],wn=de("graduation-cap",JE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],eT=de("headphones",ZE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],w0=de("layout-dashboard",tT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],nT=de("leaf",rT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],nt=de("loader-circle",sT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],sf=de("loader",aT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],uy=de("lock-open",iT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qs=de("lock",oT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],e2=de("log-in",lT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Aa=de("log-out",cT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],di=de("mail",uT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ko=de("map-pin",dT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qe=de("package",mT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],pT=de("pause",fT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gT=de("pen",hT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ya=de("phone",xT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Op=de("play",vT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mi=de("plus",yT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],jT=de("power",bT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_r=de("refresh-cw",wT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Co=de("save",NT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],CT=de("scale",ST);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vt=de("search",PT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lr=de("settings",kT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Go=de("shield-check",AT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],vu=de("shield",ET);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],gr=de("shopping-cart",TT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],MT=de("sprout",OT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Yo=de("square-pen",LT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Qo=de("star",IT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ba=de("trash-2",DT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ts=de("trending-up",_T);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],N0=de("triangle-alert",RT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],rn=de("truck",FT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],t2=de("upload",$T);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zc=de("user-check",zT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],BT=de("user-plus",UT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],af=de("user-x",qT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Et=de("user",VT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ir=de("users",HT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],KT=de("video",WT);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],or=de("x",GT),YT="/assets/2-DCnsgxSF.jpg",QT="/assets/4-tmR9zwV6.jpg",XT="/assets/3-C1BU00Fa.jpg";function JT(){return n.jsx("section",{className:"py-12 sm:py-16 bg-gradient-to-b from-white to-gray-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center",children:[n.jsxs("div",{className:"space-y-6 text-center lg:text-left",children:[n.jsx("h2",{className:"text-3xl sm:text-5xl md:text-6xl font-serif italic text-gray-900",children:"Qui sommes-nous ?"}),n.jsxs("div",{className:"space-y-5",children:[n.jsx("p",{className:"text-base sm:text-lg text-gray-700 leading-relaxed",children:"Agriteranga est une plateforme ddie  la valorisation des produits agricoles locaux. Nous mettons en relation directe les producteurs, les consommateurs et les livreurs, pour encourager une agriculture durable, transparente et quitable."}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start sm:space-x-4 bg-white p-5 rounded-2xl shadow-sm border border-gray-100",children:[n.jsx("div",{className:"flex-shrink-0 mb-3 sm:mb-0",children:n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(nT,{className:"w-6 h-6 text-green-600"})})}),n.jsx("div",{children:n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Grce  notre rseau, les producteurs peuvent vendre facilement leurs rcoltes, les consommateurs ont accs  des produits frais et sains, et les livreurs participent  la chane de distribution locale. Ensemble, nous btissons un cosystme agricole responsable qui soutient les communauts rurales et favorise le dveloppement local."})})]}),n.jsx("div",{className:"pt-4 flex justify-center lg:justify-center",children:n.jsxs(xe,{to:"/contact",className:"inline-flex items-center px-8 py-3 bg-yellow-400 text-gray-900 font-semibold rounded-full hover:bg-yellow-500 transition-all transform hover:scale-105 shadow-lg hover:shadow-xl",children:["Contactez-nous",n.jsx($c,{className:"ml-2 w-5 h-5"})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-10 lg:mt-0",children:[n.jsx("div",{className:"col-span-1 row-span-2 h-56 sm:h-72 lg:h-[31rem] rounded-2xl overflow-hidden shadow-lg",children:n.jsx("img",{src:YT,alt:"Femme avec panier de lgumes",className:"w-full h-full object-cover"})}),n.jsx("div",{className:"col-span-1 flex items-center justify-center order-2 sm:order-none",children:n.jsx("div",{className:"w-32 h-32 sm:w-44 sm:h-44 lg:w-56 lg:h-56 rounded-full overflow-hidden shadow-lg border-4 border-green-200",children:n.jsx("img",{src:QT,alt:"Icne circulaire",className:"w-full h-full object-cover"})})}),n.jsx("div",{className:"col-span-1 h-48 sm:h-64 lg:h-62 rounded-2xl overflow-hidden shadow-lg",children:n.jsx("img",{src:XT,alt:"Femme dans un jardin",className:"w-full h-full object-cover"})})]})]})})})}const ZT=()=>{const[e,t]=h.useState([]),[r,s]=h.useState(!0),[a,i]=h.useState(null);return h.useEffect(()=>{let o=!0;return(async()=>{try{s(!0),i(null);const u=await ne.getProducts({page:1,limit:8,sort:"-createdAt"})||{},d=u.data&&(u.data.products||u.data.docs)||u.products||(Array.isArray(u)?u:[]);o&&t(Array.isArray(d)?d:[])}catch(c){o&&(i((c==null?void 0:c.message)||"Erreur lors du chargement des produits"),t([]))}finally{o&&s(!1)}})(),()=>{o=!1}},[]),n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"container mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-3",children:"Nos produits populaires"}),n.jsx("p",{className:"text-green-600 text-lg",children:"Dcouvrez les produits les plus demands par nos acheteurs."})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r&&n.jsx("div",{className:"col-span-4 text-center text-gray-500",children:"Chargement..."}),a&&!r&&n.jsx("div",{className:"col-span-4 text-center text-red-600",children:a}),!r&&!a&&e.length===0&&n.jsx("div",{className:"col-span-4 text-center text-gray-500",children:"Aucun produit disponible."}),!r&&!a&&e.map(o=>n.jsxs(xe,{to:`/produit/${o._id||o.id}`,className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow overflow-hidden border border-gray-100 group block",children:[n.jsxs("div",{className:"relative",children:[At(o)?n.jsx("img",{src:At(o),alt:o.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}):n.jsx("div",{className:"w-full h-48 bg-gray-100 flex items-center justify-center",children:n.jsx("span",{className:"text-6xl",children:""})}),o.discount&&n.jsx("span",{className:"absolute top-2 right-2 bg-yellow-400 text-white text-xs font-bold px-3 py-1 rounded-full",children:o.discount})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold text-gray-800 text-lg mb-2 group-hover:text-green-600 transition-colors",children:o.name}),n.jsx("p",{className:"font-bold text-gray-800 mb-1",children:typeof o.price=="number"?`${o.price} CFA`:o.price||"-"}),n.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Par : ",o.seller||o.producerName||o.producer&&[o.producer.firstName,o.producer.lastName].filter(Boolean).join(" ")||""]}),n.jsxs("button",{className:"w-full bg-gray-100 hover:bg-green-100 text-gray-700 hover:text-green-600 font-semibold py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Voir le dtail"]})]})]},o._id||o.id))]})]})})},e8=()=>{const e=[{icon:"",title:"Notre expertise en agriculture urbaine",description:"Nous promouvons des solutions innovantes pour rapprocher les producteurs des consommateurs, mme en milieu urbain."},{icon:"",title:"Des solutions durables",description:"Notre mission est de btir une agriculture plus rsiliente, fonde sur la durabilit et la transparence."},{icon:"",title:"Une approche centre sur la communaut",description:"Chez Agriterra, nous croyons au pouvoir du collectif. Nous connectons les producteurs, les consommateurs et les livreurs dans une relation de confiance et de proximit."},{icon:"",title:"Un accs  des produits frais et de qualit",description:"Grce  notre plateforme, vous accdez facilement  des produits locaux, frais et tracs depuis leur origine."}];return n.jsxs("section",{className:"relative py-20 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=1920&h=1080&fit=crop')",filter:"blur(1px)"}}),n.jsx("div",{className:"absolute inset-0 bg-green-900 bg-opacity-85"}),n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 max-w-6xl",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6 leading-tight max-w-4xl mx-auto",children:"Bon pour la plante, meilleur pour votre sant"}),n.jsx("p",{className:"text-white text-lg leading-relaxed max-w-3xl mx-auto",children:"Nos produits sont cultivs de manire responsable, dans le respect de la nature et des communauts locales."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:e.map((t,r)=>n.jsx("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow duration-300",children:n.jsxs("div",{className:"flex items-start gap-6",children:[n.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 border-2 border-green-200",children:n.jsx("span",{className:"text-2xl",children:t.icon})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-gray-800 text-xl mb-3 leading-tight",children:t.title}),n.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:t.description})]})]})},r))})]})]})},t8=()=>{const e=[{quote:"Grce  AgriTeranga, je peux vendre ma production directement aux consommateurs. C'est une vraie rvolution pour nous, les petits producteurs !",name:"Aissatou Sow",role:"tudiante",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100"},{quote:"J'ai accs  des produits frais et locaux chaque semaine. La qualit est exceptionnelle et je soutiens directement nos agriculteurs locaux.",name:"Mamadou Fall",role:"Consommateur",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100"},{quote:"En tant que livreur sur la plateforme, je participe  une conomie locale et durable. C'est valorisant et les revenus sont intressants.",name:"Ousmane Diop",role:"Livreur",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100"},{quote:"La plateforme m'a permis de dvelopper mon business de marachage. Je vends maintenant 3 fois plus qu'avant grce  la visibilit offerte.",name:"Fatou Diop",role:"Productrice",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100"},{quote:"Livraison rapide et produits de qualit. Je recommande AgriTeranga  tous mes amis qui veulent manger sain et soutenir l'agriculture locale.",name:"Ibrahim Ndiaye",role:"Client fidle",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100"},{quote:"Travailler avec cette plateforme a transform ma faon de consommer. Je dcouvre de nouveaux producteurs chaque semaine !",name:"Marie Gomis",role:"Acheteuse rgulire",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=100"}],[t,r]=h.useState(0);h.useEffect(()=>{const a=setInterval(()=>{r(i=>(i+1)%2)},3e3);return()=>clearInterval(a)},[]);const s=()=>{const i=t*3;return e.slice(i,i+3)};return n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-script text-gray-800 mb-3",children:"Tmoignages de nos clients"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Ce que disent nos clients"})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s().map((a,i)=>n.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-md hover:shadow-xl transition-shadow",children:[n.jsx("div",{className:"mb-6",children:n.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"})})}),n.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:a.quote}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("img",{src:a.avatar,alt:a.name,className:"w-12 h-12 rounded-full object-cover"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-gray-800",children:a.name}),n.jsx("p",{className:"text-sm text-gray-500",children:a.role})]})]})]},`${t}-${i}`))}),n.jsxs("div",{className:"flex justify-center gap-3 mt-8",children:[n.jsx("div",{className:`w-4 h-4 rounded-full transition-colors duration-300 ${t===0?"bg-green-600":"bg-gray-300"}`}),n.jsx("div",{className:`w-4 h-4 rounded-full transition-colors duration-300 ${t===1?"bg-green-600":"bg-gray-300"}`})]})]})})},r8=()=>{const[e,t]=h.useState({fullName:"",email:"",phone:"",appointmentDate:"",appointmentTime:"",comments:""}),[r,s]=h.useState({fullName:"",email:"",phone:"",appointmentDate:"",appointmentTime:"",comments:""}),[a,i]=h.useState(!1),l=(()=>{const v=new Date,y=v.getFullYear(),j=String(v.getMonth()+1).padStart(2,"0"),w=String(v.getDate()).padStart(2,"0");return`${y}-${j}-${w}`})(),c=v=>{if(!v)return"";const[y,j,w]=v.split("-");return`${w}/${j}/${y}`},u=v=>v.replace(/[^\d]/g,""),d=v=>{let j=u(v);if(j.startsWith("00221")?j=j.slice(5):j.startsWith("221")&&(j=j.slice(3)),!/^\d{9}$/.test(j))return!1;const w=j.slice(0,2),N=["70","75","76","77","78"];return w==="33"?!0:N.includes(w)},m=v=>{const j=new Date(v+"T00:00:00").getDay();return j===0||j===6},f=new Set(["01-01","04-04","05-01","08-15","11-01","12-25"]),p=v=>{if(!v)return!1;const[,y,j]=v.split("-");return f.has(`${y}-${j}`)},g=(v,y)=>{switch(v){case"fullName":return y!=null&&y.trim()?"":"Le nom complet est requis.";case"email":return y!=null&&y.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y)?"":"Email invalide.":"L'email est requis.";case"phone":return y!=null&&y.trim()?d(y)?"":"Numro invalide. Exemple: +221 77 123 45 67 ou 33 8xx xx xx":"Le numro de tlphone est requis.";case"appointmentDate":return y?y<l?`La date ${c(y)} doit tre aujourd'hui ou ultrieure.`:m(y)?`Les rendez-vous ne sont pas disponibles le week-end (${c(y)}).`:p(y)?`Les rendez-vous ne sont pas disponibles les jours fris (${c(y)}).`:"":"La date est requise.";case"appointmentTime":return y?"":"L'heure du rendez-vous est requise.";case"comments":return"";default:return""}},b=v=>{const{name:y,value:j}=v.target;t({...e,[y]:j});const w=g(y,j);s(N=>({...N,[y]:w}))},x=v=>{v.preventDefault();const y={fullName:g("fullName",e.fullName),email:g("email",e.email),phone:g("phone",e.phone),appointmentDate:g("appointmentDate",e.appointmentDate),appointmentTime:g("appointmentTime",e.appointmentTime),comments:g("comments",e.comments)};s(y),!Object.values(y).some(Boolean)&&(i(!0),t({fullName:"",email:"",phone:"",appointmentDate:"",appointmentTime:"",comments:""}))};return n.jsxs(n.Fragment,{children:[n.jsxs("section",{className:"min-h-screen relative flex",children:[n.jsx("div",{className:"hidden lg:block lg:w-3/5 relative",children:n.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1540420773420-3366772f4999?w=1600)"},children:n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"})})}),n.jsx("div",{className:"w-full lg:w-2/5 flex items-center justify-center p-6 bg-white lg:bg-white",children:n.jsxs("div",{className:"w-full max-w-lg bg-white rounded-xl p-12 shadow-2xl",style:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.12)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"rgba(0, 0, 0, 0.87)"},children:"Prendre un rendez-vous"}),n.jsx("p",{className:"text-base mb-5 leading-relaxed",style:{color:"rgba(0, 0, 0, 0.6)"},children:"Vous souhaitez discuter avec un producteur, visiter une ferme ou passer une commande spciale ?"}),n.jsx("p",{className:"text-base mb-8 leading-relaxed",style:{color:"rgba(0, 0, 0, 0.6)"},children:"Remplissez simplement le formulaire ci-dessous et nous vous recontacterons rapidement."}),n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("input",{type:"text",id:"fullName",name:"fullName",value:e.fullName,onChange:b,className:"w-full px-4 py-3 border rounded-md text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500",style:{borderColor:"#EEEEEE",color:"rgba(0, 0, 0, 0.87)"},placeholder:"Nom complet",required:!0}),r.fullName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.fullName})]}),n.jsxs("div",{children:[n.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:b,className:"w-full px-4 py-3 border rounded-md text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500",style:{borderColor:"#EEEEEE",color:"rgba(0, 0, 0, 0.87)"},placeholder:"Bote de rservation",required:!0}),r.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),n.jsxs("div",{children:[n.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:b,className:"w-full px-4 py-3 border rounded-md text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500",style:{borderColor:"#EEEEEE",color:"rgba(0, 0, 0, 0.87)"},placeholder:"Numro de tlphone",required:!0}),r.phone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.phone})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[n.jsxs("div",{children:[n.jsx("input",{type:"date",id:"appointmentDate",name:"appointmentDate",value:e.appointmentDate,onChange:b,className:"w-full px-4 py-3 border rounded-md text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500",style:{borderColor:"#EEEEEE",color:"rgba(0, 0, 0, 0.87)"},placeholder:"Date du rendez-vous",min:l,required:!0}),r.appointmentDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.appointmentDate})]}),n.jsxs("div",{children:[n.jsx("input",{type:"time",id:"appointmentTime",name:"appointmentTime",value:e.appointmentTime,onChange:b,className:"w-full px-4 py-3 border rounded-md text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500",style:{borderColor:"#EEEEEE",color:"rgba(0, 0, 0, 0.87)"},placeholder:"Heure du rendez-vous",required:!0}),r.appointmentTime&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.appointmentTime})]})]}),n.jsxs("div",{children:[n.jsx("textarea",{id:"comments",name:"comments",rows:"5",value:e.comments,onChange:b,className:"w-full px-4 py-3 border rounded-md text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 resize-vertical",style:{borderColor:"#EEEEEE",color:"rgba(0, 0, 0, 0.87)"},placeholder:"Commentaires"}),r.comments&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.comments})]}),n.jsx("button",{type:"submit",className:"w-full py-4 px-6 rounded-md font-semibold text-lg transition-all duration-200 hover:shadow-lg",style:{backgroundColor:"#FFC107",color:"rgba(0, 0, 0, 0.87)",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},onMouseOver:v=>{v.target.style.backgroundColor="#FFD54F",v.target.style.boxShadow="0px 4px 8px rgba(0, 0, 0, 0.15)"},onMouseOut:v=>{v.target.style.backgroundColor="#FFC107",v.target.style.boxShadow="0px 2px 5px rgba(0, 0, 0, 0.1)"},children:"Envoyer le message"})]})]})}),n.jsx("div",{className:"lg:hidden absolute inset-0 bg-cover bg-center -z-10",style:{backgroundImage:"url(https://images.unsplash.com/photo-1540420773420-3366772f4999?w=1600)"},children:n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"})})]}),a&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Rendez-vous envoy"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Votre demande de rendez-vous a t envoye avec succs. Nous vous contacterons rapidement."}),n.jsx("div",{className:"flex justify-end gap-3",children:n.jsx("button",{type:"button",className:"bg-green-800 hover:bg-green-900 text-white px-4 py-2 rounded-lg",onClick:()=>i(!1),children:"Fermer"})})]})})]})},n8=()=>{const e=[{id:1,title:"Jardin de lgumes de Fatou",description:"Production bio et varie, livre directement aux consommateurs.",image:"https://images.unsplash.com/photo-1464226184884-fa280b87c399?w=600"},{id:2,title:"Ferme de Mamadou",description:"Fruits frais et de saison, issus d'une agriculture durable.",image:"https://images.unsplash.com/photo-1625246333195-78d9c38ad449?w=600"},{id:3,title:"Cooprative de This",description:"Production  grande chelle avec des pratiques durables.",image:"https://images.unsplash.com/photo-1574943320219-553eb213f72d?w=600"},{id:4,title:"Serre de Kolda",description:"Culture hydroponique moderne avec un rendement optimal.",image:"https://images.unsplash.com/photo-1464226184884-fa280b87c399?w=600"}],[t,r]=h.useState(0),s=()=>{r(i=>(i+2)%4)},a=()=>{r(i=>(i-2+4)%4)};return n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("h2",{className:"text-4xl md:text-5xl text-center font-script mb-12",style:{color:"#2B6B44"},children:"Nos ralisations locales"}),n.jsxs("div",{className:"relative max-w-6xl mx-auto",children:[n.jsx("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:e.slice(t,t+2).map((i,o)=>n.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[n.jsx("img",{src:i.image,alt:i.title,className:"w-full h-64 object-cover"}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"font-bold text-gray-800 text-xl mb-3",children:i.title}),n.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]})]},i.id))}),n.jsx("button",{onClick:a,className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-16 w-14 h-14 rounded-full flex items-center justify-center text-white hover:opacity-90 transition-all duration-200 shadow-lg transform hover:scale-105 opacity-100 hover:opacity-90",style:{backgroundColor:"#2B6B44"},children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("button",{onClick:s,className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-16 w-14 h-14 rounded-full flex items-center justify-center text-white hover:opacity-90 transition-all duration-200 shadow-lg transform hover:scale-105 opacity-100 hover:opacity-90",style:{backgroundColor:"#2B6B44"},children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),n.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[n.jsx("button",{onClick:()=>r(0),className:`w-4 h-4 rounded-full transition-all duration-200 ${t===0?"opacity-100":"opacity-30"}`,style:{backgroundColor:"#2B6B44"}}),n.jsx("button",{onClick:()=>r(2),className:`w-4 h-4 rounded-full transition-all duration-200 ${t===2?"opacity-100":"opacity-30"}`,style:{backgroundColor:"#2B6B44"}})]})]})})},s8=()=>{const e=[{id:1,title:"Les bienfaits des lgumes frais pour la sant des femmes",category:"NUTRITION",author:"ADMIN",date:"15 Sep 2023",excerpt:"Dcouvrez comment les lgumes frais peuvent amliorer votre sant au quotidien. Riches en vitamines, minraux et fibres, ils contribuent  renforcer le systme immunitaire, prvenir certaines maladies et maintenir un poids sant. Intgrer une varit de lgumes dans votre alimentation permet galement de stimuler l'nergie et d'amliorer la digestion.",image:"https://images.unsplash.com/photo-1540420773420-3366772f4999?w=400"},{id:2,title:"Comment choisir des produits de saison au Sngal",category:"CONSEILS",author:"ADMIN",date:"12 Sep 2023",excerpt:"Un guide complet pour acheter les meilleurs produits selon les saisons. Apprenez  reconnatre les fruits et lgumes les plus frais,  planifier vos menus en fonction des rcoltes locales et  soutenir les agriculteurs sngalais. Manger de saison permet aussi de rduire le gaspillage alimentaire et de profiter de saveurs optimales.",image:"https://images.unsplash.com/photo-1610348725531-843dff563e2c?w=400"},{id:3,title:"Recettes traditionnelles avec des ingrdients locaux",category:"CUISINE",author:"ADMIN",date:"10 Sep 2023",excerpt:"Redcouvrez les saveurs authentiques de notre terroir  travers ces recettes. Utilisez des ingrdients locaux pour prparer des plats typiques tout en valorisant la richesse culturelle et culinaire du Sngal. Ces recettes simples et savoureuses permettent de cuisiner sainement et de partager un vrai moment de convivialit.",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=400"},{id:4,title:"L'agriculture urbaine, l'avenir de nos villes",category:"TENDANCES",author:"ADMIN",date:"08 Sep 2023",excerpt:"Comment l'agriculture urbaine transforme nos espaces et notre alimentation. Jardins sur les toits, potagers communautaires et fermes verticales permettent de produire localement, de rduire l'empreinte carbone et d'amliorer la qualit de vie en ville. Cette pratique favorise l'autosuffisance et cre des opportunits conomiques et sociales.",image:"https://images.unsplash.com/photo-1552862750-746b8f6f7f25?w=400"}],[t,r]=h.useState([]),s=a=>{t.includes(a)?r(t.filter(i=>i!==a)):r([...t,a])};return n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-2",children:[n.jsx("h2",{className:"text-4xl md:text-5xl text-center font-script mb-12",style:{color:"#2B6B44"},children:"Derniers articles"}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(a=>{const i=t.includes(a.id);return n.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow",children:[n.jsx("img",{src:a.image,alt:a.title,className:"w-full h-48 object-cover"}),n.jsxs("div",{className:"p-6",children:[n.jsxs("p",{className:"text-xs text-gray-400 mb-3",children:[a.category," . ",a.author," . ",a.date]}),n.jsx("h3",{className:"font-bold text-gray-800 text-lg mb-3",children:a.title}),n.jsx("p",{className:`text-gray-600 text-sm mb-4 ${i?"":"line-clamp-2"}`,children:a.excerpt}),n.jsx("button",{className:"text-sm text-gray-500 hover:text-green-600 transition-colors",onClick:()=>s(a.id),children:i?"Rduire ":"Continuer la lecture "})]})]},a.id)})})]})})},a8="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgaWQ9IkxheWVyXzEiIGRhdGEtbmFtZT0iTGF5ZXIgMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmlld0JveD0iMCAwIDMwNjAuNTYgMTg5MS4yNCI+DQogIDxkZWZzPg0KICAgIDxzdHlsZT4NCiAgICAgIC5jbHMtMSB7DQogICAgICAgIGxldHRlci1zcGFjaW5nOiAtLjA0ZW07DQogICAgICB9DQoNCiAgICAgIC5jbHMtMiB7DQogICAgICAgIGZpbGw6IHVybCgjbGluZWFyLWdyYWRpZW50LTIpOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTMgew0KICAgICAgICBjbGlwLXBhdGg6IHVybCgjY2xpcHBhdGgtMSk7DQogICAgICB9DQoNCiAgICAgIC5jbHMtNCB7DQogICAgICAgIGxldHRlci1zcGFjaW5nOiAtLjAyZW07DQogICAgICB9DQoNCiAgICAgIC5jbHMtNSB7DQogICAgICAgIGNsaXAtcnVsZTogZXZlbm9kZDsNCiAgICAgICAgZmlsbDogbm9uZTsNCiAgICAgIH0NCg0KICAgICAgLmNscy02IHsNCiAgICAgICAgZmlsbDogIzAxM2IwMTsNCiAgICAgICAgb3BhY2l0eTogLjIxOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTYsIC5jbHMtNywgLmNscy04IHsNCiAgICAgICAgZmlsbC1ydWxlOiBldmVub2RkOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTcgew0KICAgICAgICBvcGFjaXR5OiAuMTk7DQogICAgICB9DQoNCiAgICAgIC5jbHMtNywgLmNscy05IHsNCiAgICAgICAgZmlsbDogI2ZmZjsNCiAgICAgIH0NCg0KICAgICAgLmNscy0xMCB7DQogICAgICAgIGZpbGw6IHVybCgjbGluZWFyLWdyYWRpZW50KTsNCiAgICAgIH0NCg0KICAgICAgLmNscy04IHsNCiAgICAgICAgZmlsbDogIzA0NTMwNDsNCiAgICAgICAgb3BhY2l0eTogLjE3Ow0KICAgICAgfQ0KDQogICAgICAuY2xzLTExIHsNCiAgICAgICAgY2xpcC1wYXRoOiB1cmwoI2NsaXBwYXRoKTsNCiAgICAgIH0NCg0KICAgICAgLmNscy05IHsNCiAgICAgICAgZm9udC1mYW1pbHk6IFJvYm90by1FeHRyYUJvbGQsIFJvYm90bzsNCiAgICAgICAgZm9udC1zaXplOiAzNjMuOTJweDsNCiAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsNCiAgICAgIH0NCiAgICA8L3N0eWxlPg0KICAgIDxjbGlwUGF0aCBpZD0iY2xpcHBhdGgiPg0KICAgICAgPHBhdGggY2xhc3M9ImNscy01IiBkPSJNNDc1LjEzLDY2Mi4zNXYuMDZjLTEuNTksMTYuNTYtMy44LDMzLjE0LTYuNjQsNDkuNzFsLTEwLjQ0LDc4LjE0Yzc5Ljc2LTM4LDE3Ni4xMy05MS42NywyNjMuNTgtMTYxLjQxLTE2LjIzLTE1MC4wNy04Mi40My0yOTEuNzgtMTg4LjUtNDAwLjYyLTYxLjkyLTYzLjU1LTEzNy40MS0xMTUuODgtMjI0LjUtMTUyLjE1LTQyLjM0LTE3LjYzLTg1LjQ1LTMwLjY0LTEyOC43Ny0zOS4yNywyMDYuNDQsMTM5LjAzLDMxOC42NiwzODAuOTcsMjk1LjI3LDYyNS41NCIvPg0KICAgIDwvY2xpcFBhdGg+DQogICAgPGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXItZ3JhZGllbnQiIHgxPSIzNzguNDEiIHkxPSIxMjkwLjgyIiB4Mj0iNTIxLjc0IiB5Mj0iLTQ0Ny41MSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMDI3ODAwIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNkN2YyNDEiLz4NCiAgICA8L2xpbmVhckdyYWRpZW50Pg0KICAgIDxjbGlwUGF0aCBpZD0iY2xpcHBhdGgtMSI+DQogICAgICA8cGF0aCBjbGFzcz0iY2xzLTUiIGQ9Ik00OTguNjIsNjUxLjExaC0uMDJzLS4wMy4wNC0uMDMuMDRjLTEyLjg0LDEwLjU5LTI2LjEyLDIwLjc1LTM5Ljg0LDMwLjQ1TDAsMTAzMi4yYzEzNy4wNSwzNS41NCwyODYuMzYsMjguNTUsNDI3LjM1LTI5LjUzLDI1OC40OS0xMDYuNDksNDE1Ljg1LTM1NC42LDQxOS4yNS02MTcuNTIsMS4xNS04OC43Mi0xNS4yMy0xNzkuMTEtNTEuMTYtMjY2LjMzLTE3LjQ3LTQyLjQtMzguNzYtODIuMDktNjMuMjktMTE4LjgyLDQ3LjY2LDI0NC4yOS00NC4wNyw0OTQuNzEtMjMzLjU0LDY1MS4xMSIvPg0KICAgIDwvY2xpcFBhdGg+DQogICAgPGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXItZ3JhZGllbnQtMiIgeDE9IjMyLjY0IiB5MT0iMjA2OC44NyIgeDI9IjYwNy42NCIgeTI9Ii0xODcuMTIiIHhsaW5rOmhyZWY9IiNsaW5lYXItZ3JhZGllbnQiLz4NCiAgPC9kZWZzPg0KICA8Zz4NCiAgICA8ZyBjbGFzcz0iY2xzLTExIj4NCiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMTAiIHg9IjE3OS44NiIgeT0iMzYuODEiIHdpZHRoPSI1NDEuNzciIGhlaWdodD0iNzUzLjQ1Ii8+DQogICAgPC9nPg0KICAgIDxwYXRoIGNsYXNzPSJjbHMtOCIgZD0iTTYxNi4yNiw3MDMuNDVjMzUuNDctMjIuNDEsNzEuMS00Ny4yNywxMDUuMzctNzQuNTktMTYuMjMtMTUwLjA3LTgyLjQzLTI5MS43OC0xODguNS00MDAuNjItNjEuOTItNjMuNTUtMTM3LjQxLTExNS44OC0yMjQuNS0xNTIuMTUtNDIuMzQtMTcuNjMtODUuNDUtMzAuNjQtMTI4Ljc3LTM5LjI3LDAsMCwzNDcuMjksMTIyLjMsNDI1LjMsNjE0Ljk1LDIuOTcsMTguNzYsNi43NCwzNS44NCwxMS4xLDUxLjY4Ii8+DQogICAgPHBhdGggY2xhc3M9ImNscy02IiBkPSJNNDc1LjEzLDY2Mi4zNXYuMDZjLTEuNTksMTYuNTYtMy44LDMzLjE0LTYuNjQsNDkuNzFsLTEwLjQ0LDc4LjE0Yzc5Ljc2LTM4LDE3Ni4xMy05MS42NywyNjMuNTgtMTYxLjQxLTkuMjYtODUuNjYtMzQuODMtMTY4LjYtNzQuNzgtMjQ0LjI2LTI3LjE5LDQ2LjU0LTg3LjEyLDE0MC4yNy0xNjguNywyMTYuODYtLjEsMjAuMjQtMS4wOCw0MC41Ni0zLjAyLDYwLjkiLz4NCiAgICA8ZyBjbGFzcz0iY2xzLTMiPg0KICAgICAgPHJlY3QgY2xhc3M9ImNscy0yIiB3aWR0aD0iODQ3Ljc1IiBoZWlnaHQ9IjEwNjcuNzQiLz4NCiAgICA8L2c+DQogICAgPHBhdGggY2xhc3M9ImNscy03IiBkPSJNNDk4LjYyLDY1MS4xMWgtLjAycy0uMDMuMDQtLjAzLjA0Yy0xMi44NCwxMC41OS0yNi4xMiwyMC43NS0zOS44NCwzMC40NUwwLDEwMzIuMmM3MS43NCwxOC42LDE0Ni44MywyNS41NCwyMjIuMzQsMTkuNjEsMTI0LjI0LTEyMC41MiwyNjUuNjMtMjU3LjIyLDM4Ny42NC0zNzQuMDVDOTA2Ljg1LDM5My41Miw3MzIuMTYsMCw3MzIuMTYsMGM0Ny42NiwyNDQuMjktNDQuMDcsNDk0LjcxLTIzMy41NCw2NTEuMTEiLz4NCiAgPC9nPg0KICA8dGV4dCBjbGFzcz0iY2xzLTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMzEuODQgNjg2LjI5KSI+PHRzcGFuIHg9IjAiIHk9IjAiPkFncmk8L3RzcGFuPjx0c3BhbiBjbGFzcz0iY2xzLTEiIHg9IjY4OC41NiIgeT0iMCI+VDwvdHNwYW4+PHRzcGFuIHg9IjkwMC4wMiIgeT0iMCI+ZTwvdHNwYW4+PHRzcGFuIGNsYXNzPSJjbHMtNCIgeD0iMTA5Ny40MyIgeT0iMCI+cjwvdHNwYW4+PHRzcGFuIHg9IjEyMjcuMzMiIHk9IjAiPmFuZ2E8L3RzcGFuPjwvdGV4dD4NCjwvc3ZnPg==",Vr=()=>n.jsx("footer",{className:"bg-green-800 text-white pt-12 pb-6",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 mb-8",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{className:"flex items-center gap-4 mb-4",children:n.jsx(xe,{to:"/",children:n.jsx("img",{src:a8,alt:"Logo AgriTeranga",className:"w-48 h-auto object-contain"})})}),n.jsx("p",{className:"text-green-100 mb-6 leading-relaxed",children:"Ensemble, construisons un avenir plus vert et durable."}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("a",{href:"#",className:"w-10 h-10 bg-green-600 hover:bg-green-500 rounded flex items-center justify-center transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),n.jsx("a",{href:"#",className:"w-10 h-10 bg-green-600 hover:bg-green-500 rounded flex items-center justify-center transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),n.jsx("a",{href:"#",className:"w-10 h-10 bg-green-600 hover:bg-green-500 rounded flex items-center justify-center transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h3",{className:"text-lg font-bold mb-4 border-b-2 border-green-600 pb-2 inline-block",children:"Explorer"}),n.jsxs("ul",{className:"space-y-2 flex-grow",children:[n.jsx("li",{children:n.jsx(xe,{to:"/services",className:"text-green-100 hover:text-white transition-colors",children:"Nos services"})}),n.jsx("li",{children:n.jsx(xe,{to:"/sellers",className:"text-green-100 hover:text-white transition-colors",children:"Nos vendeurs"})}),n.jsx("li",{children:n.jsx(xe,{to:"/products",className:"text-green-100 hover:text-white transition-colors",children:"Nos produits"})}),n.jsx("li",{children:n.jsx(xe,{to:"/experts",className:"text-green-100 hover:text-white transition-colors",children:"Avis d'experts"})}),n.jsx("li",{children:n.jsx(xe,{to:"/livraison",className:"text-green-100 hover:text-white transition-colors",children:"Livraison"})})]})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h3",{className:"text-lg font-bold mb-4 border-b-2 border-green-600 pb-2 inline-block",children:"Contact"}),n.jsxs("ul",{className:"space-y-3 flex-grow",children:[n.jsxs("li",{className:"flex items-center gap-3",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),n.jsx("span",{className:"text-green-100",children:"77 343 24 85"})]}),n.jsxs("li",{className:"flex items-center gap-3",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),n.jsx("span",{className:"text-green-100",children:"agriteranga@gmail.com"})]}),n.jsxs("li",{className:"flex items-center gap-3",children:[n.jsxs("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.jsx("span",{className:"text-green-100",children:"Dakar / SENEGAL"})]})]}),n.jsx(xe,{to:"/contact",className:"mt-6 bg-green-600 hover:bg-green-500 text-white font-semibold px-6 py-2 rounded-full transition-colors self-start text-center",children:"Contactez nous"})]})]}),n.jsx("div",{className:"border-t border-green-700 pt-6 text-center",children:n.jsx("p",{className:"text-green-100",children:" 2025 Agriteranga  Tous droits rservs"})})]})}),i8=({onOpenRegister:e,onOpenLogin:t})=>n.jsxs("div",{className:"min-h-screen",children:[n.jsx(qr,{onRegisterClick:e,onLoginClick:t}),n.jsxs("main",{children:[n.jsx(fE,{}),n.jsx(JT,{}),n.jsx(ZT,{}),n.jsx(e8,{}),n.jsx(t8,{}),n.jsx(r8,{}),n.jsx(n8,{}),n.jsx(s8,{})]}),n.jsx(Vr,{})]}),o8=({onOpenRegister:e,onOpenLogin:t})=>{const r=[{icon:n.jsx("svg",{className:"w-16 h-16 text-green-700 mx-auto mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),title:"quit",description:"Nous assurons des transactions justes qui valorisent le travail des agriculteurs et garantissent des prix abordables pour les consommateurs."},{icon:n.jsxs("svg",{className:"w-16 h-16 text-green-700 mx-auto mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:[n.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),n.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),title:"Transparence",description:"Nous offrons une traabilit complte du producteur au consommateur pour une confiance totale dans la qualit des produits."},{icon:n.jsx("svg",{className:"w-16 h-16 text-green-700 mx-auto mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z",clipRule:"evenodd"})}),title:"Durabilit",description:"Nous soutenons les pratiques agricoles respectueuses de l'environnement pour prserver nos terres pour les gnrations futures."}];return n.jsxs("div",{className:"min-h-screen",children:[n.jsx(qr,{onRegisterClick:e,onLoginClick:t}),n.jsxs("main",{children:[n.jsxs("section",{className:"relative py-28 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('/src/assets/prop.jpg')"},children:[n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:" Propos d'AgriTeranga"}),n.jsx("p",{className:"text-lg md:text-xl max-w-4xl mx-auto leading-relaxed text-white",children:"Notre mission est de donner le pouvoir aux agriculteurs locaux en crant un cosystme agricole transparent, quitable et durable pour tous."})]}),n.jsx("div",{className:"absolute inset-0 bg-black opacity-30"})]}),n.jsx("section",{className:"py-16 bg-white",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Qui sommes-nous ?"}),n.jsxs("div",{className:"space-y-4 text-gray-600 leading-relaxed",children:[n.jsx("p",{children:"Agriteranga est une plateforme numrique ddie  la valorisation des produits agricoles locaux. Nous mettons en relation directe les producteurs, les consommateurs et les livreurs, pour encourager une agriculture durable, transparente et quitable. Notre objectif est de construire un pont entre les champs sngalais et votre table, en garantissant la fracheur, la qualit et une juste rmunration pour les agriculteurs."}),n.jsx("p",{children:"Grce  notre rseau, les producteurs peuvent vendre facilement leurs rcoltes, les consommateurs ont accs  des produits frais et sains, et les livreurs participent  la chane de distribution locale. Ensemble, nous btissons un cosystme agricole responsable qui soutient les communauts rurales et favorise le dveloppement local."})]}),n.jsx("div",{className:"flex justify-center mt-8",children:n.jsxs("button",{className:"bg-green-600 hover:bg-green-700 text-white font-semibold px-8 py-3 rounded-lg transition-colors flex items-center gap-2",children:["Contactez-nous",n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-10",children:[n.jsx("div",{className:"col-span-1 row-span-2",children:n.jsx("img",{src:"/src/assets/apropos1.jpg",alt:"Jeune pousse",className:"w-full h-full object-cover rounded-lg shadow-lg"})}),n.jsx("div",{className:"col-span-1",children:n.jsx("img",{src:"https://images.unsplash.com/photo-1610348725531-843dff563e2c?w=500",alt:"Lgumes frais",className:"w-full h-48 object-cover rounded-lg shadow-lg"})}),n.jsx("div",{className:"col-span-1",children:n.jsx("img",{src:"/src/assets/apropos3.jpg",alt:"Plantation d'arbre",className:"w-full h-48 object-cover rounded-lg shadow-lg"})})]})]})})}),n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Nos valeurs"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Au cur de notre dmarche, trois piliers fondamentaux guident nos actions."})]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:r.map((s,a)=>n.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-md hover:shadow-xl transition-shadow text-center",children:[s.icon,n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:s.title}),n.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.description})]},a))})]})})]}),n.jsx(Vr,{})]})},dy=({onOpenRegister:e,onOpenLogin:t})=>{const r=mt();h.useEffect(()=>{t(),r("/")},[t,r]);const s=()=>{r("/")};return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(qr,{onRegisterClick:e,onLoginClick:t}),n.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"w-full max-w-md text-center",children:n.jsxs("div",{className:"bg-white border-2 border-[#2D5F3F] rounded-lg p-8 sm:p-10",children:[n.jsx("div",{className:"flex items-center justify-center mb-8",children:n.jsx("h1",{className:"text-2xl font-bold text-black",children:"AgriTeranga"})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Page de Connexion"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"La connexion se fait maintenant via un modal plus pratique et moderne !"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("button",{onClick:t,className:"w-full bg-[#2D5F3F] text-white font-medium py-3 px-4 rounded-lg hover:bg-[#234a32] transition-colors duration-200",children:"Ouvrir le modal de connexion"}),n.jsx("button",{onClick:s,className:"w-full bg-gray-200 text-gray-700 font-medium py-3 px-4 rounded-lg hover:bg-gray-300 transition-colors duration-200",children:"Retour  l'accueil"})]}),n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:n.jsx("button",{onClick:()=>{e(),r("/")},className:"w-full text-green-600 hover:text-green-700 font-medium py-2 transition-colors duration-200",children:"Crer un nouveau compte"})})]})})}),n.jsx(Vr,{})]})},r2=()=>{const{isAuthenticated:e}=Cn(),{addToCart:t}=wd(),r=mt();return{handleAddToCart:(a,i=!0)=>e?(t(a),!0):(r("/connexion",{state:{redirectTo:`/produit/${a.id}`,productName:a.nom}}),!1),isAuthenticated:e}},l8=({onOpenRegister:e,onOpenLogin:t})=>{const r=mt(),[s,a]=h.useState(""),[i,o]=h.useState("Tous");r2();const[l,c]=h.useState([]),[u,d]=h.useState([]),[m,f]=h.useState(!0),[p,g]=h.useState(null),b=async()=>{try{f(!0),g(null);const y={};s&&(y.search=s),i==="Fruits"&&(y.category="fruits"),i==="Lgumes"&&(y.category="lgumes"),i==="Produits Bio"&&(y.isOrganic=!0);const w=await ne.getProducts({page:1,limit:16,...y})||{},N=w.data&&(w.data.products||w.data.docs)||w.products||(Array.isArray(w)?w:[]);c(Array.isArray(N)?N:[])}catch(y){g((y==null?void 0:y.message)||"Erreur de chargement des produits"),c([])}finally{f(!1)}},x=async()=>{try{const j=await ne.getProducts({page:1,limit:8,sort:"-rating.average"})||{},w=j.data&&(j.data.products||j.data.docs)||j.products||(Array.isArray(j)?j:[]);d(Array.isArray(w)?w:[])}catch{d([])}};h.useEffect(()=>{b(),x()},[]),h.useEffect(()=>{b()},[s,i]);const v=l;return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(qr,{onRegisterClick:e,onLoginClick:t}),n.jsxs("section",{className:"relative h-96 flex items-center bg-cover bg-center bg-no-repeat",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.15)), url('/src/assets/product.jpg')"},children:[n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:[n.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4 text-white",children:"Dcouvrez nos produits frais"}),n.jsx("p",{className:"text-2xl max-w-3xl mx-auto text-white",children:"Des produits locaux, frais et de saison, directement du producteur  votre assiette."})]}),n.jsx("div",{className:"absolute inset-0 bg-black opacity-30"})]}),n.jsx("section",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:s,onChange:y=>a(y.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),n.jsx("div",{className:"flex gap-2",children:["Tous","Fruits","Lgumes","Produits Bio"].map(y=>n.jsx("button",{onClick:()=>o(y),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${i===y?"bg-green-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:y},y))})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[m&&n.jsx("div",{className:"col-span-4 text-center text-gray-500",children:"Chargement..."}),p&&!m&&n.jsx("div",{className:"col-span-4 text-center text-red-600",children:p}),!m&&!p&&v.length===0&&n.jsx("div",{className:"col-span-4 text-center text-gray-500",children:"Aucun produit trouv pour ces critres."}),!m&&!p&&v.map(y=>n.jsxs(xe,{to:`/produit/${y._id||y.id}`,className:"block bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow group",children:[n.jsxs("div",{className:"relative h-48 bg-gray-100 flex items-center justify-center group-hover:bg-gray-50 transition-colors overflow-hidden",children:[At(y)?n.jsx("img",{src:At(y),alt:y.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):n.jsx("span",{className:"text-6xl",children:""}),y.discount&&n.jsx("div",{className:"absolute top-2 right-2 bg-yellow-400 text-white px-2 py-1 rounded text-sm font-semibold",children:y.discount})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1 group-hover:text-green-600 transition-colors",children:y.name}),n.jsxs("p",{className:"text-gray-800 mb-1 font-semibold",children:[typeof y.price=="number"?`${y.price} CFA`:y.price||"-"," ",y.unit?`/ ${y.unit}`:""]}),n.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Par : ",y.seller||y.producerName||y.producer&&[y.producer.firstName,y.producer.lastName].filter(Boolean).join(" ")||""]}),n.jsxs("button",{onClick:j=>{j.preventDefault(),j.stopPropagation(),r(`/produit/${y._id||y.id}`)},className:"w-full bg-gray-100 hover:bg-green-100 text-green-600 font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Voir le dtail"]})]})]},y._id||y.id))]})})}),n.jsx("section",{className:"py-12 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-green-600",children:"Les plus populaires"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"w-10 h-10 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center transition-colors",children:n.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("button",{className:"w-10 h-10 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center transition-colors",children:n.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(y=>n.jsxs(xe,{to:`/produit/${y._id||y.id}`,className:"block bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow group",children:[n.jsxs("div",{className:"relative h-48 bg-gray-100 flex items-center justify-center group-hover:bg-gray-50 transition-colors overflow-hidden",children:[At(y)?n.jsx("img",{src:At(y),alt:y.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):n.jsx("span",{className:"text-6xl",children:""}),y.discount&&n.jsx("div",{className:"absolute top-2 right-2 bg-yellow-400 text-white px-2 py-1 rounded text-sm font-semibold",children:y.discount})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1 group-hover:text-green-600 transition-colors",children:y.name}),n.jsxs("p",{className:"text-gray-800 mb-1 font-semibold",children:[typeof y.price=="number"?`${y.price} CFA`:y.price||"-"," ",y.unit?`/ ${y.unit}`:""]}),n.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Par : ",y.seller||y.producerName||y.producer&&[y.producer.firstName,y.producer.lastName].filter(Boolean).join(" ")||""]}),n.jsxs("button",{onClick:j=>{j.preventDefault(),j.stopPropagation(),r(`/produit/${y._id||y.id}`)},className:"w-full bg-gray-100 hover:bg-green-100 text-green-600 font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Voir le dtail"]})]})]},y._id||y.id))})]})}),n.jsx(Vr,{})]})},c8=({onOpenRegister:e,onOpenLogin:t})=>{var P;const{id:r}=hN();mt();const{handleAddToCart:s}=r2(),[a,i]=h.useState(null),[o,l]=h.useState(!0),[c,u]=h.useState(null);h.useEffect(()=>{let C=!0;return(async()=>{try{l(!0),u(null);const I=await ne.getProductDetails(r)||{},M=I.data&&(I.data.product||I.data)||I.product||I;C&&i(M||null)}catch(O){C&&(u((O==null?void 0:O.message)||"Erreur de chargement du produit"),i(null))}finally{C&&l(!1)}})(),()=>{C=!1}},[r]);const[d,m]=h.useState([]),[f,p]=h.useState(!1),[g,b]=h.useState(null);h.useEffect(()=>{(async()=>{try{if(b(null),p(!0),!a||!a.category){m([]);return}const O=await ne.getProducts({category:a.category,limit:8,sort:"-createdAt"})||{},I=O.data&&(O.data.products||O.data)||O.products||[],M=a._id||a.id,k=(Array.isArray(I)?I:[]).filter(A=>(A._id||A.id)!==M).slice(0,4);m(k)}catch(E){b((E==null?void 0:E.message)||"Erreur de chargement des produits similaires"),m([])}finally{p(!1)}})()},[a==null?void 0:a.category,a==null?void 0:a._id,a==null?void 0:a.id]);const x=At(a),v=a&&(a.seller||a.producerName||a.producer&&[a.producer.firstName,a.producer.lastName].filter(Boolean).join(" ")),y=((P=a==null?void 0:a.producer)==null?void 0:P.producteurInfo)||null,j=(y==null?void 0:y.cultureType)||null,w=Array.isArray(y==null?void 0:y.certificates)&&y.certificates.length>0;y!=null&&y.region;const N=()=>{if(!a)return;const C={id:a._id||a.id,nom:a.name,prix:a.price,unite:a.unit,image:At(a)};s(C)},S=()=>{const C=[];for(let E=0;E<5;E++){const O=E<4?100:E===4?50:0;C.push(n.jsxs("span",{className:"relative inline-block w-5 h-5 align-middle",children:[n.jsx("svg",{className:"absolute inset-0 w-5 h-5 text-gray-300",viewBox:"0 0 20 20","aria-hidden":"true",children:n.jsx("path",{fill:"currentColor",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),n.jsx("span",{className:"absolute inset-0 overflow-hidden",style:{width:`${O}%`},children:n.jsx("svg",{className:"w-5 h-5 text-yellow-500",viewBox:"0 0 20 20","aria-hidden":"true",children:n.jsx("path",{fill:"currentColor",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]},E))}return C};return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx(qr,{onRegisterClick:e,onLoginClick:t}),n.jsx("section",{className:"bg-white py-8",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start",children:[n.jsx("div",{className:"order-1",children:n.jsx("div",{className:"relative",children:n.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden shadow-lg",children:o?n.jsx("div",{className:"w-full h-96 flex items-center justify-center text-gray-500",children:"Chargement..."}):c?n.jsx("div",{className:"w-full h-96 flex items-center justify-center text-red-600",children:c}):x?n.jsx("img",{src:x,alt:(a==null?void 0:a.name)||"",className:"w-full h-96 object-cover"}):n.jsx("div",{className:"w-full h-96 flex items-center justify-center bg-gray-100",children:n.jsx("span",{className:"text-4xl text-gray-400",children:""})})})})}),n.jsx("div",{className:"order-2 lg:pl-8",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:(a==null?void 0:a.name)||(o?"...":"")}),n.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:a?n.jsxs(n.Fragment,{children:[typeof a.price=="number"?`${a.price} CFA`:a.price||"-",a.unit?` / ${a.unit}`:""]}):""}),n.jsx("p",{className:"text-gray-600 leading-relaxed",children:(a==null?void 0:a.description)||(o?"...":"")}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-gray-600",children:"Vendu par:"}),n.jsx("span",{className:"font-semibold text-gray-800",children:v||(o?"...":"")})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex items-center",children:S()}),n.jsx("span",{className:"text-gray-600",children:"4.5 / 5"})]}),n.jsxs("button",{onClick:N,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-3 text-lg",children:[n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m1.6 8L5 21H3m4 0v1a1 1 0 011 1v1m0 0a1 1 0 001-1v-1m0 0a1 1 0 00-1 1v1m8-2a1 1 0 011 1v1m0 0a1 1 0 001 1v-1m0 0a1 1 0 00-1-1v-1"})}),n.jsx("span",{children:"Ajouter au panier"})]})]})})]})})}),n.jsx("section",{className:"bg-white py-12 border-t border-gray-100",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Informations sur le producteur"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-36",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Nom"}),n.jsx("p",{className:"text-gray-600",children:v||""})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Type de culture"}),n.jsx("p",{className:"text-gray-600",children:j||""})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Certification"}),n.jsx("p",{className:"text-gray-600",children:w?"Oui":"Non"})]})]})]})]})}),n.jsx("section",{className:"bg-white py-12 border-t border-gray-100",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Produits similaires"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[f&&n.jsx("div",{className:"col-span-4 text-gray-500",children:"Chargement..."}),g&&!f&&n.jsx("div",{className:"col-span-4 text-red-600",children:g}),!f&&!g&&d.map(C=>{const E=C._id||C.id,O=C.name,I=C.price,M=C.unit,k=At(C);return n.jsxs(xe,{to:`/produit/${E}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[n.jsx("div",{className:"relative h-48 bg-gray-100 flex items-center justify-center",children:k?n.jsx("img",{src:k,alt:O,className:"w-full h-48 object-cover"}):n.jsx("span",{className:"text-4xl text-gray-300",children:""})}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:O}),n.jsxs("p",{className:"text-gray-800 font-semibold",children:[typeof I=="number"?`${I} CFA`:I||"-",M?` / ${M}`:""]})]})]},E)})]})]})}),n.jsx(Vr,{})]})},my=["Dakar","This","Saint-Louis","Ziguinchor","Kaolack","Tambacounda","Louga","Kolda","Fatick","Matam","Kaffrine","Kdougou","Sdhiou","Diourbel"],of=e=>e==="Dakar"?500:e==="This"?1e3:1500,u8=["Point de retrait - Dakar Plateau","Point de retrait - Yoff","Point de retrait - Parcelles Assainies","Point de retrait - This Centre"],d8=["Ferme - This Nord","Ferme - Mbour","Ferme - Rufisque"];function m8({isOpen:e,onClose:t,onSubmit:r}){const{user:s}=Cn(),[a,i]=h.useState({nom:"",telephone:"",email:"",adresse:"",rue:"",region:"",codePostal:"",pickupPoint:"",farmLocation:""}),[o,l]=h.useState("home-delivery"),[c,u]=h.useState({});if(h.useEffect(()=>{var v;if(!e)return;const f=[s==null?void 0:s.firstName,s==null?void 0:s.lastName].filter(Boolean).join(" "),p=(s==null?void 0:s.phone)||"",g=(s==null?void 0:s.email)||"",b=((v=s==null?void 0:s.consumerInfo)==null?void 0:v.deliveryAddress)||(s==null?void 0:s.address)||(s==null?void 0:s.adresse)||"";let x="";if(typeof b=="string"&&b){const y=b.toLowerCase();x=my.find(w=>w.toLowerCase()===y)||""}i(y=>({...y,nom:f||y.nom,telephone:p||y.telephone,email:g||y.email,adresse:x||y.adresse}))},[e,s]),!e)return null;const d=f=>{const p={},g=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,b=/^[+]?\d{6,15}$/;if((!f.nom||f.nom.trim().length<2)&&(p.nom="Nom requis"),(!f.telephone||!b.test(String(f.telephone).trim()))&&(p.telephone="Tlphone invalide"),(!f.email||!g.test(String(f.email).trim()))&&(p.email="Email invalide"),o==="home-delivery"){f.adresse||(p.adresse="Ville requise");const x=String(f.codePostal||"").trim();x?/^[A-Za-z0-9 \-]{3,10}$/.test(x)||(p.codePostal="Code postal invalide"):p.codePostal="Code postal requis"}else o==="pickup-point"?f.pickupPoint||(p.pickupPoint="Point de retrait requis"):o==="farm-pickup"&&(f.farmLocation||(p.farmLocation="Ferme requise"));return p},m=f=>{f.preventDefault();const p=d(a);if(u(p),Object.keys(p).length>0)return;const g={...a,deliveryInfo:{method:o,...o==="home-delivery"?{address:{city:a.adresse||"",postalCode:a.codePostal||""}}:o==="pickup-point"?{pickupPoint:a.pickupPoint}:o==="farm-pickup"?{farmLocation:a.farmLocation}:{}},deliveryFee:o==="home-delivery"&&a.adresse?of(a.adresse):0};r(g)};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"min-h-full flex items-center justify-center p-4",children:n.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl p-6 w-96 md:w-[28rem] max-h-[85vh] overflow-y-auto",children:[n.jsx("button",{onClick:t,className:"absolute top-2 right-3 text-gray-400 hover:text-gray-600 text-2xl","aria-label":"Fermer",children:""}),n.jsx("h2",{className:"text-xl font-bold mb-4 text-green-700 text-center",children:"Tes coordonnes"}),n.jsxs("form",{noValidate:!0,onSubmit:m,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block font-medium text-gray-700",children:"Ton nom"}),n.jsx("input",{type:"text",required:!0,value:a.nom,onChange:f=>{const p=f.target.value;i({...a,nom:p}),u(g=>({...g,nom:""}))},className:`w-full border rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500 ${c.nom?"border-red-500":""}`}),c.nom?n.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.nom}):null]}),n.jsxs("div",{children:[n.jsx("label",{className:"block font-medium text-gray-700 mb-1",children:"Choix du mode de livraison"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"deliveryMethod",value:"home-delivery",checked:o==="home-delivery",onChange:f=>l(f.target.value)}),n.jsx("span",{children:" domicile"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"deliveryMethod",value:"pickup-point",checked:o==="pickup-point",onChange:f=>l(f.target.value)}),n.jsx("span",{children:"Point de retrait"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"deliveryMethod",value:"farm-pickup",checked:o==="farm-pickup",onChange:f=>l(f.target.value)}),n.jsx("span",{children:" la ferme"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block font-medium text-gray-700",children:"Ton tlphone"}),n.jsx("input",{type:"tel",required:!0,value:a.telephone,onChange:f=>{const p=f.target.value;i({...a,telephone:p}),u(g=>({...g,telephone:""}))},className:`w-full border rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500 ${c.telephone?"border-red-500":""}`}),c.telephone?n.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.telephone}):null]}),n.jsxs("div",{children:[n.jsx("label",{className:"block font-medium text-gray-700",children:"Ton email"}),n.jsx("input",{type:"email",required:!0,value:a.email,onChange:f=>{const p=f.target.value;i({...a,email:p}),u(g=>({...g,email:""}))},className:`w-full border rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500 ${c.email?"border-red-500":""}`}),c.email?n.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.email}):null]}),o==="home-delivery"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"block font-medium text-gray-700",children:"Ville"}),n.jsx("span",{className:"text-sm text-gray-600",children:a.adresse?`${of(a.adresse)} CFA`:""})]}),n.jsxs("select",{required:!0,value:a.adresse,onChange:f=>{const p=f.target.value;i({...a,adresse:p}),u(g=>({...g,adresse:""}))},className:`w-full border rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500 ${c.adresse?"border-red-500":""}`,children:[n.jsx("option",{value:"",children:"-- Choisis ta ville --"}),my.map(f=>n.jsx("option",{value:f,children:`${f}  ${of(f)} CFA`},f))]}),c.adresse?n.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.adresse}):null]}),n.jsxs("div",{children:[n.jsx("label",{className:"block font-medium text-gray-700",children:"Code postal"}),n.jsx("input",{type:"text",value:a.codePostal,onChange:f=>{const p=f.target.value;i({...a,codePostal:p}),u(g=>({...g,codePostal:""}))},className:`w-full border rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500 ${c.codePostal?"border-red-500":""}`}),c.codePostal?n.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.codePostal}):null]})]}),o==="pickup-point"&&n.jsxs("div",{children:[n.jsx("label",{className:"block font-medium text-gray-700",children:"Choisir un point de retrait"}),n.jsxs("select",{required:!0,value:a.pickupPoint,onChange:f=>{const p=f.target.value;i({...a,pickupPoint:p}),u(g=>({...g,pickupPoint:""}))},className:`w-full border rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500 ${c.pickupPoint?"border-red-500":""}`,children:[n.jsx("option",{value:"",children:"-- Slectionne un point de retrait --"}),u8.map(f=>n.jsx("option",{value:f,children:f},f))]}),c.pickupPoint?n.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.pickupPoint}):null]}),o==="farm-pickup"&&n.jsxs("div",{children:[n.jsx("label",{className:"block font-medium text-gray-700",children:"Choisir une ferme"}),n.jsxs("select",{required:!0,value:a.farmLocation,onChange:f=>{const p=f.target.value;i({...a,farmLocation:p}),u(g=>({...g,farmLocation:""}))},className:`w-full border rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500 ${c.farmLocation?"border-red-500":""}`,children:[n.jsx("option",{value:"",children:"-- Slectionne une ferme --"}),d8.map(f=>n.jsx("option",{value:f,children:f},f))]}),c.farmLocation?n.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.farmLocation}):null]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300",children:"Annuler"}),n.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Valider"})]})]})]})})})}const f8="/assets/wave-B6oFNTFi.jpg",p8="/assets/cash-DAdZGNXg.jpg",h8=({isOpen:e,onClose:t,onBack:r,amount:s,customerInfo:a,onSuccess:i})=>{const[o,l]=h.useState(""),[c,u]=h.useState(!1),[d,m]=h.useState("input");if(!e)return null;const f=x=>{const v=x.replace(/\D/g,"");v.length<=9&&l(v)},p=()=>o.length===9&&o.startsWith("7"),g=async()=>{p()&&(u(!0),m("processing"),setTimeout(()=>{u(!1),m("success")},3e3))},b=()=>{l(""),m("input"),u(!1),t()};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl w-96 shadow-2xl relative overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 p-4 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>r?r():t(),className:"mr-2 text-white/90 hover:text-white text-xl","aria-label":"Retour",children:""}),n.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-green-600 font-bold text-lg",children:"W"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg",children:"Wave"}),n.jsx("p",{className:"text-green-100 text-sm",children:"Paiement Mobile Money"})]})]}),n.jsx("button",{onClick:b,className:"text-white hover:text-green-200 text-xl",children:""})]})}),n.jsxs("div",{className:"p-6",children:[d==="input"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Numro Wave"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Entrez votre numro Wave  9 chiffres"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Numro de tlphone"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-3 text-gray-500",children:"+221"}),n.jsx("input",{type:"text",value:o,onChange:x=>f(x.target.value),placeholder:"7XX XXX XXX",className:"w-full pl-16 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",maxLength:9})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 7XX XXX XXX (commence par 7)"})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-700",children:"Montant  payer:"}),n.jsxs("span",{className:"text-xl font-bold text-green-600",children:[s.toLocaleString("fr-FR")," CFA"]})]})}),n.jsxs("button",{onClick:g,disabled:!p(),className:`w-full py-3 rounded-lg text-white font-semibold transition ${p()?"bg-green-600 hover:bg-green-700":"bg-gray-300 cursor-not-allowed"}`,children:["Payer ",s.toLocaleString("fr-FR")," CFA"]})]}),d==="processing"&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Traitement du paiement..."}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Veuillez confirmer la transaction sur votre tlphone Wave"}),n.jsxs("div",{className:"mt-6 bg-green-50 rounded-lg p-4 text-left",children:[n.jsx("h5",{className:"font-medium text-green-800 mb-2",children:"Instructions:"}),n.jsxs("ol",{className:"text-sm text-green-700 space-y-1",children:[n.jsx("li",{children:"1. Ouvrez votre application Wave"}),n.jsx("li",{children:'2. Allez dans "Transactions"'}),n.jsxs("li",{children:["3. Confirmez le dbit de ",s.toLocaleString("fr-FR")," CFA"]})]})]})]}),d==="success"&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Paiement russi !"}),n.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Votre paiement de ",s.toLocaleString("fr-FR")," CFA a t confirm."]}),n.jsx("div",{className:"bg-green-50 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium text-green-800",children:"Rfrence transaction:"}),n.jsxs("p",{className:"text-green-600 font-mono",children:["WAV-",Date.now().toString().slice(-6)]})]})}),n.jsx("button",{onClick:()=>{i&&i(),b()},className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition",children:"Continuer"})]})]})]})})},g8=({isOpen:e,onClose:t,onBack:r,deliveryFee:s=0,deliveryInfo:a=null})=>{const[i,o]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState(!1),m=mt(),{cartItems:f,getTotalPrice:p}=wd(),g=p(),b=g+(Number(s)||0),x=()=>{const S=B=>String(B).padStart(2,"0"),P=new Date,C=P.getFullYear(),E=S(P.getMonth()+1),O=S(P.getDate()),I=S(P.getHours()),M=S(P.getMinutes()),k=S(P.getSeconds()),A=Math.floor(1e3+Math.random()*9e3);return`ORD-${C}${E}${O}-${I}${M}${k}-${A}`};if(!e)return null;const v=async()=>{try{const P=await ne.getCart()||{},C=P.data&&(P.data.cart||P.data)||P.cart,E=Array.isArray(C==null?void 0:C.items)?C.items:[];if(E.length>0)return E.map(O=>{const I=O==null?void 0:O.product,M=typeof I=="string"?I:(I==null?void 0:I._id)||(I==null?void 0:I.id),k=Math.max(1,Number(O==null?void 0:O.quantity)||1);return{product:M,quantity:k}});if((f||[]).length>0){for(const A of f){const B=A.id||A.productId||A._id;if(B)try{await ne.addToCart(B,A.quantity||1)}catch{}}const I=await ne.getCart()||{},M=I.data&&(I.data.cart||I.data)||I.cart,k=Array.isArray(M==null?void 0:M.items)?M.items:[];if(k.length>0)return k.map(A=>{const B=A==null?void 0:A.product,F=typeof B=="string"?B:(B==null?void 0:B._id)||(B==null?void 0:B.id),D=Math.max(1,Number(A==null?void 0:A.quantity)||1);return{product:F,quantity:D}})}}catch{}return(f||[]).map(S=>({product:S.id||S.productId||S._id,quantity:S.quantity||1}))},y=async()=>{if(i){if(i==="wave")c(!0);else if(i==="cash"){try{const S=await v(),P=E=>typeof E=="string"&&E.trim().length>0,C=(S||[]).map(E=>({product:String(E.product||"").trim(),quantity:Math.max(1,Number(E.quantity)||1)})).filter(E=>P(E.product));if(C.length===0){re.error("Votre panier n'est pas valide. Veuillez vrifier vos articles puis ressayer.");return}try{await ne.createOrder({orderNumber:x(),items:C,paymentMethod:"cash-on-delivery",deliveryInfo:a||{method:"home-delivery",address:{}},deliveryFee:Number(s)||0,totals:{productsTotal:g,deliveryFee:Number(s)||0,totalToPay:b}})}catch(E){const O=E&&E.message?E.message:"La cration de la commande a chou";re.error(O);return}}catch{}if(a&&a.method==="farm-pickup"){d(!0);return}t(),m("/livraison")}}},j=()=>{c(!1),t()},w=async()=>{c(!1);try{const S=await v(),P=E=>typeof E=="string"&&E.trim().length>0,C=(S||[]).map(E=>({product:String(E.product||"").trim(),quantity:Math.max(1,Number(E.quantity)||1)})).filter(E=>P(E.product));if(C.length===0){re.error("Votre panier n'est pas valide. Veuillez vrifier vos articles puis ressayer.");return}try{await ne.createOrder({orderNumber:x(),items:C,paymentMethod:"mobile-money",deliveryInfo:a||{method:"home-delivery",address:{}},deliveryFee:Number(s)||0,totals:{productsTotal:g,deliveryFee:Number(s)||0,totalToPay:b}})}catch(E){const O=E&&E.message?E.message:"La cration de la commande a chou";re.error(O);return}}catch{}if(a&&a.method==="farm-pickup"){d(!0);return}t(),m("/livraison")},N=()=>{d(!1),t()};return n.jsxs(n.Fragment,{children:[u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[60]",children:n.jsxs("div",{className:"bg-white rounded-xl w-[28rem] shadow-2xl p-6 text-center relative",children:[n.jsx("button",{onClick:N,className:"absolute top-2 right-3 text-gray-400 hover:text-gray-600 text-2xl","aria-label":"Fermer",children:""}),n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Merci pour votre commande !"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Vous pourrez vous rendre  la ferme choisie pour rcuprer votre commande."}),n.jsx("button",{onClick:N,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg",children:"Fermer"})]})}),n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-96 shadow-lg relative",children:[n.jsx("button",{onClick:()=>r?r():t(),className:"absolute top-2 left-3 text-gray-500 hover:text-gray-700 text-xl","aria-label":"Retour",children:""}),n.jsx("button",{onClick:t,className:"absolute top-2 right-3 text-gray-400 hover:text-gray-600 text-2xl",children:""}),n.jsx("h2",{className:"text-xl font-bold mb-4 text-green-700 text-center",children:"Choisis ton moyen de paiement"}),n.jsxs("div",{className:"flex justify-center gap-6 mb-6",children:[n.jsx("img",{src:f8,alt:"Wave",onClick:()=>o("wave"),className:`w-20 h-20 border-4 rounded-lg cursor-pointer transition-all duration-200 ${i==="wave"?"border-green-600 scale-105":"border-gray-200 hover:scale-105"}`}),n.jsx("img",{src:p8,alt:"Cash",onClick:()=>o("cash"),className:`w-20 h-20 border-4 rounded-lg cursor-pointer transition-all duration-200 ${i==="cash"?"border-green-600 scale-105":"border-gray-200 hover:scale-105"}`})]}),i==="cash"&&n.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:n.jsx("p",{className:"text-sm text-blue-800 text-center",children:"Paiement  la livraison - Vous paierez lorsque votre commande sera livre"})}),i==="wave"&&n.jsx("div",{className:"mb-4 p-3 bg-green-50 rounded-lg",children:n.jsx("p",{className:"text-sm text-green-800 text-center",children:"Paiement mobile Money - Transaction scurise via Wave"})}),n.jsx("button",{disabled:!i,onClick:y,className:`w-full py-3 rounded-lg text-white font-semibold transition ${i?"bg-green-600 hover:bg-green-700":"bg-gray-300 cursor-not-allowed"}`,children:i==="wave"?"Finalise ton paiement":i==="cash"?"Lance ta commande":"Choisis un moyen de paiement"})]})}),n.jsx(h8,{isOpen:l,onClose:j,onBack:()=>c(!1),amount:b,customerInfo:{},onSuccess:w})]})},x8=({isOpen:e,onClose:t,onConfirm:r})=>{if(!e)return null;const s=()=>{r(),t()};return n.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),n.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:n.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[n.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:n.jsxs("div",{className:"sm:flex sm:items-start",children:[n.jsx("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:n.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})})}),n.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[n.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:"Confirmer la suppression"}),n.jsx("div",{className:"mt-2",children:n.jsx("p",{className:"text-sm text-gray-500",children:"tes-vous sr de vouloir vider votre panier ? Cette action est irrversible."})})]})]})}),n.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[n.jsx("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:s,children:"Oui, vider le panier"}),n.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:t,children:"Non, annuler"})]})]})})]})},v8=({onOpenRegister:e,onOpenLogin:t})=>{const{cartItems:r,removeFromCart:s,updateQuantity:a,getTotalPrice:i,clearCart:o}=wd(),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[m,f]=h.useState(0),[p,g]=h.useState(null),[b,x]=h.useState(!1),v=(N,S)=>{S<=0?s(N):a(N,S)},y=()=>{x(!0)},j=()=>{o(),x(!1)},w=N=>{f(Number((N==null?void 0:N.deliveryFee)||0)),g((N==null?void 0:N.deliveryInfo)||null),c(!1),d(!0)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(qr,{onOpenRegister:e,onOpenLogin:t}),n.jsx(m8,{isOpen:l,onClose:()=>c(!1),onSubmit:w}),n.jsx(g8,{isOpen:u,onClose:()=>d(!1),onBack:()=>{d(!1),c(!0)},deliveryFee:m,deliveryInfo:p}),n.jsx(x8,{isOpen:b,onClose:()=>x(!1),onConfirm:j}),n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 bg-green-600 text-white",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Mon Panier"}),n.jsx("p",{className:"text-green-100",children:r.length>0?`${r.reduce((N,S)=>N+S.quantity,0)} article(s) dans votre panier`:"Votre panier est vide"})]}),n.jsx("div",{className:"p-6",children:r.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"mx-auto h-24 w-24 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m1.6 8L5 5H3m4 8v8a2 2 0 002 2h10a2 2 0 002-2v-8m-4 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Votre panier est vide"}),n.jsx("p",{className:"mt-2 text-gray-500",children:"Ajoutez des produits pour commencer vos achats"}),n.jsx(xe,{to:"/products",className:"mt-6 inline-block bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition",children:"Continuer les achats"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-4",children:r.map(N=>n.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg hover:bg-gray-50",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center overflow-hidden",children:N.image?n.jsx("img",{src:N.image,alt:N.nom,className:"w-full h-full object-cover",loading:"lazy",onError:S=>{try{S.currentTarget.onerror=null}catch{}const P=`
<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 64 64'>
  <rect width='64' height='64' fill='#e5e7eb'/>
  <text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='18' fill='#9ca3af'>IMG</text>
</svg>`;S.currentTarget.src=`data:image/svg+xml;utf8,${encodeURIComponent(P)}`}}):n.jsx("span",{className:"text-2xl",children:N.imageFallback||""})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:N.nom}),n.jsxs("p",{className:"text-green-600 font-medium",children:[parseFloat(N.prix).toLocaleString("fr-FR")," CFA / ",N.unite||"kg"]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>v(N.id,N.quantity-1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center",children:"-"}),n.jsx("span",{className:"w-8 text-center font-medium",children:N.quantity}),n.jsx("button",{onClick:()=>v(N.id,N.quantity+1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center",children:"+"})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold text-gray-900",children:[(parseFloat(N.prix)*N.quantity).toLocaleString("fr-FR")," CFA"]})}),n.jsx("button",{onClick:()=>s(N.id),className:"text-red-600 hover:text-red-800 p-2",title:"Supprimer du panier",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},N.id))}),n.jsxs("div",{className:"mt-8 border-t pt-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("span",{className:"text-lg font-medium",children:"Total"}),n.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[i().toLocaleString("fr-FR")," CFA"]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4",children:[n.jsx(xe,{to:"/products",className:"flex-1 text-center bg-gray-200 text-gray-800 py-3 rounded-lg hover:bg-gray-300 transition",children:"Continuer les achats"}),n.jsx("button",{onClick:y,className:"flex-1 text-center bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 transition",children:"Vider le panier"}),n.jsx("button",{onClick:()=>c(!0),className:"flex-1 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition",children:"Passer la commande"})]})]})]})})]})}),n.jsx(Vr,{})]})},y8=({location:e,height:t="400px"})=>{const r=s=>{`${e.lat}${e.lng}`;const a=encodeURIComponent(e.address),i={google:`https://www.google.com/maps/search/?api=1&query=${a}`,osm:`https://www.openstreetmap.org/?mlat=${e.lat}&mlon=${e.lng}#map=16/${e.lat}/${e.lng}`,apple:`https://maps.apple.com/?q=${a}&ll=${e.lat},${e.lng}`,waze:`https://waze.com/ul/hsv=${e.lat},${e.lng}`};window.open(i[s],"_blank")};return n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[n.jsx("div",{className:"relative",children:n.jsx("iframe",{src:`https://www.openstreetmap.org/export/embed.html?bbox=${e.lng-.01}%2C${e.lat-.01}%2C${e.lng+.01}%2C${e.lat+.01}&layer=mapnik&marker=${e.lat}%2C${e.lng}`,className:"w-full border-0",style:{height:t},title:`Carte de ${e.name}`})}),n.jsx("div",{className:"p-4 bg-gray-50 border-t",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsxs("button",{onClick:()=>r("google"),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[n.jsx(Ko,{className:"w-4 h-4"}),"Google Maps"]}),n.jsxs("button",{onClick:()=>r("osm"),className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[n.jsx(WE,{className:"w-4 h-4"}),"OpenStreetMap"]}),n.jsxs("a",{href:`tel:${e.phone}`,className:"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:[n.jsx(ya,{className:"w-4 h-4"}),"Appeler"]}),n.jsxs("a",{href:`mailto:${e.email}`,className:"flex items-center gap-2 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm",children:[n.jsx(di,{className:"w-4 h-4"}),"Email"]})]})})]})})},b8=({onOpenRegister:e,onOpenLogin:t})=>{const[r,s]=h.useState({nom:"",email:"",telephone:"",date:"",message:""}),[a,i]=h.useState({nom:"",email:"",telephone:"",date:"",message:""}),[o,l]=h.useState(!1),u=(()=>{const w=new Date,N=w.getFullYear(),S=String(w.getMonth()+1).padStart(2,"0"),P=String(w.getDate()).padStart(2,"0");return`${N}-${S}-${P}`})(),d=w=>{if(!w)return"";const[N,S,P]=w.split("-");return`${P}/${S}/${N}`},m=w=>{const{name:N,value:S}=w.target;s({...r,[N]:S});const P=y(N,S);i(C=>({...C,[N]:P}))},f=w=>{w.preventDefault();const N={nom:y("nom",r.nom),email:y("email",r.email),telephone:y("telephone",r.telephone),date:y("date",r.date),message:y("message",r.message)};i(N),!Object.values(N).some(P=>P)&&(l(!0),s({nom:"",email:"",telephone:"",date:"",message:""}))},p=w=>w.replace(/[^\d]/g,""),g=w=>{let S=p(w);if(S.startsWith("00221")?S=S.slice(5):S.startsWith("221")&&(S=S.slice(3)),!/^\d{9}$/.test(S))return!1;const P=S.slice(0,2),C=["70","75","76","77","78"];return P==="33"?!0:C.includes(P)},b=w=>{const S=new Date(w+"T00:00:00").getDay();return S===0||S===6},x=new Set(["01-01","04-04","05-01","08-15","11-01","12-25"]),v=w=>{if(!w)return!1;const[,N,S]=w.split("-");return x.has(`${N}-${S}`)},y=(w,N)=>{switch(w){case"nom":return N!=null&&N.trim()?"":"Le nom est requis.";case"email":return N!=null&&N.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N)?"":"Email invalide.":"L'email est requis.";case"telephone":return N!=null&&N.trim()?g(N)?"":"Numro invalide. Exemple: +221 77 123 45 67 ou 33 8xx xx xx":"Le numro de tlphone est requis.";case"date":return N?N<u?`La date ${d(N)} doit tre aujourd'hui ou ultrieure.`:b(N)?`Les rendez-vous ne sont pas disponibles le week-end (${d(N)}).`:v(N)?`Les rendez-vous ne sont pas disponibles les jours fris (${d(N)}).`:"":"La date est requise.";case"message":return"";default:return""}},j={lat:14.6937,lng:-17.4441,name:"AgriTeranga",address:"Dakar, Sngal",phone:"+221 77 343 24 85",email:"agriteranga@gmail.com"};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(qr,{onRegisterClick:e,onLoginClick:t}),n.jsx("section",{className:"relative h-[320px] bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"linear-gradient(rgba(0, 60, 30, 0.6), rgba(0, 60, 30, 0.6)), url('/src/assets/contact.jpg')"},children:n.jsxs("div",{className:"text-center text-white px-6 md:px-12 max-w-4xl",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 drop-shadow-lg",children:" Entrons en contact "}),n.jsx("p",{className:"text-lg md:text-xl mb-6",children:"Notre quipe passionne est toujours ravie dchanger avec vous. Que ce soit pour une collaboration, une question ou un partenariat, nous sommes  votre coute  Dakar et en ligne."})]})}),n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"Restons en contact"}),n.jsx("p",{className:"text-green-700 mb-8",children:"Une question, un projet ? Notre quipe est  votre coute."}),n.jsxs("form",{onSubmit:f,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"nom",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet"}),n.jsx("input",{type:"text",id:"nom",name:"nom",value:r.nom,onChange:m,placeholder:"Votre nom complet",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),a.nom&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.nom})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse e-mail"}),n.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:m,placeholder:"Votre adresse e-mail",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),a.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"telephone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Numro de tlphone"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"tel",id:"telephone",name:"telephone",value:r.telephone,onChange:m,placeholder:"Votre numro de tlphone",required:!0,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),a.telephone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.telephone}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de rendez-vous souhaite"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",id:"date",name:"date",value:r.date,onChange:m,min:u,required:!0,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),a.date&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.date}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Votre message"}),n.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:m,rows:4,placeholder:"crivez votre message ici...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"}),a.message&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.message})]}),n.jsx("button",{type:"submit",className:"w-full bg-green-800 hover:bg-green-900 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Envoyer le message"})]})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-green-800 mb-6",children:"Nos Coordonnes"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("button",{onClick:()=>{const w=`https://www.openstreetmap.org/?mlat=${j.lat}&mlon=${j.lng}#map=15/${j.lat}/${j.lng}`;window.open(w,"_blank")},className:"w-full flex items-center gap-4 p-3 rounded-lg hover:bg-green-50 transition-colors text-left group",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center group-hover:bg-green-200 transition-colors",children:n.jsxs("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-800",children:"Adresse"}),n.jsx("p",{className:"text-gray-600",children:j.address}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Cliquer pour voir sur la carte "})]})]}),n.jsxs("a",{href:`tel:${j.phone}`,className:"w-full flex items-center gap-4 p-3 rounded-lg hover:bg-green-50 transition-colors group",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center group-hover:bg-green-200 transition-colors",children:n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-800",children:"Tlphone"}),n.jsx("p",{className:"text-gray-600",children:j.phone}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Cliquer pour appeler "})]})]}),n.jsxs("a",{href:`mailto:${j.email}?subject=Contact depuis AgriTeranga&body=Bonjour,`,className:"w-full flex items-center gap-4 p-3 rounded-lg hover:bg-green-50 transition-colors group",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center group-hover:bg-green-200 transition-colors",children:n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 7.89a2 2 0 002.83 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-800",children:"Email"}),n.jsx("p",{className:"text-gray-600",children:j.email}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Cliquer pour crire "})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-green-800 mb-6",children:"Horaires d'Ouverture"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-gray-700",children:"Lundi - Vendredi"}),n.jsx("span",{className:"font-medium text-gray-800",children:"08:00 - 18:00"})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-gray-700",children:"Samedi"}),n.jsx("span",{className:"font-medium text-gray-800",children:"09:00 - 13:00"})]}),n.jsxs("div",{className:"flex justify-between items-center py-2",children:[n.jsx("span",{className:"text-gray-700",children:"Dimanche"}),n.jsx("span",{className:"font-medium text-gray-800",children:"Ferm"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[n.jsx("h3",{className:"text-xl font-bold text-green-800 mb-4",children:"Suivez-nous"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("a",{href:"#",className:"w-10 h-10 bg-green-100 hover:bg-green-200 rounded-full flex items-center justify-center transition-colors",children:n.jsx("span",{className:"text-green-600 font-bold",children:"f"})}),n.jsx("a",{href:"#",className:"w-10 h-10 bg-green-100 hover:bg-green-200 rounded-full flex items-center justify-center transition-colors",children:n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.042-3.441.219-.937 1.407-5.965 1.407-5.965s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.097.118.112.222.083.343-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.746-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001.012.001z"})})}),n.jsx("a",{href:"#",className:"w-10 h-10 bg-green-100 hover:bg-green-200 rounded-full flex items-center justify-center transition-colors",children:n.jsx("span",{className:"text-green-600 font-bold text-xs",children:"in"})})]})]})]})]})})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-4",children:"O nous trouver"}),n.jsx("p",{className:"text-gray-600",children:"Venez dcouvrir notre espace  Dakar et profitez dune exprience unique au cur de linnovation agricole."})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsx(y8,{location:j,height:"400px",zoom:15,showDirections:!0})})]})}),n.jsx(Vr,{}),o&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Message envoy"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Votre message a t envoy avec succs. Nous vous rpondrons dans les plus brefs dlais."}),n.jsx("div",{className:"flex justify-end gap-3",children:n.jsx("button",{type:"button",className:"bg-green-800 hover:bg-green-900 text-white px-4 py-2 rounded-lg",onClick:()=>l(!1),children:"Fermer"})})]})})]})},j8=()=>n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Tableau de bord"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:"card",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Commandes"}),n.jsx("p",{className:"text-3xl font-bold text-primary-600",children:"0"})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Produits"}),n.jsx("p",{className:"text-3xl font-bold text-primary-600",children:"0"})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Messages"}),n.jsx("p",{className:"text-3xl font-bold text-primary-600",children:"0"})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Activits rcentes"}),n.jsx("p",{className:"text-gray-600",children:"Aucune activit pour le moment"})]})]}),w8=({onOpenRegister:e,onOpenLogin:t})=>{const r=[{id:1,title:"E-commerce Agricole",description:"Vendez vos produits agricoles directement aux consommateurs avec notre plateforme scurise et intuitive.",icon:n.jsx(gr,{className:"w-12 h-12"}),features:["Catalogue en ligne personnalis","Paiement scuris","Gestion des commandes","Suivi des ventes"],color:"bg-green-500"},{id:2,title:"Formations & Accompagnement",description:"Dveloppez vos comptences agricoles avec nos formations certifiantes et notre accompagnement personnalis.",icon:n.jsx(wn,{className:"w-12 h-12"}),features:["Formations pratiques","Mentorat d'experts","Certifications reconnues","Mise  jour continue"],color:"bg-blue-500"},{id:3,title:"Livraison & Distribution",description:"Assurez une livraison rapide et fiable de vos produits grce  notre rseau de distribution.",icon:n.jsx(rn,{className:"w-12 h-12"}),features:["Livraison express","Rseau national","Produits frais garantis","Suivi en temps rel"],color:"bg-orange-500"}],s=[{id:1,title:"Communaut Agricole",description:"Rejoignez une communaut active d'agriculteurs et d'experts pour changer et apprendre.",icon:n.jsx(ir,{className:"w-8 h-8"})},{id:2,title:"Scurit & Traabilit",description:"Garantissez la qualit et la scurit de vos produits avec notre systme de traabilit.",icon:n.jsx(vu,{className:"w-8 h-8"})},{id:3,title:"Support Client 24/7",description:"Notre quipe est disponible 24h/24 et 7j/7 pour vous accompagner dans vos dmarches.",icon:n.jsx(eT,{className:"w-8 h-8"})}],a=[{id:1,name:"Moussa BA",role:"Producteur de lgumes",content:"Grce  AgriTeranga, j'ai multipli mes ventes par 3 en 6 mois. La plateforme est simple et efficace.",rating:5},{id:2,name:"Ada TRAORE",role:"leveuse",content:"Les formations m'ont permis d'amliorer considrablement la sant de mon levage. Excellent support !",rating:5},{id:3,name:"Ibrahim DIOP",role:"Agriculteur bio",content:"La livraison est rapide et mes clients apprcient la fracheur des produits. Je recommande vivement !",rating:5}];return n.jsxs("div",{className:"min-h-screen",children:[n.jsx(qr,{onRegisterClick:e,onLoginClick:t}),n.jsx("section",{className:"relative h-96 bg-cover bg-center bg-no-repeat flex items-center justify-center",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.10), rgba(0, 0, 0, 0.10)), url('/src/assets/service.jpg')"},children:n.jsxs("div",{className:"text-center text-white px-4",children:[n.jsx("h1",{className:"text-8xl font-bold mb-4",children:"Dcouvrez nos Services"}),n.jsx("p",{className:"text-2xl mb-8 max-w-2xl mx-auto",children:"Dcouvrez l'ensemble de nos services conus pour accompagner votre russite agricole"}),n.jsxs(xe,{to:"/contact",className:"inline-flex items-center bg-green-600 hover:bg-green-700 text-white font-semibold px-8 py-3 rounded-full transition-colors",children:["Nous contacter",n.jsx($c,{className:"ml-2 w-5 h-5"})]})]})}),n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Nos Services Principaux"}),n.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Nous proposons une gamme complte de services pour rpondre  tous vos besoins agricoles"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(i=>n.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow p-8 flex flex-col h-full",children:[n.jsx("div",{className:`${i.color} w-20 h-20 rounded-full flex items-center justify-center text-white mb-6`,children:i.icon}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:i.title}),n.jsx("p",{className:"text-gray-600 mb-6 flex-grow",children:i.description}),n.jsx("ul",{className:"space-y-2 mb-6",children:i.features.map((o,l)=>n.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(ar,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),o]},l))}),n.jsx(xe,{to:`/contact?service=${encodeURIComponent(i.title)}`,className:"w-full inline-flex items-center justify-center bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors mt-auto","aria-label":`En savoir plus sur ${i.title}`,children:"En savoir plus"})]},i.id))})]})}),n.jsx("section",{className:"py-16",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Services Complmentaires"}),n.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Des services additionnels pour une exprience complte et russie"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map(i=>n.jsxs("div",{className:"flex items-start space-x-4 p-6 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[n.jsx("div",{className:"bg-green-100 p-3 rounded-full text-green-600 flex-shrink-0",children:i.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),n.jsx("p",{className:"text-gray-600",children:i.description})]})]},i.id))})]})}),n.jsx("section",{className:"py-16 bg-green-50",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ce que disent nos clients"}),n.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Dcouvrez les tmoignages de nos utilisateurs satisfaits"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map(i=>n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("div",{className:"flex items-center mb-4",children:[...Array(i.rating)].map((o,l)=>n.jsx(Qo,{className:"w-5 h-5 text-yellow-400 fill-current"},l))}),n.jsxs("p",{className:"text-gray-600 mb-4 italic",children:['"',i.content,'"']}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:i.name}),n.jsx("p",{className:"text-sm text-gray-500",children:i.role})]})]},i.id))})]})}),n.jsx("section",{className:"py-16 bg-green-600 rounded-lg text-white m-16",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[n.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Prt  commencer ?"}),n.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Rejoignez la rvolution agricole avec AgriTeranga et transforms votre activit"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs(xe,{to:"/register",className:"inline-flex items-center bg-white text-green-800 font-semibold px-8 py-3 rounded-full hover:bg-gray-100 transition-colors",children:["S'inscrire gratuitement",n.jsx($c,{className:"ml-2 w-5 h-5"})]}),n.jsxs(xe,{to:"/contact",className:"inline-flex items-center border-2 border-white text-white font-semibold px-8 py-3 rounded-full hover:bg-white hover:text-green-800 transition-colors",children:["Nous contacter",n.jsx($c,{className:"ml-2 w-5 h-5"})]})]})]})}),n.jsx(Vr,{})]})},N8=()=>{const[e,t]=h.useState({users:{total:0,byRole:[],newThisWeek:0},products:{total:0,available:0},orders:{total:0,byStatus:[]},revenue:{total:0},recentOrders:[]}),[r,s]=h.useState(!0),[a,i]=h.useState(null),o=h.useCallback(async()=>{try{s(!0),i(null);const l=await ne.getDashboardStats();l.status==="success"?t(l.data||l):t({users:{total:0,byRole:[],newThisWeek:0},products:{total:0,available:0},orders:{total:0,byStatus:[]},revenue:{total:0},recentOrders:[]})}catch(l){console.error("Erreur dashboard stats:",l),i(l.message||"Erreur lors du chargement des statistiques"),t({users:{total:0,byRole:[],newThisWeek:0},products:{total:0,available:0},orders:{total:0,byStatus:[]},revenue:{total:0},recentOrders:[]})}finally{s(!1)}},[]);return h.useEffect(()=>{o()},[o]),{stats:e,loading:r,error:a,refetch:o}},S8=(e={})=>{const[t,r]=h.useState([]),[s,a]=h.useState(0),[i,o]=h.useState(!0),[l,c]=h.useState(null),u=JSON.stringify(e||{}),d=h.useCallback(async(x={})=>{try{o(!0),c(null);const y=await ne.getUsers({...e,...x})||{};let j=[];Array.isArray(y.data)?j=y.data:y.data&&Array.isArray(y.data.users)?j=y.data.users:Array.isArray(y.users)?j=y.users:Array.isArray(y)&&(j=y);const w=y.total||y.count||y.data&&(y.data.total||y.data.count)||0;r(j),a(w)}catch(v){c(v.message),r([])}finally{o(!1)}},[u]),m=h.useCallback(async x=>{try{await ne.toggleUserStatus(x),d()}catch(v){throw new Error(v.message)}},[d]),f=h.useCallback(async(x,v)=>{try{await ne.updateUserRole(x,v),d()}catch(y){throw new Error(y.message)}},[d]),p=h.useCallback(async x=>{try{await ne.deleteUser(x),d()}catch(v){throw new Error(v.message)}},[d]),g=h.useCallback(async(x,v="")=>{try{await ne.blockUser(x,v),d()}catch(y){throw new Error(y.message)}},[d]),b=h.useCallback(async x=>{try{await ne.unblockUser(x),d()}catch(v){throw new Error(v.message)}},[d]);return h.useEffect(()=>{d()},[u]),{users:t,total:s,loading:i,error:l,refetch:d,toggleUserStatus:m,updateUserRole:f,deleteUser:p,blockUser:g,unblockUser:b}},C8=(e={})=>{const[t,r]=h.useState([]),[s,a]=h.useState(0),[i,o]=h.useState(!0),[l,c]=h.useState(null),u=JSON.stringify(e||{}),d=h.useCallback(async(g={})=>{try{o(!0),c(null);const b=JSON.parse(u||"{}"),v=await ne.getProducts({...b,...g})||{};let y=[];Array.isArray(v.data)?y=v.data:v.data&&Array.isArray(v.data.products)?y=v.data.products:Array.isArray(v.products)?y=v.products:Array.isArray(v)&&(y=v);const j=v.total||v.count||v.data&&(v.data.total||v.data.count)||0;r(y),a(j)}catch(b){c(b.message),r([])}finally{o(!1)}},[u]),m=h.useCallback(async g=>{try{await ne.approveProduct(g),d()}catch(b){throw new Error(b.message)}},[d]),f=h.useCallback(async(g,b)=>{try{await ne.updateProduct(g,b),d()}catch(x){throw new Error(x.message)}},[d]),p=h.useCallback(async g=>{try{await ne.deleteProduct(g),d()}catch(b){throw new Error(b.message)}},[d]);return h.useEffect(()=>{d()},[u]),{products:t,total:s,loading:i,error:l,refetch:d,approveProduct:m,updateProduct:f,deleteProduct:p}},P8=()=>{const[e,t]=h.useState([]),[r,s]=h.useState(!0),[a,i]=h.useState(null),o=h.useCallback(async()=>{try{s(!0),i(null);const c=await ne.getPendingProducts();t(c.data||c.products||[])}catch(c){i(c.message),t([])}finally{s(!1)}},[]),l=h.useCallback(async c=>{try{await ne.approveProduct(c),o()}catch(u){throw new Error(u.message)}},[o]);return h.useEffect(()=>{o()},[o]),{pendingProducts:e,loading:r,error:a,refetch:o,approveProduct:l}},k8=(e={})=>{const[t,r]=h.useState([]),[s,a]=h.useState(0),[i,o]=h.useState(!0),[l,c]=h.useState(null),u=JSON.stringify(e||{}),d=h.useCallback(async(f={})=>{try{o(!0),c(null);const p=JSON.parse(u||"{}"),b=await ne.getOrders({...p,...f})||{};let x=[];Array.isArray(b.data)?x=b.data:b.data&&Array.isArray(b.data.orders)?x=b.data.orders:b.data&&Array.isArray(b.data.docs)?x=b.data.docs:Array.isArray(b.orders)?x=b.orders:Array.isArray(b)&&(x=b);const v=b.total||b.count||b.data&&(b.data.total||b.data.count)||0;r(x),a(v)}catch(p){c(p.message),r([])}finally{o(!1)}},[u]),m=h.useCallback(async(f,p)=>{try{await ne.updateOrderStatus(f,p),d()}catch(g){throw new Error(g.message)}},[d]);return h.useEffect(()=>{d()},[d]),{orders:t,total:s,loading:i,error:l,refetch:d,updateOrderStatus:m}},A8=(e={})=>{const[t,r]=h.useState([]),[s,a]=h.useState([]),[i,o]=h.useState(0),[l,c]=h.useState(!0),[u,d]=h.useState(null),[m,f]=h.useState(!0),[p,g]=h.useState(null),b=JSON.stringify(e||{}),x=h.useCallback(async(S={})=>{try{c(!0),d(null);const P=JSON.parse(b||"{}"),E=await ne.getFormations({...P,...S})||{};let O=[];Array.isArray(E.data)?O=E.data:E.data&&Array.isArray(E.data.formations)?O=E.data.formations:E.data&&Array.isArray(E.data.docs)?O=E.data.docs:Array.isArray(E.formations)?O=E.formations:Array.isArray(E)&&(O=E);const I=E.total||E.count||E.data&&(E.data.total||E.data.count)||0;r(O),o(I);let M=[];E.data&&Array.isArray(E.data.categories)?M=E.data.categories:M=Array.isArray(O)?Array.from(new Set(O.map(A=>A&&A.category).filter(Boolean))):[],a(M)}catch(P){d(P.message),r([])}finally{c(!1)}},[b]),v=h.useCallback(async S=>{try{await ne.toggleFormationPublish(S),x()}catch(P){throw new Error(P.message)}},[x]),y=h.useCallback(async S=>{try{await ne.createFormation(S),x()}catch(P){throw new Error(P.message)}},[x]),j=h.useCallback(async(S,P)=>{try{await ne.updateFormation(S,P),x()}catch(C){throw new Error(C.message)}},[x]),w=h.useCallback(async S=>{try{await ne.deleteFormation(S),x()}catch(P){throw new Error(P.message)}},[x]);h.useEffect(()=>{x()},[x]);const N=h.useCallback(async()=>{try{if(f(!0),g(null),Array.isArray(t)&&t.length>0){const E=Array.from(new Set(t.map(O=>O&&O.category).filter(Boolean)));a(E);return}let S=null;try{S=await ne.getFormationOptions()}catch{try{S=await ne.getFormationCategories()}catch{a([]);return}}const P=S||{};let C=[];P.data&&Array.isArray(P.data.categories)?C=P.data.categories:Array.isArray(P.categories)?C=P.categories:Array.isArray(P)&&(C=P),a(C)}catch{const P=Array.isArray(t)?Array.from(new Set(t.map(C=>C&&C.category).filter(Boolean))):[];a(P),g(null)}finally{f(!1)}},[t]);return h.useEffect(()=>{N()},[N]),{formations:t,categories:s,total:i,loading:l,error:u,refetch:x,togglePublish:v,createFormation:y,updateFormation:j,deleteFormation:w,categoriesLoading:m,categoriesError:p}},E8=(e="month")=>{const[t,r]=h.useState(null),[s,a]=h.useState(!0),[i,o]=h.useState(null),l=h.useCallback(async(c=e)=>{try{a(!0),o(null);const u=await ne.getSalesStats(c);r(u.data||u)}catch(u){o(u.message),r(null)}finally{a(!1)}},[e]);return h.useEffect(()=>{l()},[l]),{salesStats:t,loading:s,error:i,refetch:l}},T8=()=>{const[e,t]=h.useState(null),[r,s]=h.useState(!1),[a,i]=h.useState(null),o=h.useCallback(async u=>{try{s(!0),i(null);const d=await ne.login(u);return t(d.admin),d}catch(d){throw i(d.message),d}finally{s(!1)}},[]),l=h.useCallback(async()=>{try{await ne.logout(),t(null)}catch(u){console.error("Logout error:",u)}},[]),c=h.useCallback(()=>{const u=ne.getCurrentAdmin();return t(u),u},[]);return h.useEffect(()=>{c()},[c]),{admin:e,loading:r,error:a,login:o,logout:l,getCurrentAdmin:c}},O8=(e="formations")=>{const[t,r]=h.useState([]),[s,a]=h.useState(!0),[i,o]=h.useState(null),l=h.useCallback(async()=>{try{a(!0),o(null);let c;switch(e.toLowerCase()){case"products":case"produits":c=await ne.getProductCategories();break;case"formations":case"formation":c=await ne.getFormationOptions();break;default:throw new Error(`Type de catgorie non support: ${e}`)}const u=c||{};let d=[];u.data&&Array.isArray(u.data.categories)?d=u.data.categories:Array.isArray(u.categories)?d=u.categories:Array.isArray(u)&&(d=u),r(d)}catch(c){console.warn(`Impossible de rcuprer les catgories pour ${e}:`,c.message),o(c.message),r([])}finally{a(!1)}},[e]);return h.useEffect(()=>{l()},[l]),{categories:t,loading:s,error:i,refetch:l,isEmpty:t.length===0,hasError:!!i}},vn=({user:e,onClose:t})=>{const[r,s]=h.useState(!1),[a,i]=h.useState(!1),o=Mt(),l=mt();h.useEffect(()=>{const f=(e==null?void 0:e.role)==="super_admin"||(e==null?void 0:e.isSuperAdmin)===!0;i(f)},[e]);const c=[{name:"Dashboard",path:"/admin/dashboard",icon:w0,description:"Vue d'ensemble"},{name:"Utilisateurs",path:"/admin/users",icon:ir,description:"Gestion des utilisateurs"},{name:"Produits",path:"/admin/products",icon:qe,description:"Gestion des produits"},{name:"Ventes",path:"/admin/sales",icon:gr,description:"Gestion des ventes"},{name:"Formations",path:"/admin/formations",icon:wn,description:"Gestion des formations"}],u=[...c,{name:"Commandes",path:"/super-admin/orders",icon:Ho,description:"Gestion des commandes",badge:"EXCLUSIF"},{name:"Produits Admin",path:"/super-admin/products",icon:Lr,description:"Configuration produits",badge:"EXCLUSIF"}],d=a?u:c,m=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),l("/login")};return n.jsxs("div",{className:`bg-white shadow-lg transition-all duration-300 ${r?"w-20":"w-64"} h-screen flex flex-col`,children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[!r&&n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("img",{src:bl,alt:"AgriTeranga",className:"h-10 w-auto object-contain"})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("button",{onClick:()=>s(!r),className:"hidden lg:block p-2 hover:bg-gray-100 rounded-lg transition-colors",title:r?"Dplier":"Rduire",children:n.jsx("svg",{className:`w-5 h-5 text-gray-600 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),t&&n.jsx("button",{onClick:t,className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Fermer",children:n.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),n.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:n.jsx("div",{className:"space-y-2",children:d.map(f=>{const p=f.icon,g=o.pathname===f.path;return n.jsxs(xe,{to:f.path,className:`group flex items-center px-3 py-2 rounded-lg transition-colors ${g?"bg-green-50 text-green-700 border-r-2 border-green-700":"text-gray-700 hover:bg-gray-50"}`,title:r?f.name:"",children:[n.jsx(p,{className:`w-5 h-5 ${g?"text-green-700":"text-gray-500"} ${r?"":"mr-3"}`}),!r&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"flex-1 font-medium",children:f.name}),f.badge&&n.jsx("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full font-medium",children:f.badge})]}),r&&n.jsxs("div",{className:"absolute left-20 bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap",children:[n.jsx("div",{className:"font-medium",children:f.name}),n.jsx("div",{className:"text-xs text-gray-300",children:f.description})]})]},f.name)})})}),n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsx("div",{className:"space-y-2",children:n.jsxs("button",{onClick:m,className:"w-full flex items-center text-red-600 hover:bg-red-50 rounded-lg transition-colors px-3 py-2",title:r?"Dconnexion":"",children:[n.jsx(Aa,{className:`w-5 h-5 ${r?"":"mr-3"}`}),!r&&n.jsx("span",{children:"Dconnexion"}),r&&n.jsx("div",{className:"absolute left-20 bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap",children:"Dconnexion"})]})})})]})},Rs=({isOpen:e,onClose:t,user:r,onUpdated:s})=>{const[a,i]=h.useState(""),[o,l]=h.useState(""),[c,u]=h.useState(""),[d,m]=h.useState(""),[f,p]=h.useState(null),[g,b]=h.useState(""),[x,v]=h.useState(!1),[y,j]=h.useState(""),[w,N]=h.useState(""),[S,P]=h.useState(""),[C,E]=h.useState(""),[O,I]=h.useState(""),[M,k]=h.useState(!1),[A,B]=h.useState(!1),[F,D]=h.useState(!1),[$,z]=h.useState(!1),[K,U]=h.useState(""),[q,te]=h.useState(""),[W,ie]=h.useState("profile"),le=()=>{try{const J=localStorage.getItem("adminDashboardUser")||localStorage.getItem("user");return J?JSON.parse(J):null}catch{return null}};h.useEffect(()=>{if(!e)return;const J=le()||r||{};i((J==null?void 0:J.firstName)||""),l((J==null?void 0:J.lastName)||""),u((J==null?void 0:J.phone)||""),m((J==null?void 0:J.email)||""),p(null);const G=J!=null&&J.profilePicture?Qt(J.profilePicture):"";b(G),j(""),N(""),U(""),te(""),P(""),E(""),I("")},[e,r]);const se=J=>{var ce;const G=((ce=J.target.files)==null?void 0:ce[0])||null;if(p(G),g)try{URL.revokeObjectURL(g)}catch{}if(G){const L=URL.createObjectURL(G);b(L)}else b("")},V=async J=>{var G;J.preventDefault(),v(!0),j(""),N("");try{const ce={firstName:a,lastName:o,phone:c,email:d};f&&(ce.profilePicture=f);const L=await ne.updateMyProfile(ce),X=(L==null?void 0:L.data)??L,T=(X==null?void 0:X.user)??X??{...r,firstName:a,lastName:o,phone:c,email:d};(G=X==null?void 0:X.user)!=null&&G.profilePicture&&(T.profilePicture=X.user.profilePicture);try{T&&(localStorage.setItem("user",JSON.stringify(T)),(T.role==="admin"||T.isSuperAdmin===!0)&&localStorage.setItem("adminDashboardUser",JSON.stringify(T)),T.isSuperAdmin===!0&&localStorage.setItem("superAdminUser",JSON.stringify(T)))}catch{}N("Profil mis  jour avec succs !"),s&&s(),t&&t()}catch(ce){j((ce==null?void 0:ce.message)||"Erreur lors de la mise  jour du profil")}finally{v(!1)}},_=async J=>{if(J.preventDefault(),C!==O){U("Les nouveaux mots de passe ne correspondent pas");return}if(C.length<6){U("Le nouveau mot de passe doit contenir au moins 6 caractres");return}z(!0),U(""),te("");try{await ne.changeMyPassword(S,C,O),te("Mot de passe modifi avec succs !"),P(""),E(""),I(""),setTimeout(()=>{te(""),ie("profile")},2e3)}catch(G){U((G==null?void 0:G.message)||"Erreur lors de la modification du mot de passe")}finally{z(!1)}};if(!e)return null;const H=(r==null?void 0:r.role)==="super_admin"||(r==null?void 0:r.isSuperAdmin)===!0;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx(vu,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold",children:"Mon Profil Admin"}),n.jsx("p",{className:"text-blue-100 text-sm",children:H?"Super Administrateur":"Administrateur"})]})]}),n.jsx("button",{onClick:t,className:"text-white/80 hover:text-white p-1 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(or,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"flex border-b",children:[n.jsx("button",{onClick:()=>ie("profile"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${W==="profile"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(Et,{className:"w-4 h-4"}),n.jsx("span",{children:"Informations"})]})}),n.jsx("button",{onClick:()=>ie("security"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${W==="security"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(Qs,{className:"w-4 h-4"}),n.jsx("span",{children:"Scurit"})]})})]}),n.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[W==="profile"&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Informations du profil"}),y&&n.jsxs("div",{className:"mb-4 rounded-lg bg-red-50 text-red-700 px-4 py-3 flex items-center space-x-2",children:[n.jsx(Es,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:y})]}),w&&n.jsxs("div",{className:"mb-4 rounded-lg bg-green-50 text-green-700 px-4 py-3 flex items-center space-x-2",children:[n.jsx(Co,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:w})]}),n.jsxs("form",{onSubmit:V,className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden border-4 border-white shadow-lg",children:g?n.jsx("img",{src:g,alt:"Aperu",className:"w-full h-full object-cover"}):r!=null&&r.profilePicture?n.jsx("img",{src:r.profilePicture,alt:"Photo de profil",className:"w-full h-full object-cover"}):n.jsx(Et,{className:"w-12 h-12 text-gray-400"})}),n.jsxs("label",{className:"absolute bottom-0 right-0 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-700 transition-colors",children:[n.jsx(j0,{className:"w-4 h-4 text-white"}),n.jsx("input",{type:"file",accept:"image/*",onChange:se,className:"hidden"})]})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Cliquez sur l'icne pour changer votre photo de profil"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prnom *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{value:a,onChange:J=>i(J.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Votre prnom"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{value:o,onChange:J=>l(J.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Votre nom"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone"}),n.jsxs("div",{className:"relative",children:[n.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{value:c,onChange:J=>u(J.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Votre numro de tlphone"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),n.jsxs("div",{className:"relative",children:[n.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"email",value:d,onChange:J=>m(J.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"votre@email.com"})]})]}),n.jsx("div",{className:"pt-4 border-t",children:n.jsx("button",{type:"submit",disabled:x,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:x?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Enregistrement..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Co,{className:"w-5 h-5"}),n.jsx("span",{children:"Enregistrer les modifications"})]})})})]})]}),W==="security"&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Modification du mot de passe"}),K&&n.jsxs("div",{className:"mb-4 rounded-lg bg-red-50 text-red-700 px-4 py-3 flex items-center space-x-2",children:[n.jsx(Es,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:K})]}),q&&n.jsxs("div",{className:"mb-4 rounded-lg bg-green-50 text-green-700 px-4 py-3 flex items-center space-x-2",children:[n.jsx(Co,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:q})]}),n.jsxs("form",{onSubmit:_,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe actuel *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:M?"text":"password",value:S,onChange:J=>P(J.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Votre mot de passe actuel",required:!0}),n.jsx("button",{type:"button",onClick:()=>k(!M),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:M?n.jsx(Ss,{className:"w-5 h-5"}):n.jsx(hr,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouveau mot de passe *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:A?"text":"password",value:C,onChange:J=>E(J.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Nouveau mot de passe",minLength:6,required:!0}),n.jsx("button",{type:"button",onClick:()=>B(!A),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:A?n.jsx(Ss,{className:"w-5 h-5"}):n.jsx(hr,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Le mot de passe doit contenir au moins 6 caractres"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmer le nouveau mot de passe *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:F?"text":"password",value:O,onChange:J=>I(J.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirmer le nouveau mot de passe",required:!0}),n.jsx("button",{type:"button",onClick:()=>D(!F),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:F?n.jsx(Ss,{className:"w-5 h-5"}):n.jsx(hr,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"pt-4 border-t",children:n.jsx("button",{type:"submit",disabled:$,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:$?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Modification..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Qs,{className:"w-5 h-5"}),n.jsx("span",{children:"Modifier le mot de passe"})]})})})]})]})]})]})})},yn=({user:e,onOpenProfile:t,onLogout:r,onToggleSidebar:s})=>{const[a,i]=h.useState(!1),[o,l]=h.useState(!1),[c,u]=h.useState(!1),[d,m]=h.useState(""),[f,p]=h.useState(""),[g,b]=h.useState([]),[x,v]=h.useState(0),[y,j]=h.useState(!1),w=new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),N=(e==null?void 0:e.role)==="super_admin"||(e==null?void 0:e.isSuperAdmin)===!0,S=h.useCallback(async()=>{try{j(!0);const F=await ne.request("/admin/notifications");if(F.status==="success"&&F.data){const D=F.data.notifications||[];b(D),v(D.filter($=>!$.isRead).length)}}catch(F){console.error("Erreur chargement notifications:",F),P()}finally{j(!1)}},[]),P=()=>{const F=[{_id:"demo1",type:"new_user",title:"Nouvel utilisateur inscrit",message:"Mamadou Diallo (Producteur) vient de s'inscrire",isRead:!1,createdAt:new Date(Date.now()-3e5).toISOString(),user:{name:"Mamadou Diallo",role:"producteur",email:"mamadou@example.com"}},{_id:"demo2",type:"new_order",title:"Nouvelle commande",message:"Commande #12345 de 25,000 FCFA reue",isRead:!1,createdAt:new Date(Date.now()-6e5).toISOString(),order:{orderId:"#12345",amount:25e3}},{_id:"demo3",type:"delivery_completed",title:"Livraison termine",message:"Livraison #789 complte avec succs",isRead:!0,createdAt:new Date(Date.now()-36e5).toISOString()},{_id:"demo4",type:"new_user",title:"Nouvel utilisateur inscrit",message:"Fatou Sow (Consommateur) vient de s'inscrire",isRead:!1,createdAt:new Date(Date.now()-72e5).toISOString(),user:{name:"Fatou Sow",role:"consommateur",email:"fatou@example.com"}}];b(F),v(F.filter(D=>!D.isRead).length)},C=async F=>{try{await ne.request(`/admin/notifications/${F}/read`,{method:"PATCH"}),b(D=>D.map($=>$._id===F?{...$,isRead:!0}:$)),v(D=>Math.max(0,D-1))}catch{b($=>$.map(z=>z._id===F?{...z,isRead:!0}:z)),v($=>Math.max(0,$-1))}},E=async()=>{try{await ne.request("/admin/notifications/read-all",{method:"PATCH"}),b(F=>F.map(D=>({...D,isRead:!0}))),v(0)}catch{b(D=>D.map($=>({...$,isRead:!0}))),v(0)}},O=async F=>{try{await ne.request(`/admin/notifications/${F}`,{method:"DELETE"});const D=g.find($=>$._id===F);b($=>$.filter(z=>z._id!==F)),D&&!D.isRead&&v($=>Math.max(0,$-1))}catch{const $=g.find(z=>z._id===F);b(z=>z.filter(K=>K._id!==F)),$&&!$.isRead&&v(z=>Math.max(0,z-1))}},I=F=>{switch(F){case"new_order":return n.jsx(gr,{className:"w-5 h-5 text-blue-500"});case"product_approved":case"new_product":return n.jsx(qe,{className:"w-5 h-5 text-green-500"});case"delivery_completed":case"delivery_assigned":return n.jsx(rn,{className:"w-5 h-5 text-purple-500"});case"new_user":case"user_registered":return n.jsx(BT,{className:"w-5 h-5 text-indigo-500"});case"alert":case"warning":return n.jsx(Es,{className:"w-5 h-5 text-orange-500"});default:return n.jsx(Ns,{className:"w-5 h-5 text-gray-500"})}},M=F=>{switch(F){case"new_order":return"bg-blue-100 text-blue-700";case"product_approved":case"new_product":return"bg-green-100 text-green-700";case"delivery_completed":case"delivery_assigned":return"bg-purple-100 text-purple-700";case"new_user":case"user_registered":return"bg-indigo-100 text-indigo-700";case"alert":case"warning":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},k=F=>{switch(F){case"new_order":return"Nouvelle commande";case"product_approved":return"Produit approuv";case"new_product":return"Nouveau produit";case"delivery_completed":return"Livraison termine";case"delivery_assigned":return"Livraison assigne";case"new_user":case"user_registered":return"Nouvel utilisateur";case"alert":return"Alerte";case"warning":return"Attention";default:return"Notification"}},A=F=>{const D=new Date,$=new Date(F),z=D-$,K=Math.floor(z/6e4),U=Math.floor(z/36e5),q=Math.floor(z/864e5);return K<1?" l'instant":K<60?`Il y a ${K} min`:U<24?`Il y a ${U}h`:q<7?`Il y a ${q}j`:$.toLocaleDateString("fr-FR")},B=F=>{var D,$,z,K;switch(F.isRead||C(F._id),F.type){case"new_order":(D=F.order)!=null&&D.orderId?window.location.href=`/admin/orders/${F.order.orderId}`:window.location.href="/admin/orders";break;case"new_product":case"product_approved":($=F.product)!=null&&$._id?window.location.href=`/admin/products/${F.product._id}`:window.location.href="/admin/products";break;case"delivery_completed":case"delivery_assigned":(z=F.delivery)!=null&&z._id?window.location.href=`/admin/deliveries/${F.delivery._id}`:window.location.href="/admin/deliveries";break;case"new_user":case"user_registered":(K=F.user)!=null&&K._id?window.location.href=`/admin/users/${F.user._id}`:window.location.href="/admin/users";break}};return h.useEffect(()=>{try{const F=localStorage.getItem("adminDashboardUser")||localStorage.getItem("user"),D=F?JSON.parse(F):e,$=D!=null&&D.profilePicture?Qt(D.profilePicture):"",z=$?`${$}${$.includes("?")?"&":"?"}v=${Date.now()}`:"";m(z);const U=(((D==null?void 0:D.firstName)||(D==null?void 0:D.first_name)||(D==null?void 0:D.prenom)||"")+" "+((D==null?void 0:D.lastName)||(D==null?void 0:D.last_name)||(D==null?void 0:D.nom)||"")).trim();p(U||(D==null?void 0:D.name)||"Administrateur")}catch{const F=e!=null&&e.profilePicture?Qt(e.profilePicture):"",D=F?`${F}${F.includes("?")?"&":"?"}v=${Date.now()}`:"";m(D);const z=(((e==null?void 0:e.firstName)||"")+" "+((e==null?void 0:e.lastName)||"")).trim();p(z||(e==null?void 0:e.name)||"Administrateur")}},[e]),h.useEffect(()=>{S();const F=setInterval(S,3e4);return()=>clearInterval(F)},[S]),h.useEffect(()=>{const F=D=>{!D.target.closest(".notification-panel")&&!D.target.closest(".notification-button")&&u(!1),!D.target.closest(".user-menu-panel")&&!D.target.closest(".user-menu-button")&&i(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]),n.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 px-4 sm:px-6 py-3 sm:py-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s&&n.jsx("button",{onClick:s,className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Menu",children:n.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),n.jsx("div",{children:n.jsx("p",{className:"text-xs sm:text-sm text-gray-500 capitalize hidden sm:block",children:w})})]}),n.jsx("div",{className:"hidden md:flex flex-1 max-w-sm lg:max-w-md mx-4 lg:mx-8",children:n.jsxs("div",{className:"relative w-full",children:[n.jsx(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"})]})}),n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[n.jsx("button",{className:"md:hidden p-2 text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Vt,{className:"w-5 h-5"})}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>u(!c),className:"notification-button relative p-2 text-gray-400 hover:text-gray-600 transition-colors",children:[n.jsx(Ns,{className:"w-5 h-5 sm:w-6 sm:h-6"}),x>0&&n.jsx("span",{className:"absolute top-0 right-0 flex items-center justify-center h-5 w-5 text-xs font-bold text-white bg-red-500 rounded-full animate-pulse",children:x>9?"9+":x})]}),c&&n.jsxs("div",{className:"notification-panel absolute right-0 top-12 w-80 sm:w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-[32rem] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-blue-50",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Notifications ",x>0&&n.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-red-500 text-white rounded-full",children:x})]}),g.length>0&&x>0&&n.jsx("button",{onClick:E,className:"text-xs text-green-600 hover:text-green-700 font-medium transition-colors",children:"Tout marquer comme lu"})]}),n.jsx("div",{className:"overflow-y-auto flex-1",children:y?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})}):g.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[n.jsx(Ns,{className:"w-12 h-12 text-gray-300 mb-3"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Aucune notification"}),n.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Vous tes  jour !"})]}):n.jsx("div",{className:"divide-y divide-gray-100",children:g.map(F=>n.jsx("div",{onClick:()=>B(F),className:`p-4 hover:bg-gray-50 transition-all cursor-pointer ${F.isRead?"":"bg-green-50 border-l-4 border-green-500"}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:I(F.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${M(F.type)}`,children:k(F.type)}),!F.isRead&&n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),n.jsx("p",{className:`text-sm ${F.isRead?"text-gray-700":"font-semibold text-gray-900"}`,children:F.title}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:F.message}),F.user&&n.jsxs("div",{className:"mt-2 text-xs text-gray-500 bg-gray-50 rounded p-2",children:[n.jsxs("span",{className:"font-medium",children:[" ",F.user.name]}),F.user.role&&n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-blue-100 text-blue-700 rounded",children:F.user.role}),F.user.email&&n.jsxs("div",{className:"text-gray-400 mt-1",children:[" ",F.user.email]})]}),n.jsxs("p",{className:"text-xs text-gray-400 mt-2 flex items-center",children:[n.jsx("span",{className:"mr-1",children:""}),A(F.createdAt)]})]}),n.jsx("button",{onClick:D=>{D.stopPropagation(),O(F._id)},className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Supprimer",children:n.jsx(or,{className:"w-4 h-4"})})]})},F._id))})}),g.length>0&&n.jsx("div",{className:"p-3 border-t border-gray-200 text-center bg-gray-50",children:n.jsx("button",{onClick:()=>{u(!1),window.location.href="/admin/notifications"},className:"text-sm text-green-600 hover:text-green-700 font-medium transition-colors",children:"Voir toutes les notifications "})})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:f||"Administrateur"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[N&&n.jsx("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full font-medium",children:"SUPER ADMIN"}),!N&&n.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full",children:"ADMIN STANDARD"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>i(!a),className:"user-menu-button w-10 h-10 bg-green-100 rounded-full flex items-center justify-center hover:bg-green-200 transition-colors",children:d?n.jsx("img",{src:d,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):n.jsx(Et,{className:"w-6 h-6 text-green-600"})}),a&&n.jsx("div",{className:"user-menu-panel absolute right-0 top-12 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:n.jsxs("div",{className:"py-1",children:[n.jsxs("button",{onClick:()=>{l(!0),i(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[n.jsx(Lr,{className:"w-4 h-4 mr-3"}),"Mon profil"]}),n.jsx("hr",{className:"my-1"}),n.jsxs("button",{onClick:()=>{r(),i(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[n.jsx(Aa,{className:"w-4 h-4 mr-3"}),"Dconnexion"]})]})})]})]})]})]}),n.jsx(Rs,{isOpen:o,onClose:()=>l(!1),user:e,onUpdated:()=>{try{const F=localStorage.getItem("adminDashboardUser")||localStorage.getItem("user"),D=F?JSON.parse(F):e,$=D!=null&&D.profilePicture?Qt(D.profilePicture):"",z=$?`${$}${$.includes("?")?"&":"?"}v=${Date.now()}`:"";m(z);const U=(((D==null?void 0:D.firstName)||(D==null?void 0:D.first_name)||(D==null?void 0:D.prenom)||"")+" "+((D==null?void 0:D.lastName)||(D==null?void 0:D.last_name)||(D==null?void 0:D.nom)||"")).trim();p(U||(D==null?void 0:D.name)||"Administrateur")}catch{}}})]})},sn=({user:e,onClose:t})=>{var d;const[r,s]=h.useState(!1),a=Mt(),i=mt(),o=[{name:"Dashboard Super Admin",path:"/super-admin/dashboard",icon:Go,description:"Tableau de bord principal",badge:"EXCLUSIF",category:"super"},{name:"Gestion des Commandes",path:"/super-admin/orders",icon:Ho,description:"Supervision des commandes",badge:"EXCLUSIF",category:"super"},{name:"Configuration Produits",path:"/super-admin/products",icon:Lr,description:"Paramtres globaux produits",badge:"EXCLUSIF",category:"super"},{name:"Dashboard Admin",path:"/super-admin/admin-dashboard",icon:So,description:"Tableau de bord administrateur",category:"admin"},{name:"Gestion des Utilisateurs",path:"/super-admin/admin-users",icon:ir,description:"Grer tous les utilisateurs",category:"admin"},{name:"Gestion des Produits",path:"/super-admin/admin-products",icon:qe,description:"Grer tous les produits",category:"admin"},{name:"Gestion des Ventes",path:"/super-admin/admin-sales",icon:gr,description:"Supervision des ventes",category:"admin"},{name:"Gestion des Formations",path:"/super-admin/admin-formations",icon:wn,description:"Grer toutes les formations",category:"admin"},{name:"Connexion Admin",path:"/super-admin/admin-login",icon:e2,description:"Page de connexion admin",category:"admin"}],l=o.filter(m=>m.category==="super"),c=o.filter(m=>m.category==="admin"),u=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("adminDashboardUser"),localStorage.removeItem("superAdminUser"),i("/login")};return n.jsxs("div",{className:`bg-white shadow-lg transition-all duration-300 ${r?"w-20":"w-64"} h-screen flex flex-col`,children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[!r&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"SA"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-bold text-gray-800",children:"AgriTeranga"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Super Admin"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("button",{onClick:()=>s(!r),className:"hidden lg:block p-2 hover:bg-gray-100 rounded-lg transition-colors",title:r?"Dplier":"Rduire",children:n.jsx("svg",{className:`w-5 h-5 text-gray-600 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),t&&n.jsx("button",{onClick:t,className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Fermer",children:n.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),!r&&n.jsx("div",{className:"p-4 border-b border-gray-200 bg-red-50",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-red-600 font-semibold",children:((d=e==null?void 0:e.name)==null?void 0:d.charAt(0))||"S"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",children:(e==null?void 0:e.name)||"Super Admin"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full font-medium",children:"SUPER ADMIN"}),n.jsx(Go,{className:"w-4 h-4 text-red-500"})]})]})]})}),n.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:n.jsxs("div",{className:"space-y-6",children:[!r&&n.jsx("div",{children:n.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Super Admin"})}),n.jsx("div",{className:"space-y-1",children:l.map(m=>{const f=m.icon,p=a.pathname===m.path;return n.jsxs(xe,{to:m.path,className:`group flex items-center px-3 py-2 rounded-lg transition-colors ${p?"bg-red-50 text-red-700 border-r-2 border-red-700":"text-gray-700 hover:bg-gray-50"}`,title:r?m.name:"",children:[n.jsx(f,{className:`w-5 h-5 ${p?"text-red-700":"text-gray-500"} ${r?"":"mr-3"}`}),!r&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"flex-1 font-medium",children:m.name}),m.badge&&n.jsx("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full font-medium",children:m.badge})]}),r&&n.jsxs("div",{className:"absolute left-20 bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap",children:[n.jsx("div",{className:"font-medium",children:m.name}),n.jsx("div",{className:"text-xs text-gray-300",children:m.description})]})]},m.name)})}),!r&&n.jsx("div",{children:n.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Accs Pages Admin"})}),n.jsx("div",{className:"space-y-1",children:c.map(m=>{const f=m.icon,p=a.pathname===m.path;return n.jsxs(xe,{to:m.path,className:`group flex items-center px-3 py-2 rounded-lg transition-colors ${p?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:bg-gray-50"}`,title:r?m.name:"",children:[n.jsx(f,{className:`w-5 h-5 ${p?"text-blue-700":"text-gray-500"} ${r?"":"mr-3"}`}),!r&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"flex-1 font-medium",children:m.name}),n.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full font-medium",children:"ADMIN"})]}),r&&n.jsxs("div",{className:"absolute left-20 bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap",children:[n.jsx("div",{className:"font-medium",children:m.name}),n.jsx("div",{className:"text-xs text-gray-300",children:m.description})]})]},m.name)})})]})}),n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsx("div",{className:"space-y-2",children:n.jsxs("button",{onClick:u,className:"w-full flex items-center text-red-600 hover:bg-red-50 rounded-lg transition-colors px-3 py-2",title:r?"Dconnexion":"",children:[n.jsx(Aa,{className:`w-5 h-5 ${r?"":"mr-3"}`}),!r&&n.jsx("span",{children:"Dconnexion"}),r&&n.jsx("div",{className:"absolute left-20 bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap",children:"Dconnexion"})]})})})]})},an=({user:e,onOpenProfile:t,onLogout:r,onToggleSidebar:s})=>{const[a,i]=h.useState(!1),o=new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-4 sm:px-6 py-3 sm:py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s&&n.jsx("button",{onClick:s,className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Menu",children:n.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:"Super Administration"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(vu,{className:"w-5 h-5 text-red-600"}),n.jsx("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full font-medium",children:"SUPER ADMIN"})]})]}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 capitalize hidden sm:block",children:[o," - Accs total"]})]})]}),n.jsx("div",{className:"hidden md:flex flex-1 max-w-sm lg:max-w-md mx-4 lg:mx-8",children:n.jsxs("div",{className:"relative w-full",children:[n.jsx(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Rechercher dans la plateforme...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"})]})}),n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[n.jsx("button",{className:"md:hidden p-2 text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Vt,{className:"w-5 h-5"})}),n.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-gray-600 transition-colors",children:[n.jsx(Ns,{className:"w-5 h-5 sm:w-6 sm:h-6"}),n.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName} ${e.lastName}`:(e==null?void 0:e.name)||"Super Administrateur"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full font-medium",children:"SUPER ADMIN"}),n.jsx(vu,{className:"w-4 h-4 text-red-500"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>i(!a),className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center hover:bg-red-200 transition-colors",children:e!=null&&e.profilePicture?n.jsx("img",{src:Qt(e.profilePicture),alt:"Profile",className:"w-full h-full rounded-full object-cover"}):n.jsx(Et,{className:"w-6 h-6 text-red-600"})}),a&&n.jsx("div",{className:"absolute right-0 top-12 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:n.jsxs("div",{className:"py-1",children:[n.jsxs("button",{onClick:()=>{t(),i(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[n.jsx(Lr,{className:"w-4 h-4 mr-3"}),"Mon profil"]}),n.jsx("hr",{className:"my-1"}),n.jsxs("button",{onClick:()=>{r(),i(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[n.jsx(Aa,{className:"w-4 h-4 mr-3"}),"Dconnexion"]})]})})]})]})]})]})})},fy=()=>{var pe,ke,ts,_i,Ri,Fi,mx,fx,px,hx,gx,xx,vx,yx,bx;const e=Mt(),t=mt(),{stats:r,loading:s,error:a,refetch:i}=N8(),{success:o,error:l,loading:c}=Nd(),[u,d]=h.useState(!1),[m,f]=h.useState(!1),[p,g]=h.useState(!1),[b,x]=h.useState(!1),[v,y]=h.useState(!1),[j,w]=h.useState(!1),[N,S]=h.useState(null),[P,C]=h.useState(null),[E,O]=h.useState(!1),[I,M]=h.useState(""),[k,A]=h.useState({name:"",description:"",price:"",category:"",image:null}),[B,F]=h.useState({title:"",description:"",category:"",duration:"",price:""}),[D,$]=h.useState(!1),[z,K]=h.useState(!1),U=e.pathname.startsWith("/super-admin/"),q=ve.useMemo(()=>{try{let ee;return U?ee=localStorage.getItem("superAdminUser")||localStorage.getItem("adminDashboardUser"):ee=localStorage.getItem("adminDashboardUser"),ee?JSON.parse(ee):null}catch{return null}},[U]),te=async()=>{d(!0),await i(),d(!1)},W=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("adminDashboardUser"),localStorage.removeItem("superAdminUser"),window.location.href=U?"/login":"/admin/login"},ie=()=>{y(!0)},le=()=>{console.log("Profil mis  jour")},se=()=>{t(U?"/super-admin/admin-users":"/admin/users")},V=()=>{x(!0)},_=async()=>{try{await i(),t(U?"/super-admin/sales":"/admin/sales")}catch{l("Erreur lors du chargement des donnes de vente")}},H=async()=>{if(!k.name||!k.price){l("Veuillez remplir tous les champs obligatoires");return}$(!0),c("Cration du produit en cours...");try{const ee={name:k.name,description:k.description,price:parseFloat(k.price),category:k.category,status:"active"};await ne.createProduct(ee),g(!1),A({name:"",description:"",price:"",category:"",image:null}),await i(),o("Produit cr avec succs !")}catch(ee){l(ee.message||"Erreur lors de la cration du produit")}finally{$(!1)}},J=async()=>{if(!B.title||!B.description){l("Veuillez remplir tous les champs obligatoires");return}K(!0),c("Cration de la formation en cours...");try{const ee={title:B.title,description:B.description,category:B.category,duration:parseInt(B.duration),price:parseFloat(B.price)||0,isPublished:!1};await ne.createFormation(ee),x(!1),F({title:"",description:"",category:"",duration:"",price:""}),await i(),o("Formation cre avec succs !")}catch(ee){l(ee.message||"Erreur lors de la cration de la formation")}finally{K(!1)}},G=((pe=r.users)==null?void 0:pe.total)||0,ce=((ke=r.products)==null?void 0:ke.total)||0,L=((ts=r.orders)==null?void 0:ts.total)||0,X=((_i=r.revenue)==null?void 0:_i.total)||0,T=((Ri=r.users)==null?void 0:Ri.newThisWeek)||0,Z=G>0?`+${Math.round(T/G*100)}%`:"0%",ue=[{name:"Utilisateurs",value:G.toLocaleString(),change:Z,icon:ir,color:"bg-blue-500"},{name:"Produits",value:ce.toLocaleString(),change:"+8%",icon:qe,color:"bg-green-500"},{name:"Ventes",value:L.toLocaleString(),change:"+23%",icon:gr,color:"bg-purple-500"},{name:"Revenus",value:`${(X/1e6).toFixed(1)}M`,change:"+12%",icon:Wo,color:"bg-orange-500"}],oe=r.recentOrders||[],we=ee=>{const he=new Date(ee),Me=Math.floor((new Date-he)/(1e3*60*60));if(Me<1)return" l'instant";if(Me<24)return`Il y a ${Me} heure${Me>1?"s":""}`;const $t=Math.floor(Me/24);return $t<7?`Il y a ${$t} jour${$t>1?"s":""}`:he.toLocaleDateString("fr-FR")},Ne=ee=>ee&&`${ee.firstName||""} ${ee.lastName||""}`.trim()||"Utilisateur inconnu",Le=ee=>ee?ee.name||"Produit sans nom":"Produit supprim",ge=ee=>{var qs,rs,$i,zi;if(!ee||typeof ee!="object")return"";const St=[ee.name,ee.fullName,ee.username,ee.displayName,ee.firstName&&ee.lastName?`${ee.firstName} ${ee.lastName}`.trim():"",ee.firstname&&ee.lastname?`${ee.firstname} ${ee.lastname}`.trim():"",ee.prenom&&ee.nom?`${ee.prenom} ${ee.nom}`.trim():"",ee.first_name&&ee.last_name?`${ee.first_name} ${ee.last_name}`.trim():"",(qs=ee.contact)==null?void 0:qs.name,(rs=ee.profile)==null?void 0:rs.name,($i=ee.user)==null?void 0:$i.name,(zi=ee.account)==null?void 0:zi.name].filter(Boolean).find(Ui=>typeof Ui=="string"&&Ui.trim());if(St)return St;const Me=ee.firstName||ee.firstname||ee.prenom||ee.first_name||"",$t=ee.lastName||ee.lastname||ee.nom||ee.last_name||"",cn=`${Me} ${$t}`.trim();return cn||ee.phone||ee.telephone||ee.email||""},Pe=ee=>{var cn,qs,rs,$i,zi,Ui,jx,wx,Nx;const he=P||ee;if(!he)return"Non assign";const Me=[(cn=he.delivery)==null?void 0:cn.deliverer,(qs=he.delivery)==null?void 0:qs.assignedTo,(rs=he.delivery)==null?void 0:rs.assignee,($i=he.delivery)==null?void 0:$i.user,(zi=he.delivery)==null?void 0:zi.driver,(Ui=he.delivery)==null?void 0:Ui.courier,(jx=he.delivery)==null?void 0:jx.livreur,(wx=he.delivery)==null?void 0:wx.person,he.assignedDeliverer,he.assignedTo,he.assignee,he.assignedUser,he.livreur,he.driver,he.deliverer,he.courier,he.rider,(Nx=he.shipment)==null?void 0:Nx.courier,he.deliveryPerson,he.delivery_person].filter(Boolean).find(Boolean);if(!Me)return"Non assign";if(typeof Me=="string")return Me;if(Array.isArray(Me)){const $l=Me.find(Boolean);return $l?typeof $l=="string"?$l:ge($l)||"Non assign":"Non assign"}return ge(Me)||"Non assign"},rt=ee=>ee&&(ee.email||ee.phone||ee.telephone)||"",Je=ee=>{var $t;const he=P||ee;if(!he)return"";const Me=[he.status,he.orderStatus,he.state,he.etat,he.statut,he.deliveryStatus,($t=he.payment)==null?void 0:$t.status].filter(Boolean).find(cn=>typeof cn=="string"&&cn.trim());return Me?Me.charAt(0).toUpperCase()+Me.slice(1):""},Ze=ee=>{const he=P||ee;return he?he.totalAmount||he.total?he.totalAmount||he.total:(Array.isArray(he.items)?he.items:[]).reduce((Me,$t)=>{var rs;const cn=Number($t.quantity||$t.qty||1),qs=Number($t.price||$t.unitPrice||((rs=$t.product)==null?void 0:rs.price)||0);return Me+cn*qs},0):0},vt=async ee=>{try{S(ee),w(!0),M(""),C(null),O(!0);const he=(ee==null?void 0:ee._id)||(ee==null?void 0:ee.id);if(he){const St=await ne.getOrderDetails(he),Me=(St==null?void 0:St.data)||St;C((Me==null?void 0:Me.order)||Me)}else M("Identifiant de commande introuvable")}catch(he){M(he.message||"Erreur lors du chargement des dtails")}finally{O(!1)}},R=()=>{w(!1),S(null),C(null),M("")};return q?n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[U?n.jsx(sn,{user:q,onClose:()=>f(!1)}):n.jsx(vn,{user:q}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[U?n.jsx(an,{user:q,onOpenProfile:ie,onLogout:W,onToggleSidebar:()=>f(!m)}):n.jsx(yn,{user:q,onOpenProfile:ie,onLogout:W}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-6",children:[s&&n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(nt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Chargement des donnes..."})]})}),!s&&a&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Es,{className:"w-5 h-5 text-red-600 mr-2"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:a})]})]}),n.jsx("button",{onClick:te,className:"mt-3 text-sm text-red-600 hover:text-red-800 font-medium",children:"Ressayer"})]}),!s&&!a&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Administration"}),n.jsx("p",{className:"text-gray-600",children:"Vue d'ensemble de la plateforme AgriTeranga"})]}),n.jsxs("button",{onClick:te,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(_r,{className:`w-4 h-4 ${u?"animate-spin":""}`}),"Actualiser"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:ue.map(ee=>{const he=ee.icon;return n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`${ee.color} rounded-lg p-3`,children:n.jsx(he,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:ee.name}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ee.value}),n.jsx("span",{className:"ml-2 text-sm text-green-600 font-medium",children:ee.change})]})]})]})},ee.name)})}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activit rcente"}),n.jsx("div",{className:"space-y-4",children:oe.length>0?oe.slice(0,5).map((ee,he)=>{var St,Me;return n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-2",children:n.jsx(gr,{className:"w-4 h-4 text-gray-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("p",{className:"text-sm text-gray-900",children:[n.jsx("span",{className:"font-medium",children:Ne(ee.consumer)})," ","a pass une commande"]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[Le((Me=(St=ee.items)==null?void 0:St[0])==null?void 0:Me.product),"  ",we(ee.createdAt)]})]}),n.jsx("button",{onClick:()=>vt(ee),className:"ml-2 p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded","aria-label":"Voir dtails de la commande",children:n.jsx(hr,{className:"w-4 h-4"})})]},ee._id||he)}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(XN,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"Aucune activit rcente"})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Actions rapides"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:se,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(zc,{className:"w-8 h-8 text-blue-600 mb-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Grer utilisateurs"}),n.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[((Fi=r.users)==null?void 0:Fi.total)||0," utilisateurs"]})]}),n.jsxs("button",{onClick:V,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(wn,{className:"w-8 h-8 text-purple-600 mb-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Nouvelle formation"}),n.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Actions rapides API"})]}),n.jsxs("button",{onClick:_,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(Wo,{className:"w-8 h-8 text-orange-600 mb-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Rapport ventes"}),n.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[((((mx=r.revenue)==null?void 0:mx.total)||0)/1e6).toFixed(1),"M FCFA"]})]})]})]})]})]})})]}),p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-[95vw] max-w-5xl h-[95vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Crer un nouveau produit"}),n.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",disabled:D,children:n.jsx(or,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du produit *"}),n.jsx("input",{type:"text",value:k.name,onChange:ee=>A({...k,name:ee.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: Tomate bio",disabled:D})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:k.description,onChange:ee=>A({...k,description:ee.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Description du produit...",disabled:D})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix (FCFA) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:k.price,onChange:ee=>A({...k,price:ee.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",disabled:D})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catgorie"}),n.jsx("input",{type:"text",value:k.category,onChange:ee=>A({...k,category:ee.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: Lgumes",disabled:D})]})]})]}),n.jsxs("div",{className:"flex gap-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",disabled:D,children:"Annuler"}),n.jsx("button",{onClick:H,disabled:D||!k.name||!k.price,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:D?n.jsxs(n.Fragment,{children:[n.jsx(nt,{className:"w-4 h-4 animate-spin"}),"Cration..."]}):n.jsxs(n.Fragment,{children:[n.jsx(mi,{className:"w-4 h-4"}),"Crer"]})})]})]})}),b&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Crer une nouvelle formation"}),n.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",disabled:z,children:n.jsx(or,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre de la formation *"}),n.jsx("input",{type:"text",value:B.title,onChange:ee=>F({...B,title:ee.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Ex: Techniques de culture bio",disabled:z})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),n.jsx("textarea",{value:B.description,onChange:ee=>F({...B,description:ee.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3,placeholder:"Description de la formation...",disabled:z})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catgorie"}),n.jsx("input",{type:"text",value:B.category,onChange:ee=>F({...B,category:ee.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Ex: Agriculture",disabled:z})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dure (heures)"}),n.jsx("input",{type:"number",min:"1",value:B.duration,onChange:ee=>F({...B,duration:ee.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"8",disabled:z})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix (FCFA)"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:B.price,onChange:ee=>F({...B,price:ee.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"0.00",disabled:z})]})]}),n.jsxs("div",{className:"flex gap-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",disabled:z,children:"Annuler"}),n.jsx("button",{onClick:J,disabled:z||!B.title||!B.description,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:z?n.jsxs(n.Fragment,{children:[n.jsx(nt,{className:"w-4 h-4 animate-spin"}),"Cration..."]}):n.jsxs(n.Fragment,{children:[n.jsx(mi,{className:"w-4 h-4"}),"Crer"]})})]})]})}),j&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl md:max-w-5xl h-[95vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Dtails de la commande"}),n.jsx("button",{onClick:R,className:"text-gray-400 hover:text-gray-600",children:n.jsx(or,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-6",children:!E&&!I&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Consommateur"}),n.jsx("p",{className:"text-sm text-gray-900",children:Ne((fx=P||N)==null?void 0:fx.consumer)}),n.jsx("p",{className:"text-xs text-gray-500",children:rt((px=P||N)==null?void 0:px.consumer)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Livreur ddi"}),n.jsx("p",{className:"text-sm text-gray-900",children:Pe(P||N)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Commande"}),n.jsxs("p",{className:"text-sm text-gray-900",children:["#",((hx=P||N)==null?void 0:hx._id)||((gx=P||N)==null?void 0:gx.id)||""]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Passe"}),n.jsx("p",{className:"text-sm text-gray-900",children:(xx=P||N)!=null&&xx.createdAt?new Date((vx=P||N)==null?void 0:vx.createdAt).toLocaleString("fr-FR"):""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Statut"}),n.jsx("p",{className:"text-sm text-gray-900",children:Je(P||N)})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:"Articles"}),Array.isArray((yx=P||N)==null?void 0:yx.items)&&((bx=P||N)==null?void 0:bx.items.length)>0?n.jsx("div",{className:"divide-y border rounded",children:(P||N).items.map((ee,he)=>{var St;return n.jsxs("div",{className:"flex items-center justify-between p-2 text-sm",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-gray-900 truncate",children:Le(ee.product)}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Qt: ",ee.quantity||ee.qty||1]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-gray-900",children:[(Number(ee.price||ee.unitPrice||((St=ee.product)==null?void 0:St.price)||0)*Number(ee.quantity||ee.qty||1)).toFixed(2)," FCFA"]})})]},he)})}):n.jsx("p",{className:"text-sm text-gray-500",children:"Aucun article"})]}),n.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Total"}),n.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[Ze(P||N).toFixed(2)," FCFA"]})]})]})})]})}),n.jsx(Rs,{isOpen:v,onClose:()=>y(!1),user:q,onUpdated:le})]}):n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Vrification de l'authentification..."})]})})},py=()=>{const e=Mt();mt();const{success:t,error:r,loading:s}=Nd(),[a,i]=h.useState(""),[o,l]=h.useState("all"),[c,u]=h.useState(1),[d,m]=h.useState(!1),[f,p]=h.useState(!1),[g,b]=h.useState([]),x=e.pathname.startsWith("/super-admin/"),v=ve.useMemo(()=>{try{let R;return x?R=localStorage.getItem("superAdminUser")||localStorage.getItem("adminDashboardUser"):R=localStorage.getItem("adminDashboardUser"),R?JSON.parse(R):null}catch{return null}},[x]),[y,j]=h.useState(20),[w,N]=h.useState(!1),[S,P]=h.useState(null),[C,E]=h.useState(""),[O,I]=h.useState(null),[M,k]=h.useState(!1),{users:A,total:B,loading:F,error:D,refetch:$,toggleUserStatus:z,updateUserRole:K,deleteUser:U,blockUser:q,unblockUser:te}=S8({role:o==="all"?void 0:o,search:a||void 0,page:c,limit:y}),{admin:W}=T8(),ie=W&&W.role==="admin"&&!W.isSuperAdmin,le=R=>!(ie&&R&&R.role==="admin"),se=R=>{i(R),u(1)},V=R=>{l(R),u(1)},_=async(R,pe)=>{try{I(R),await z(R)}catch(ke){alert(`Erreur lors du changement de statut: ${ke.message}`)}finally{I(null)}},H=async()=>{if(!(!S||!C))try{I(S._id),await K(S._id,C),N(!1),P(null),E("")}catch(R){alert(`Erreur lors de la modification du rle: ${R.message}`)}finally{I(null)}},J=R=>{if(!le(R)){alert("Vous ne pouvez pas modifier le rle d'un autre administrateur  action rserve au super-admin.");return}P(R),E(R.role),N(!0)},G=async(R,pe)=>{if(window.confirm(`tes-vous sr de vouloir supprimer l'utilisateur "${pe}" ? Cette action est irrversible.`))try{I(R),await U(R),alert(`Utilisateur "${pe}" supprim avec succs.`)}catch(ke){alert(`Erreur lors de la suppression: ${ke.message}`)}finally{I(null)}},ce=async(R,pe)=>{if(window.confirm(`tes-vous sr de vouloir bloquer l'utilisateur "${pe}" ?`))try{I(`block_${R}`),await q(R,"Bloqu par l'administrateur"),alert(`Utilisateur "${pe}" bloqu avec succs.`)}catch(ke){alert(`Erreur lors du blocage: ${ke.message}`)}finally{I(null)}},L=async(R,pe)=>{if(window.confirm(`tes-vous sr de vouloir dbloquer l'utilisateur "${pe}" ?`))try{I(`unblock_${R}`),await te(R),alert(`Utilisateur "${pe}" dbloqu avec succs.`)}catch(ke){alert(`Erreur lors du dblocage: ${ke.message}`)}finally{I(null)}},X=()=>{g.length===A.length?b([]):b(A.map(R=>R._id))},T=R=>{b(pe=>pe.includes(R)?pe.filter(ke=>ke!==R):[...pe,R])},Z=R=>{switch(R){case"producer":return"bg-green-100 text-green-800";case"consumer":return"bg-blue-100 text-blue-800";case"deliverer":return"bg-orange-100 text-orange-800";case"admin":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},ue=R=>{switch(R){case"producer":return"Producteur";case"consumer":return"Consommateur";case"deliverer":return"Livreur";case"admin":return"Admin";default:return R}},oe=(R,pe=!1)=>pe?"bg-red-100 text-red-800":R?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",we=(R,pe=!1)=>pe?"Bloqu":R?"Actif":"Inactif",Ne=R=>R?new Date(R).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"Non spcifie",Le=R=>{const pe=R.firstName||"",ke=R.lastName||"";return`${pe.charAt(0)}${ke.charAt(0)}`.toUpperCase()};if(F)return n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[n.jsx(vn,{user:v}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(yn,{user:v,onOpenProfile:()=>window.location.href="/admin/settings",onLogout:()=>{localStorage.clear(),window.location.href="/login"}}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(nt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Chargement des utilisateurs..."})]})})})]})]});if(D)return n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[n.jsx(vn,{user:v}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(yn,{user:v,onOpenProfile:()=>window.location.href="/admin/settings",onLogout:()=>{localStorage.clear(),window.location.href="/login"}}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Es,{className:"w-5 h-5 text-red-600 mr-2"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:D})]})]}),n.jsxs("button",{onClick:$,className:"mt-3 flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[n.jsx(_r,{className:"w-4 h-4"}),"Ressayer"]})]})})]})]});const ge=Math.ceil(B/y),Pe=(c-1)*y+1,rt=Math.min(c*y,B),Je=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("adminDashboardUser"),localStorage.removeItem("superAdminUser"),window.location.href=x?"/login":"/admin/login"},Ze=()=>{k(!0)},vt=()=>{console.log("Profil mis  jour")};return v?n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[x?n.jsx(sn,{user:v,onClose:()=>m(!1)}):n.jsx(vn,{user:v}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x?n.jsx(an,{user:v,onOpenProfile:Ze,onLogout:Je,onToggleSidebar:()=>m(!d)}):n.jsx(yn,{user:v,onOpenProfile:Ze,onLogout:Je}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-gray-100 rounded-full text-sm",children:[n.jsx("strong",{className:"mr-2",children:W?`${W.firstName||""} ${W.lastName||""}`:"Non connect"}),n.jsx("span",{className:"text-xs text-gray-500",children:W?W.isSuperAdmin?"Super-admin":W.role==="admin"?"Admin standard":W.role:""})]})}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Utilisateurs"}),n.jsx("p",{className:"text-gray-600",children:"Grez tous les utilisateurs de la plateforme"})]}),n.jsxs("button",{onClick:$,disabled:F,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[n.jsx(_r,{className:`w-5 h-5 ${F?"animate-spin":""}`}),n.jsx("span",{children:"Actualiser"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"w-8 h-8 text-blue-600"}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Utilisateurs"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.toLocaleString()})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(zc,{className:"w-8 h-8 text-green-600"}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Actifs"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.filter(R=>R.isActive).length})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(af,{className:"w-8 h-8 text-red-600"}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inactifs"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.filter(R=>!R.isActive).length})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(VE,{className:"w-8 h-8 text-purple-600"}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rles diffrents"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:[...new Set(A.map(R=>R.role))].length})]})]})})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Rechercher un utilisateur...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:a,onChange:R=>se(R.target.value)})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:o,onChange:R=>V(R.target.value),children:[n.jsx("option",{value:"all",children:"Tous les rles"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"consommateur",children:"Consommateur"}),n.jsx("option",{value:"producteur",children:"Producteur"}),n.jsx("option",{value:"livreur",children:"Livreur"})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:y,onChange:R=>{j(Number(R.target.value)),u(1)},children:[n.jsx("option",{value:10,children:"10 par page"}),n.jsx("option",{value:20,children:"20 par page"}),n.jsx("option",{value:50,children:"50 par page"}),n.jsx("option",{value:100,children:"100 par page"})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[n.jsx("div",{className:"hidden md:block overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:n.jsx("input",{type:"checkbox",checked:g.length===A.length&&A.length>0,onChange:X,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:f})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilisateur"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rle"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date d'inscription"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500",children:[n.jsx(ir,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"Aucun utilisateur trouv"})]})}):A.map(R=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:g.includes(R._id),onChange:()=>T(R._id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:f})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium text-white",children:Le(R)})}),n.jsxs("div",{className:"ml-4",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[R.firstName," ",R.lastName]}),n.jsx("div",{className:"text-sm text-gray-500",children:R.adresse||"Non spcifie"})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z(R.role)}`,children:ue(R.role)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${oe(R.isActive,R.isBlocked)}`,children:we(R.isActive,R.isBlocked)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(di,{className:"w-4 h-4 mr-1"}),R.email]}),R.phone&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(ya,{className:"w-4 h-4 mr-1"}),R.phone]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Ne(R.createdAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:R.role!=="admin"&&le(R)&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>J(R),className:"text-blue-600 hover:text-blue-900",title:"Modifier le rle",children:n.jsx(Yo,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>_(R._id,R.isActive),disabled:O===R._id,className:`${R.isActive?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,title:R.isActive?"Dsactiver":"Activer",children:O===R._id?n.jsx(nt,{className:"w-4 h-4 animate-spin"}):R.isActive?n.jsx(af,{className:"w-4 h-4"}):n.jsx(zc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>R.isBlocked?L(R._id,R.firstName||R.email):ce(R._id,R.firstName||R.email),disabled:O===`block_${R._id}`||O===`unblock_${R._id}`,className:`${R.isBlocked?"text-green-600 hover:text-green-900":"text-orange-600 hover:text-orange-900"}`,title:R.isBlocked?"Dbloquer l'utilisateur":"Bloquer l'utilisateur",children:O===`block_${R._id}`||O===`unblock_${R._id}`?n.jsx(nt,{className:"w-4 h-4 animate-spin"}):R.isBlocked?n.jsx(uy,{className:"w-4 h-4"}):n.jsx(Qs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>G(R._id,R.firstName||R.email),disabled:O===R._id,className:"text-red-600 hover:text-red-900",title:"Supprimer l'utilisateur",children:O===R._id?n.jsx(nt,{className:"w-4 h-4 animate-spin"}):n.jsx(ba,{className:"w-4 h-4"})})]})})]},R._id))})]})}),n.jsx("div",{className:"md:hidden p-4 space-y-3",children:A.length===0?n.jsxs("div",{className:"text-center text-gray-500 py-6",children:[n.jsx(ir,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"Aucun utilisateur trouv"})]}):A.map(R=>n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("div",{children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-9 h-9 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-sm font-medium text-white",children:Le(R)})}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[R.firstName," ",R.lastName]}),n.jsx("div",{className:"text-xs text-gray-500",children:R.adresse||"Non spcifie"})]})]})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z(R.role)}`,children:ue(R.role)}),n.jsx("div",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${oe(R.isActive,R.isBlocked)} mt-1`,children:we(R.isActive,R.isBlocked)}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Ne(R.createdAt)})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(di,{className:"w-4 h-4 mr-1"}),R.email]}),R.phone&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(ya,{className:"w-4 h-4 mr-1"}),R.phone]})]}),R.role!=="admin"&&le(R)&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:()=>J(R),className:"text-blue-600",children:[" ",n.jsx(Yo,{className:"w-4 h-4"})," "]}),n.jsx("button",{onClick:()=>_(R._id,R.isActive),className:`${R.isActive?"text-red-600":"text-green-600"}`,children:O===R._id?n.jsx(nt,{className:"w-4 h-4 animate-spin"}):R.isActive?n.jsx(af,{className:"w-4 h-4"}):n.jsx(zc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>R.isBlocked?L(R._id,R.firstName||R.email):ce(R._id,R.firstName||R.email),disabled:O===`block_${R._id}`||O===`unblock_${R._id}`,className:`${R.isBlocked?"text-green-600":"text-orange-600"}`,children:O===`block_${R._id}`||O===`unblock_${R._id}`?n.jsx(nt,{className:"w-4 h-4 animate-spin"}):R.isBlocked?n.jsx(uy,{className:"w-4 h-4"}):n.jsx(Qs,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>G(R._id,R.firstName||R.email),disabled:O===R._id,className:"text-red-600",children:O===R._id?n.jsx(nt,{className:"w-4 h-4 animate-spin"}):n.jsx(ba,{className:"w-4 h-4"})})]})]})]},R._id))})]}),ge>1&&n.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 rounded-lg shadow",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>u(Math.max(1,c-1)),disabled:c===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Prcdent"}),n.jsx("button",{onClick:()=>u(Math.min(ge,c+1)),disabled:c===ge,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Suivant"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de ",n.jsx("span",{className:"font-medium",children:Pe}),"  ",n.jsx("span",{className:"font-medium",children:rt})," sur"," ",n.jsx("span",{className:"font-medium",children:B})," rsultats"]})}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[n.jsx("button",{onClick:()=>u(Math.max(1,c-1)),disabled:c===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Prcdent"}),Array.from({length:Math.min(5,ge)},(R,pe)=>{const ke=pe+1;return n.jsx("button",{onClick:()=>u(ke),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${ke===c?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:ke},ke)}),n.jsx("button",{onClick:()=>u(Math.min(ge,c+1)),disabled:c===ge,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Suivant"})]})})]})]}),w&&S&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Modifier le rle de ",S.firstName," ",S.lastName]}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:C,onChange:R=>E(R.target.value),children:[n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"consumer",children:"Consommateur"}),n.jsx("option",{value:"producer",children:"Producteur"}),n.jsx("option",{value:"deliverer",children:"Livreur"})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>{N(!1),P(null),E("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Annuler"}),n.jsx("button",{onClick:H,disabled:O===S._id,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:O===S._id?n.jsx(nt,{className:"w-4 h-4 animate-spin"}):"Modifier"})]})]})})})]})})]}),n.jsx(Rs,{isOpen:M,onClose:()=>k(!1),user:v,onUpdated:vt})]}):n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Vrification de l'authentification..."})]})})},hy=()=>{var Ze,vt;const e=Mt(),[t,r]=h.useState(""),[s,a]=h.useState("all"),[i,o]=h.useState("all"),[l,c]=h.useState(1),[u,d]=h.useState(20),[m,f]=h.useState(null),[p,g]=h.useState("all"),b=e.pathname.startsWith("/super-admin/"),x=ve.useMemo(()=>{try{let R;return b?R=localStorage.getItem("superAdminUser")||localStorage.getItem("adminDashboardUser"):R=localStorage.getItem("adminDashboardUser"),R?JSON.parse(R):null}catch{return null}},[b]),{products:v,total:y,loading:j,error:w,refetch:N,deleteProduct:S}=C8({category:s==="all"?void 0:s,search:t||void 0,page:l,limit:u}),{pendingProducts:P,loading:C,error:E,refetch:O,approveProduct:I}=P8(),{categories:M,loading:k,error:A,refetch:B}=O8("products"),F=R=>{r(R),c(1)},D=async R=>{try{f(R),await I(R)}catch(pe){alert(`Erreur lors de l'approbation: ${pe.message}`)}finally{f(null)}},$=async R=>{if(window.confirm("tes-vous sr de vouloir supprimer ce produit ?"))try{f(R),await S(R)}catch(pe){alert(`Erreur lors de la suppression: ${pe.message}`)}finally{f(null)}},z=R=>R.isApproved===!1?"pending":R.isAvailable?"active":"inactive",K=R=>{switch(R){case"active":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx(ar,{className:"w-3 h-3 mr-1"}),"Actif"]});case"inactive":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[n.jsx(zn,{className:"w-3 h-3 mr-1"}),"Inactif"]});case"pending":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[n.jsx($r,{className:"w-3 h-3 mr-1"}),"En attente"]});default:return null}},U=R=>`${new Intl.NumberFormat("fr-FR").format(R||0)} FCFA`,q=R=>R?new Date(R).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"Non spcifie",te=p==="pending"?P:v,W=p==="pending"?C:j,ie=p==="pending"?E:w,le=v.length;v.reduce((R,pe)=>R+(pe.stock||0),0);const se=v.reduce((R,pe)=>R+(pe.price||0)*(pe.stock||0),0),V=v.filter(R=>z(R)==="active").length,_=P.length,[H,J]=ve.useState(!1),[G,ce]=ve.useState([]),[L,X]=ve.useState(!1),[T,Z]=ve.useState(null),[ue,oe]=ve.useState(null),[we,Ne]=ve.useState(!1),[Le,ge]=h.useState(!1),Pe=()=>{console.log("Profil mis  jour")},rt=async()=>{X(!0),Z(null);try{const R={products:[]},pe=R&&R.data&&R.data.products||R.products||R.data||[];ce(pe)}catch(R){Z((R==null?void 0:R.message)||"Erreur lors du chargement des produits rcents"),ce([])}finally{X(!1)}},Je=()=>{H||rt(),J(R=>!R)};if(W){const R=b?sn:vn,pe=b?an:yn;return n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[n.jsx(R,{user:x}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(pe,{user:x,onOpenProfile:()=>ge(!0),onLogout:()=>{localStorage.clear(),window.location.href=b?"/login":"/admin/login"}}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(nt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Chargement des produits..."})]})})})]})]})}return n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[b?n.jsx(sn,{user:x}):n.jsx(vn,{user:x}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[b?n.jsx(an,{user:x,onOpenProfile:()=>ge(!0),onLogout:()=>{localStorage.clear(),window.location.href="/login"}}):n.jsx(yn,{user:x,onOpenProfile:()=>ge(!0),onLogout:()=>{localStorage.clear(),window.location.href="/admin/login"}}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Produits"}),n.jsx("p",{className:"text-gray-600",children:"Grez le catalogue de produits agricoles"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:p==="pending"?O:N,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[n.jsx(_r,{className:"w-5 h-5"}),n.jsx("span",{children:"Actualiser"})]}),n.jsxs("button",{onClick:Je,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[n.jsx(mi,{className:"w-5 h-5"}),n.jsx("span",{children:"Nouveau produit"})]})]})]}),H&&n.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Produits rcents"}),L?n.jsx("div",{className:"text-center py-8",children:n.jsx(nt,{className:"w-6 h-6 animate-spin mx-auto text-blue-600"})}):T?n.jsx("div",{className:"text-red-600",children:T}):G.length===0?n.jsx("div",{className:"text-gray-600",children:"Aucun produit rcent trouv."}):n.jsx("ul",{className:"space-y-2",children:G.map(R=>n.jsxs("li",{className:"flex justify-between items-center border-b pb-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:R.name}),n.jsx("div",{className:"text-xs text-gray-500",children:R.category||"Non catgoris"})]}),n.jsxs("div",{className:"text-right text-sm text-gray-700",children:[n.jsx("div",{children:U(R.price)}),n.jsx("div",{className:"text-xs text-gray-500",children:new Date(R.createdAt).toLocaleString("fr-FR")})]})]},R._id))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-blue-500 rounded-lg p-3",children:n.jsx(qe,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Produits"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:le})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-green-500 rounded-lg p-3",children:n.jsx(Ts,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Produits Actifs"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:V})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-yellow-500 rounded-lg p-3",children:n.jsx($r,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Attente"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:_})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-purple-500 rounded-lg p-3",children:n.jsx("span",{className:"text-white font-semibold",children:"FCFA"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valeur Stock"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:U(se)})]})]})})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsx("button",{onClick:()=>g("all"),className:`py-2 px-1 border-b-2 font-medium text-sm ${p==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tous les Produits"}),n.jsxs("button",{onClick:()=>g("pending"),className:`py-2 px-1 border-b-2 font-medium text-sm ${p==="pending"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Produits en Attente",_>0&&n.jsx("span",{className:"ml-2 bg-red-100 text-red-600 py-0.5 px-2 rounded-full text-xs",children:_})]})]})}),ie&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(N0,{className:"w-5 h-5 text-red-600 mr-2"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:ie})]})]})}),p==="all"&&n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Rechercher un produit...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:t,onChange:R=>F(R.target.value)})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full",value:s,onChange:R=>{a(R.target.value),c(1)},disabled:k,children:[n.jsx("option",{value:"all",children:"Toutes les catgories"}),k?n.jsx("option",{value:"",disabled:!0,children:"Chargement..."}):A?n.jsx("option",{value:"",disabled:!0,children:"Erreur de chargement"}):M.map(R=>n.jsx("option",{value:R,children:R},R))]}),A&&n.jsx("button",{onClick:B,className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Ressayer",children:n.jsx(_r,{className:"w-4 h-4"})})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:i,onChange:R=>{o(R.target.value),c(1)},children:[n.jsx("option",{value:"all",children:"Tous les statuts"}),n.jsx("option",{value:"active",children:"Actif"}),n.jsx("option",{value:"inactive",children:"Inactif"}),n.jsx("option",{value:"pending",children:"En attente"})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:u,onChange:R=>{d(Number(R.target.value)),c(1)},children:[n.jsx("option",{value:10,children:"10 par page"}),n.jsx("option",{value:20,children:"20 par page"}),n.jsx("option",{value:50,children:"50 par page"}),n.jsx("option",{value:100,children:"100 par page"})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[n.jsx("div",{className:"hidden md:block overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catgorie"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producteur"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:[n.jsx(qe,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"Aucun produit trouv"})]})}):te.map(R=>{var pe,ke,ts;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-lg flex items-center justify-center",children:n.jsx(qe,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[(pe=R.description)==null?void 0:pe.substring(0,50),"..."]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:R.category||"Non catgoris"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:U(R.price)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[R.stock||0," units"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:K(z(R))}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Et,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("span",{className:"text-sm text-gray-900",children:[(ke=R.producer)==null?void 0:ke.firstName," ",(ts=R.producer)==null?void 0:ts.lastName]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q(R.createdAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>{oe(R),Ne(!0)},className:"text-blue-600 hover:text-blue-900",title:"Voir dtails",children:n.jsx(hr,{className:"w-4 h-4"})}),p==="pending"?n.jsx("button",{onClick:()=>D(R._id),disabled:m===R._id,className:"text-green-600 hover:text-green-900 disabled:opacity-50",title:"Approuver",children:m===R._id?n.jsx(nt,{className:"w-4 h-4 animate-spin"}):n.jsx(ar,{className:"w-4 h-4"})}):n.jsx("button",{onClick:()=>$(R._id),disabled:m===R._id,className:"text-red-600 hover:text-red-900 disabled:opacity-50",title:"Supprimer",children:m===R._id?n.jsx(nt,{className:"w-4 h-4 animate-spin"}):n.jsx(ba,{className:"w-4 h-4"})})]})})]},R._id)})})]})}),n.jsx("div",{className:"md:hidden p-4 space-y-3",children:te.length===0?n.jsxs("div",{className:"text-center text-gray-500 py-6",children:[n.jsx(qe,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"Aucun produit trouv"})]}):te.map(R=>n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name}),n.jsx("div",{className:"text-xs text-gray-500",children:R.category||"Non catgoris"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm font-semibold",children:U(R.price)}),n.jsxs("div",{className:"text-xs text-gray-500",children:[R.stock||0," units"]})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsx("div",{children:K(z(R))}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>{oe(R),Ne(!0)},className:"text-blue-600",children:n.jsx(hr,{className:"w-4 h-4"})}),p==="pending"?n.jsx("button",{onClick:()=>D(R._id),className:"text-green-600",children:n.jsx(ar,{className:"w-4 h-4"})}):n.jsx("button",{onClick:()=>$(R._id),className:"text-red-600",children:n.jsx(ba,{className:"w-4 h-4"})})]})]})]},R._id))})]}),we&&ue&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black opacity-40",onClick:()=>{Ne(!1),oe(null)}}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg z-50 max-w-2xl w-full mx-4 p-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Dtails du produit"}),n.jsx("button",{onClick:()=>{Ne(!1),oe(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx(zn,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Nom"}),n.jsx("p",{className:"font-medium",children:ue.name}),n.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Catgorie"}),n.jsx("p",{className:"font-medium",children:ue.category||"Non catgoris"}),n.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Prix"}),n.jsx("p",{className:"font-medium",children:U(ue.price)}),n.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Stock"}),n.jsxs("p",{className:"font-medium",children:[ue.stock||0," units"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Statut"}),n.jsx("div",{className:"mt-1",children:K(z(ue))}),n.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Producteur"}),n.jsxs("p",{className:"font-medium",children:[(Ze=ue.producer)==null?void 0:Ze.firstName," ",(vt=ue.producer)==null?void 0:vt.lastName]}),n.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Cr le"}),n.jsx("p",{className:"font-medium",children:q(ue.createdAt)})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),n.jsx("p",{className:"mt-1 text-gray-700",children:ue.description||"Aucune description"})]}),ue.images&&ue.images.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Images"}),n.jsx("div",{className:"mt-2 flex space-x-2 overflow-x-auto",children:ue.images.map((R,pe)=>n.jsx("img",{src:R,alt:`${ue.name}-${pe}`,className:"w-24 h-24 object-cover rounded"},pe))})]}),n.jsx("div",{className:"mt-6 text-right",children:n.jsx("button",{onClick:()=>{Ne(!1),oe(null)},className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Fermer"})})]})]}),p==="all"&&y>u&&n.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 rounded-lg shadow",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>c(Math.max(1,l-1)),disabled:l===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Prcdent"}),n.jsx("button",{onClick:()=>c(Math.min(Math.ceil(y/u),l+1)),disabled:l===Math.ceil(y/u),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Suivant"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de ",n.jsx("span",{className:"font-medium",children:(l-1)*u+1})," "," ",n.jsx("span",{className:"font-medium",children:Math.min(l*u,y)})," sur"," ",n.jsx("span",{className:"font-medium",children:y})," rsultats"]})}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[n.jsx("button",{onClick:()=>c(Math.max(1,l-1)),disabled:l===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Prcdent"}),Array.from({length:Math.min(5,Math.ceil(y/u))},(R,pe)=>{const ke=pe+1;return n.jsx("button",{onClick:()=>c(ke),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${ke===l?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:ke},ke)}),n.jsx("button",{onClick:()=>c(Math.min(Math.ceil(y/u),l+1)),disabled:l===Math.ceil(y/u),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Suivant"})]})})]})]})]})})]}),n.jsx(Rs,{isOpen:Le,onClose:()=>ge(!1),user:x,onUpdated:Pe})]})},gy=()=>{const e=Mt(),[t,r]=h.useState(""),[s,a]=h.useState("all"),[i,o]=h.useState("all"),[l,c]=h.useState(!1),[u,d]=h.useState(1),[m,f]=h.useState(20),[p,g]=h.useState("month"),b=e.pathname.startsWith("/super-admin/"),x=ve.useMemo(()=>{try{let W;return b?W=localStorage.getItem("superAdminUser")||localStorage.getItem("adminDashboardUser"):W=localStorage.getItem("adminDashboardUser")||localStorage.getItem("user"),W?JSON.parse(W):null}catch{return null}},[b]),{orders:v,total:y,loading:j,error:w,refetch:N,updateOrderStatus:S}=k8({status:s==="all"?void 0:s,search:t||void 0,page:u,limit:m}),{loading:P,error:C,refetch:E}=E8(p),O=async(W,ie)=>{try{await S(W,ie)}catch(le){alert(`Erreur lors de la mise  jour: ${le.message}`)}},I=W=>{r(W),d(1)},M=W=>{a(W),d(1)},k=W=>`${new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(W||0)} FCFA`,A=W=>W?new Date(W).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Non spcifie",B=W=>{switch(W){case"completed":case"delivered":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx(ar,{className:"w-3 h-3 mr-1"}),"Termine"]});case"pending":case"confirmed":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[n.jsx($r,{className:"w-3 h-3 mr-1"}),"En attente"]});case"cancelled":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[n.jsx(zn,{className:"w-3 h-3 mr-1"}),"Annule"]});case"processing":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[n.jsx(_r,{className:"w-3 h-3 mr-1"}),"En cours"]});default:return n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:W})}},F=W=>{switch(W){case"paid":return n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Pay"});case"pending":return n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"En attente"});case"failed":return n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"chou"});default:return n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:W||"Non dfini"})}},D=W=>W.consumer&&`${W.consumer.firstName||""} ${W.consumer.lastName||""}`.trim()||"Client inconnu",$=W=>{var ie;return W.items&&W.items.length>0?((ie=W.items[0].product)==null?void 0:ie.name)||"Produit supprim":"Aucun produit"},z=v.reduce((W,ie)=>W+(ie.totalAmount||0),0),K=v.filter(W=>["completed","delivered"].includes(W.status)).length;v.filter(W=>["pending","confirmed"].includes(W.status)).length;const U=new Set(v.map(W=>{var ie;return(ie=W.consumer)==null?void 0:ie._id})).size,q=j||P,te=w||C;if(q){const W=b?sn:vn,ie=b?an:yn;return n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[n.jsx(W,{user:x}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(ie,{user:x,onOpenProfile:()=>window.location.href=b?"/super-admin/settings":"/admin/settings",onLogout:()=>{localStorage.clear(),window.location.href=b?"/login":"/admin/login"}}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(nt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Chargement des donnes de vente..."})]})})})]})]})}return n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[b?n.jsx(sn,{user:x}):n.jsx(vn,{user:x}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[b?n.jsx(an,{user:x,onOpenProfile:()=>window.location.href="/super-admin/settings",onLogout:()=>{localStorage.clear(),window.location.href="/login"}}):n.jsx(yn,{user:x,onOpenProfile:()=>window.location.href="/admin/settings",onLogout:()=>{localStorage.clear(),window.location.href="/admin/login"}}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Ventes"}),n.jsx("p",{className:"text-gray-600",children:"Suivi et analyse des ventes"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>{N(),E()},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[n.jsx(_r,{className:"w-5 h-5"}),n.jsx("span",{children:"Actualiser"})]}),n.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[n.jsx(ZN,{className:"w-5 h-5"}),n.jsx("span",{children:"Exporter"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-blue-500 rounded-lg p-3",children:n.jsx(gr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Commandes"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:y.toLocaleString()})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-green-500 rounded-lg p-3 flex items-center justify-center",children:n.jsx("span",{className:"text-white font-semibold",children:"FCFA"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Chiffre d'affaires"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:k(z)})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-purple-500 rounded-lg p-3",children:n.jsx(Ts,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Commandes Termines"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:K})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-orange-500 rounded-lg p-3",children:n.jsx(ir,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clients Uniques"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:U})]})]})})]}),te&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Es,{className:"w-5 h-5 text-red-600 mr-2"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:te})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 md:hidden",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Filtres"}),n.jsxs("button",{onClick:()=>c(!0),className:"px-3 py-1 bg-gray-100 rounded-lg text-sm flex items-center space-x-2",children:[n.jsx(va,{className:"w-4 h-4"}),n.jsx("span",{children:"Ouvrir"})]})]}),n.jsxs("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Rechercher une commande...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:t,onChange:W=>I(W.target.value)})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:i,onChange:W=>o(W.target.value),children:[n.jsx("option",{value:"all",children:"Toutes les priodes"}),n.jsx("option",{value:"today",children:"Aujourd'hui"}),n.jsx("option",{value:"week",children:"Cette semaine"}),n.jsx("option",{value:"month",children:"Ce mois"}),n.jsx("option",{value:"year",children:"Cette anne"})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:s,onChange:W=>M(W.target.value),children:[n.jsx("option",{value:"all",children:"Tous les statuts"}),n.jsx("option",{value:"pending",children:"En attente"}),n.jsx("option",{value:"confirmed",children:"Confirme"}),n.jsx("option",{value:"processing",children:"En cours"}),n.jsx("option",{value:"completed",children:"Termine"}),n.jsx("option",{value:"delivered",children:"Livre"}),n.jsx("option",{value:"cancelled",children:"Annule"})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:m,onChange:W=>{f(Number(W.target.value)),d(1)},children:[n.jsx("option",{value:10,children:"10 par page"}),n.jsx("option",{value:20,children:"20 par page"}),n.jsx("option",{value:50,children:"50 par page"}),n.jsx("option",{value:100,children:"100 par page"})]}),n.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2",children:[n.jsx(va,{className:"w-5 h-5"}),n.jsx("span",{children:"Filtres avancs"})]})]}),l&&n.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[n.jsx("div",{className:"absolute inset-0 bg-black opacity-40",onClick:()=>c(!1)}),n.jsxs("div",{className:"relative bg-white w-11/12 max-w-sm h-full p-6 overflow-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h4",{className:"text-lg font-medium",children:"Filtres"}),n.jsx("button",{onClick:()=>c(!1),className:"text-gray-600",children:"Fermer"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Recherche"}),n.jsx("input",{type:"text",value:t,onChange:W=>I(W.target.value),className:"w-full px-3 py-2 border rounded"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Priode"}),n.jsxs("select",{value:i,onChange:W=>o(W.target.value),className:"w-full px-3 py-2 border rounded",children:[n.jsx("option",{value:"all",children:"Toutes les priodes"}),n.jsx("option",{value:"today",children:"Aujourd'hui"}),n.jsx("option",{value:"week",children:"Cette semaine"}),n.jsx("option",{value:"month",children:"Ce mois"}),n.jsx("option",{value:"year",children:"Cette anne"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Statut"}),n.jsxs("select",{value:s,onChange:W=>M(W.target.value),className:"w-full px-3 py-2 border rounded",children:[n.jsx("option",{value:"all",children:"Tous"}),n.jsx("option",{value:"pending",children:"En attente"}),n.jsx("option",{value:"confirmed",children:"Confirme"}),n.jsx("option",{value:"processing",children:"En cours"}),n.jsx("option",{value:"completed",children:"Termine"}),n.jsx("option",{value:"delivered",children:"Livre"}),n.jsx("option",{value:"cancelled",children:"Annule"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Rsultats par page"}),n.jsxs("select",{value:m,onChange:W=>{f(Number(W.target.value)),d(1)},className:"w-full px-3 py-2 border rounded",children:[n.jsx("option",{value:10,children:"10"}),n.jsx("option",{value:20,children:"20"}),n.jsx("option",{value:50,children:"50"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>{c(!1),N()},className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Appliquer"})})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[n.jsx("div",{className:"hidden md:block overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commande"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paiement"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:[n.jsx(gr,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"Aucune commande trouve"})]})}):v.map(W=>{var ie,le,se;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(ie=W._id)==null?void 0:ie.substring(0,8).toUpperCase()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:D(W)}),n.jsx("div",{className:"text-sm text-gray-500",children:(le=W.consumer)==null?void 0:le.email})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[$(W),((se=W.items)==null?void 0:se.length)>1&&n.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(+",W.items.length-1," autres)"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k(W.totalAmount)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A(W.createdAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B(W.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:F(W.paymentStatus)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("select",{value:W.status,onChange:V=>O(W._id,V.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[n.jsx("option",{value:"pending",children:"En attente"}),n.jsx("option",{value:"confirmed",children:"Confirme"}),n.jsx("option",{value:"processing",children:"En cours"}),n.jsx("option",{value:"completed",children:"Termine"}),n.jsx("option",{value:"delivered",children:"Livre"}),n.jsx("option",{value:"cancelled",children:"Annule"})]})})})]},W._id)})})]})}),n.jsx("div",{className:"md:hidden p-4 space-y-3",children:v.length===0?n.jsxs("div",{className:"text-center text-gray-500 py-6",children:[n.jsx(gr,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"Aucune commande trouve"})]}):v.map(W=>{var ie,le;return n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:(ie=W._id)==null?void 0:ie.substring(0,8).toUpperCase()}),n.jsx("div",{className:"text-xs text-gray-500",children:D(W)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm font-semibold",children:k(W.totalAmount)}),n.jsx("div",{className:"text-xs text-gray-500",children:A(W.createdAt)})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsxs("div",{className:"text-xs text-gray-600",children:[$(W),((le=W.items)==null?void 0:le.length)>1&&n.jsxs("span",{className:"ml-1",children:["(+",W.items.length-1,")"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{children:B(W.status)}),n.jsx("div",{children:F(W.paymentStatus)})]})]}),n.jsx("div",{className:"mt-3",children:n.jsxs("select",{value:W.status,onChange:se=>O(W._id,se.target.value),className:"w-full text-sm border border-gray-300 rounded px-2 py-1",children:[n.jsx("option",{value:"pending",children:"En attente"}),n.jsx("option",{value:"confirmed",children:"Confirme"}),n.jsx("option",{value:"processing",children:"En cours"}),n.jsx("option",{value:"completed",children:"Termine"}),n.jsx("option",{value:"delivered",children:"Livre"}),n.jsx("option",{value:"cancelled",children:"Annule"})]})})]},W._id)})})]}),y>m&&n.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 rounded-lg shadow",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>d(Math.max(1,u-1)),disabled:u===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Prcdent"}),n.jsx("button",{onClick:()=>d(Math.min(Math.ceil(y/m),u+1)),disabled:u===Math.ceil(y/m),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Suivant"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de ",n.jsx("span",{className:"font-medium",children:(u-1)*m+1})," "," ",n.jsx("span",{className:"font-medium",children:Math.min(u*m,y)})," sur"," ",n.jsx("span",{className:"font-medium",children:y})," rsultats"]})}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[n.jsx("button",{onClick:()=>d(Math.max(1,u-1)),disabled:u===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Prcdent"}),Array.from({length:Math.min(5,Math.ceil(y/m))},(W,ie)=>{const le=ie+1;return n.jsx("button",{onClick:()=>d(le),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${le===u?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:le},le)}),n.jsx("button",{onClick:()=>d(Math.min(Math.ceil(y/m),u+1)),disabled:u===Math.ceil(y/m),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Suivant"})]})})]})]})]})})]})]})},xy=()=>{const e=Mt(),[t,r]=h.useState(""),[s,a]=h.useState("all"),[i,o]=h.useState("all"),[l,c]=h.useState(1),[u,d]=h.useState(20),[m,f]=h.useState(null),[p,g]=h.useState(!1),[b,x]=h.useState(!1),[v,y]=h.useState(null),[j,w]=h.useState(!1),[N,S]=h.useState(!1),P=()=>{console.log("Profil mis  jour")},[C,E]=h.useState({title:"",description:"",category:"",duration:"",price:"",maxParticipants:"",instructor:"",startDate:"",isPublished:!0,video:null}),O=e.pathname.startsWith("/super-admin/"),I=ve.useMemo(()=>{try{let T;return O?T=localStorage.getItem("superAdminUser")||localStorage.getItem("adminDashboardUser"):T=localStorage.getItem("adminDashboardUser")||localStorage.getItem("user"),T?JSON.parse(T):null}catch{return null}},[O]),{formations:M,categories:k,loading:A,error:B,refetch:F,togglePublish:D,createFormation:$,updateFormation:z,deleteFormation:K,categoriesLoading:U,categoriesError:q}=A8({status:s==="all"?void 0:s,category:i==="all"?void 0:i,search:t||void 0,page:l,limit:u}),te=T=>{r(T),c(1)},W=T=>{a(T),c(1)},ie=async(T,Z)=>{try{f(T),await D(T)}catch(ue){alert(`Erreur lors du changement de statut: ${ue.message}`)}finally{f(null)}},le=async()=>{try{f("create");const T=new FormData;T.append("title",C.title||""),T.append("description",C.description||""),T.append("category",C.category||""),C.duration!==""&&T.append("duration",String(parseInt(C.duration))),C.price!==""&&T.append("price",String(parseFloat(C.price))),C.maxParticipants!==""&&T.append("maxParticipants",String(parseInt(C.maxParticipants))),T.append("instructor",C.instructor||""),T.append("startDate",C.startDate||""),T.append("isPublished",String(!!C.isPublished)),C.video instanceof File&&T.append("video",C.video),await $(T),g(!1),E({title:"",description:"",category:"",duration:"",price:"",maxParticipants:"",instructor:"",startDate:"",isPublished:!0,video:null})}catch(T){alert(`Erreur lors de la cration: ${T.message}`)}finally{f(null)}},se=async()=>{if(v)try{f("edit"),await z(v._id,{...v,maxParticipants:parseInt(v.maxParticipants),price:parseFloat(v.price),duration:parseInt(v.duration)}),x(!1),y(null)}catch(T){alert(`Erreur lors de la modification: ${T.message}`)}finally{f(null)}},V=async T=>{if(window.confirm("tes-vous sr de vouloir supprimer cette formation ?"))try{f(T),await K(T)}catch(Z){alert(`Erreur lors de la suppression: ${Z.message}`)}finally{f(null)}},_=T=>`${new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(T||0)} FCFA`,H=T=>T?new Date(T).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"Non spcifie",J=T=>T?typeof T=="string"?T:T.firstName?`${T.firstName} ${T.lastName||""}`.trim():T.name?T.name:"":"",G=T=>T.isPublished?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx(ar,{className:"w-3 h-3 mr-1"}),"Publie"]}):n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[n.jsx(zn,{className:"w-3 h-3 mr-1"}),"Non publie"]}),ce=Array.isArray(M)?M.reduce((T,Z)=>{var ue;return T+(((ue=Z.participants)==null?void 0:ue.length)||0)},0):0,L=Array.isArray(M)&&M.length>0?(M.reduce((T,Z)=>T+(Z.rating||0),0)/M.length).toFixed(1):"0.0",X=Array.isArray(M)?[...new Set(M.map(T=>J(T.instructor)).filter(Boolean))]:[];if(A){const T=O?sn:vn,Z=O?an:yn;return n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[n.jsx(T,{user:I}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(Z,{user:I,onOpenProfile:()=>window.location.href=O?"/super-admin/settings":"/admin/settings",onLogout:()=>{localStorage.clear(),window.location.href=O?"/login":"/admin/login"}}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(nt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Chargement des formations..."})]})})})]})]})}return n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[O?n.jsx(sn,{user:I}):n.jsx(vn,{user:I}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[O?n.jsx(an,{user:I,onOpenProfile:()=>S(!0),onLogout:()=>{localStorage.clear(),window.location.href="/login"}}):n.jsx(yn,{user:I,onOpenProfile:()=>S(!0),onLogout:()=>{localStorage.clear(),window.location.href="/admin/login"}}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Formations"}),n.jsx("p",{className:"text-gray-600",children:"Crez et grez vos formations agricoles"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:F,disabled:A,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[n.jsx(_r,{className:`w-5 h-5 ${A?"animate-spin":""}`}),n.jsx("span",{children:"Actualiser"})]}),n.jsxs("button",{onClick:()=>g(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[n.jsx(mi,{className:"w-5 h-5"}),n.jsx("span",{children:"Nouvelle formation"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-blue-500 rounded-lg p-3",children:n.jsx(wn,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Formations"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:M.length})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-green-500 rounded-lg p-3",children:n.jsx(ir,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Participants"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ce})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-purple-500 rounded-lg p-3",children:n.jsx(Qo,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Note Moyenne"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[L,"/5"]})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-orange-500 rounded-lg p-3",children:n.jsx(xu,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Formateurs"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:X.length})]})]})})]}),B&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Es,{className:"w-5 h-5 text-red-600 mr-2"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:B})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 md:hidden",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Filtres"}),n.jsxs("button",{onClick:()=>w(!0),className:"px-3 py-1 bg-gray-100 rounded-lg text-sm flex items-center space-x-2",children:[n.jsx(va,{className:"w-4 h-4"}),n.jsx("span",{children:"Ouvrir"})]})]}),n.jsxs("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Rechercher une formation...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:t,onChange:T=>te(T.target.value)})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:s,onChange:T=>W(T.target.value),children:[n.jsx("option",{value:"all",children:"Toutes les formations"}),n.jsx("option",{value:"published",children:"Publies"}),n.jsx("option",{value:"draft",children:"Brouillons"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:i,onChange:T=>{o(T.target.value),c(1)},disabled:U,children:[n.jsx("option",{value:"all",children:"Toutes les catgories"}),U?n.jsx("option",{value:"",disabled:!0,children:"Chargement..."}):q?n.jsx("option",{value:"",disabled:!0,children:"Erreur de chargement"}):Array.isArray(k)&&k.map(T=>n.jsx("option",{value:T,children:T},T))]}),q&&n.jsx("button",{onClick:F,className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Ressayer",children:n.jsx(_r,{className:"w-4 h-4"})})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:u,onChange:T=>{d(Number(T.target.value)),c(1)},children:[n.jsx("option",{value:10,children:"10 par page"}),n.jsx("option",{value:20,children:"20 par page"}),n.jsx("option",{value:50,children:"50 par page"})]})]}),j&&n.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[n.jsx("div",{className:"absolute inset-0 bg-black opacity-40",onClick:()=>w(!1)}),n.jsxs("div",{className:"relative bg-white w-11/12 max-w-sm h-full p-6 overflow-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h4",{className:"text-lg font-medium",children:"Filtres"}),n.jsx("button",{onClick:()=>w(!1),className:"text-gray-600",children:"Fermer"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Recherche"}),n.jsx("input",{type:"text",value:t,onChange:T=>te(T.target.value),className:"w-full px-3 py-2 border rounded"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Statut"}),n.jsxs("select",{value:s,onChange:T=>W(T.target.value),className:"w-full px-3 py-2 border rounded",children:[n.jsx("option",{value:"all",children:"Toutes"}),n.jsx("option",{value:"published",children:"Publies"}),n.jsx("option",{value:"draft",children:"Brouillons"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Catgorie"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:i,onChange:T=>{o(T.target.value),c(1)},className:"w-full px-3 py-2 border rounded pr-8",disabled:U,children:[n.jsx("option",{value:"all",children:"Toutes les catgories"}),U?n.jsx("option",{value:"",disabled:!0,children:"Chargement..."}):q?n.jsx("option",{value:"",disabled:!0,children:"Erreur de chargement"}):Array.isArray(k)&&k.map(T=>n.jsx("option",{value:T,children:T},T))]}),q&&n.jsx("button",{onClick:F,className:"absolute right-6 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Ressayer",children:n.jsx(_r,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Rsultats par page"}),n.jsxs("select",{value:u,onChange:T=>{d(Number(T.target.value)),c(1)},className:"w-full px-3 py-2 border rounded",children:[n.jsx("option",{value:10,children:"10"}),n.jsx("option",{value:20,children:"20"}),n.jsx("option",{value:50,children:"50"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>{w(!1),F()},className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Appliquer"})})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:M.length===0?n.jsx("div",{className:"col-span-2 flex items-center justify-center py-12 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(wn,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{className:"text-lg",children:"Aucune formation trouve"}),n.jsx("p",{className:"text-sm",children:"Commencez par crer votre premire formation"})]})}):M.map(T=>{var Z;return n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:T.title}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.description})]}),G(T)]}),n.jsxs("div",{className:"space-y-3",children:[J(T.instructor)&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(ir,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["Formateur: ",J(T.instructor)]})]}),T.duration&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx($r,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["Dure: ",T.duration,"h"]})]}),T.startDate&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(xa,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["Dbut: ",H(T.startDate)]})]}),T.rating&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Qo,{className:"w-4 h-4 mr-2 text-yellow-500"}),n.jsxs("span",{children:["Note: ",T.rating,"/5"]})]})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-lg font-semibold text-gray-900",children:_(T.price)}),n.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",((Z=T.participants)==null?void 0:Z.length)||0," participants)"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>ie(T._id,T.isPublished),disabled:m===T._id,className:`p-2 rounded-lg ${T.isPublished?"text-orange-600 hover:bg-orange-50":"text-green-600 hover:bg-green-50"}`,title:T.isPublished?"Dpublier":"Publier",children:m===T._id?n.jsx(nt,{className:"w-4 h-4 animate-spin"}):T.isPublished?n.jsx(pT,{className:"w-4 h-4"}):n.jsx(Op,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>{y(T),x(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Modifier",children:n.jsx(Yo,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>V(T._id),disabled:m===T._id,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50",title:"Supprimer",children:m===T._id?n.jsx(nt,{className:"w-4 h-4 animate-spin"}):n.jsx(zn,{className:"w-4 h-4"})})]})]})})]})},T._id)})}),p&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Crer une nouvelle formation"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:C.title,onChange:T=>E({...C,title:T.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catgorie"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:C.category,onChange:T=>E({...C,category:T.target.value}),disabled:U,children:[n.jsx("option",{value:"",children:"Slectionner une catgorie"}),U?n.jsx("option",{value:"",disabled:!0,children:"Chargement..."}):q?n.jsx("option",{value:"",disabled:!0,children:"Erreur de chargement"}):Array.isArray(k)&&k.map(T=>n.jsx("option",{value:T,children:T},T))]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",value:C.description,onChange:T=>E({...C,description:T.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Formateur"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:C.instructor,onChange:T=>E({...C,instructor:T.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dure (heures)"}),n.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:C.duration,onChange:T=>E({...C,duration:T.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix (FCFA)"}),n.jsx("input",{type:"number",step:"1",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:C.price,onChange:T=>E({...C,price:T.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max participants"}),n.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:C.maxParticipants,onChange:T=>E({...C,maxParticipants:T.target.value})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de dbut"}),n.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:C.startDate,onChange:T=>E({...C,startDate:T.target.value})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vido (MP4)"}),n.jsx("input",{type:"file",accept:"video/mp4,video/*",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",onChange:T=>{var Z;return E({...C,video:((Z=T.target.files)==null?void 0:Z[0])||null})}})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isPublished",checked:C.isPublished,onChange:T=>E({...C,isPublished:T.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"isPublished",className:"ml-2 block text-sm text-gray-700",children:"Publie (visible par les producteurs)"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Les formations publies apparatront dans le tableau de bord des producteurs"})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>{g(!1),E({title:"",description:"",category:"",duration:"",price:"",maxParticipants:"",instructor:"",startDate:"",isPublished:!0,thumbnail:null,document:null,video:null})},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Annuler"}),n.jsx("button",{onClick:le,disabled:m==="create",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:m==="create"?n.jsx(nt,{className:"w-4 h-4 animate-spin"}):"Crer"})]})]})})}),b&&v&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Modifier la formation"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:v.title,onChange:T=>y({...v,title:T.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catgorie"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:v.category||"",onChange:T=>y({...v,category:T.target.value})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",value:v.description||"",onChange:T=>y({...v,description:T.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Formateur"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:v&&(typeof v.instructor=="string"?v.instructor:J(v.instructor))||"",onChange:T=>y({...v,instructor:T.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dure (heures)"}),n.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:v.duration||"",onChange:T=>y({...v,duration:T.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix ()"}),n.jsx("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:v.price||"",onChange:T=>y({...v,price:T.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max participants"}),n.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:v.maxParticipants||"",onChange:T=>y({...v,maxParticipants:T.target.value})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de dbut"}),n.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:v.startDate?v.startDate.split("T")[0]:"",onChange:T=>y({...v,startDate:T.target.value})})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>{x(!1),y(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Annuler"}),n.jsx("button",{onClick:se,disabled:m==="edit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:m==="edit"?n.jsx(nt,{className:"w-4 h-4 animate-spin"}):"Modifier"})]})]})})})]})})]}),n.jsx(Rs,{isOpen:N,onClose:()=>S(!1),user:I,onUpdated:P})]})},M8=()=>{const e=Mt(),[t,r]=h.useState(!1),s=[{path:"/producer/dashboard",label:"Tableau de bord",icon:w0,description:"Vue d'ensemble"},{path:"/producer/products",label:"Mes produits",icon:qe,description:"Gestion des produits"},{path:"/producer/statistics",label:"Statistiques",icon:So,description:"Performances"},{path:"/producer/sales",label:"Ventes",icon:CT,description:"Gestion des ventes"},{path:"/producer/formations",label:"Formations",icon:xu,description:"Formations disponibles"}],a=i=>e.pathname===i;return n.jsxs("aside",{className:`bg-white h-screen flex flex-col border-r border-gray-200 transition-all duration-300 ${t?"w-20":"w-64"}`,children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[!t&&n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("img",{src:bl,alt:"AgriTeranga logo",className:"h-10 object-contain"})}),n.jsx("button",{onClick:()=>r(!t),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:t?"Dplier":"Rduire",children:n.jsx("svg",{className:`w-5 h-5 text-gray-600 transition-transform ${t?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})]})}),n.jsx("nav",{className:"flex-1 px-4 py-4",children:n.jsx("ul",{className:"space-y-2",children:s.map(i=>{const o=i.icon,l=a(i.path);return n.jsx("li",{children:n.jsxs(xe,{to:i.path,className:`flex items-center gap-3 rounded-lg transition-colors relative group ${t?"px-3 py-3 justify-center":"px-4 py-3"} ${l?"bg-[#EBF8E7] text-[#59C94F] font-medium":"text-gray-700 hover:bg-gray-50"}`,title:t?i.label:"",children:[n.jsx(o,{className:`w-5 h-5 ${l?"text-[#59C94F]":""}`}),!t&&n.jsx("span",{children:i.label}),t&&n.jsxs("div",{className:"absolute left-20 bg-gray-800 text-white px-3 py-2 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap",children:[n.jsx("div",{className:"font-medium",children:i.label}),n.jsx("div",{className:"text-xs text-gray-300",children:i.description})]})]})},i.path)})})})]})},L8=({isOpen:e,onClose:t,profile:r,onUpdateProfile:s,onChangePassword:a,onRefreshProfile:i})=>{const[o,l]=h.useState("profile"),[c,u]=h.useState(!1),[d,m]=h.useState(null),[f,p]=h.useState(null),[g,b]=h.useState({firstName:"",lastName:"",phone:"",producteurInfo:{cultureType:"",region:"",farmSize:"",description:"",certificates:[]},livreurInfo:{deliveryZone:"",vehicleType:"",isAvailable:!0}}),[x,v]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[y,j]=h.useState({current:!1,new:!1,confirm:!1});h.useEffect(()=>{var M,k,A,B,F,D,$,z;r&&(b({firstName:r.firstName||"",lastName:r.lastName||"",phone:r.phone||"",producteurInfo:{cultureType:((M=r.producteurInfo)==null?void 0:M.cultureType)||"",region:((k=r.producteurInfo)==null?void 0:k.region)||"",farmSize:((A=r.producteurInfo)==null?void 0:A.farmSize)||"",description:((B=r.producteurInfo)==null?void 0:B.description)||"",certificates:((F=r.producteurInfo)==null?void 0:F.certificates)||[]},livreurInfo:{deliveryZone:((D=r.livreurInfo)==null?void 0:D.deliveryZone)||"",vehicleType:(($=r.livreurInfo)==null?void 0:$.vehicleType)||"",isAvailable:((z=r.livreurInfo)==null?void 0:z.isAvailable)??!0}}),r.profilePicture&&p(r.profilePicture))},[r]),h.useEffect(()=>{e||(m(null),p(null),v({currentPassword:"",newPassword:"",confirmPassword:""}))},[e]);const w=M=>{const{name:k,value:A}=M.target;if(k.startsWith("producteurInfo.")){const B=k.split(".")[1];b(F=>({...F,producteurInfo:{...F.producteurInfo,[B]:A}}))}else if(k.startsWith("livreurInfo.")){const B=k.split(".")[1],F=B==="isAvailable"?A==="true":A;b(D=>({...D,livreurInfo:{...D.livreurInfo,[B]:F}}))}else b(B=>({...B,[k]:A}))},N=M=>{const k=M.target.files[0];if(k){m(k);const A=new FileReader;A.onloadend=()=>p(A.result),A.readAsDataURL(k)}},S=M=>{const{name:k,value:A}=M.target;v(B=>({...B,[k]:A}))},P=M=>{j(k=>({...k,[M]:!k[M]}))},C=async M=>{M.preventDefault(),u(!0);try{const k={firstName:g.firstName,lastName:g.lastName,phone:g.phone};(r==null?void 0:r.role)==="producteur"?k.producteurInfo=g.producteurInfo:(r==null?void 0:r.role)==="livreur"&&(k.livreurInfo=g.livreurInfo),d&&(k.profilePicture=d);const A=await s(k);A&&A.status==="success"&&(re.success("Profil mis  jour avec succs"),await i(),t())}catch(k){console.error("Erreur profil:",k),re.error(k.message||"Erreur lors de la mise  jour du profil")}finally{u(!1)}},E=async M=>{if(M.preventDefault(),x.newPassword!==x.confirmPassword){re.error("Les nouveaux mots de passe ne correspondent pas");return}if(x.newPassword.length<8){re.error("Le mot de passe doit contenir au moins 8 caractres");return}u(!0);try{await a({currentPassword:x.currentPassword,newPassword:x.newPassword,confirmPassword:x.confirmPassword})&&v({currentPassword:"",newPassword:"",confirmPassword:""})}catch(k){console.error("Erreur mot de passe:",k)}finally{u(!1)}},O=()=>{var M;return n.jsxs("form",{onSubmit:C,className:"space-y-6",children:[n.jsx("div",{className:"flex flex-col items-center space-y-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-2xl font-semibold",children:f?n.jsx("img",{src:f,alt:"Photo de profil",className:"w-24 h-24 rounded-full object-cover"}):((M=r==null?void 0:r.firstName)==null?void 0:M[0])||"U"}),n.jsxs("label",{className:"absolute bottom-0 right-0 bg-green-600 text-white p-2 rounded-full cursor-pointer hover:bg-green-700 transition-colors",children:[n.jsx(j0,{className:"w-4 h-4"}),n.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"hidden"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Et,{className:"w-4 h-4 inline mr-2"}),"Prnom"]}),n.jsx("input",{type:"text",name:"firstName",value:g.firstName,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Votre prnom",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Et,{className:"w-4 h-4 inline mr-2"}),"Nom"]}),n.jsx("input",{type:"text",name:"lastName",value:g.lastName,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Votre nom",required:!0})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(ya,{className:"w-4 h-4 inline mr-2"}),"Tlphone"]}),n.jsx("input",{type:"tel",name:"phone",value:g.phone,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Votre numro de tlphone",required:!0})]}),(r==null?void 0:r.role)==="producteur"&&n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(MT,{className:"w-5 h-5 mr-2 text-green-600"}),"Informations Producteur"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de culture"}),n.jsx("input",{type:"text",name:"producteurInfo.cultureType",value:g.producteurInfo.cultureType,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Ex: Lgumes biologiques"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Ko,{className:"w-4 h-4 inline mr-2"}),"Rgion"]}),n.jsx("input",{type:"text",name:"producteurInfo.region",value:g.producteurInfo.region,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Votre rgion"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taille de l'exploitation (hectares)"}),n.jsx("input",{type:"number",name:"producteurInfo.farmSize",value:g.producteurInfo.farmSize,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Ex: 5",min:"0",step:"0.1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{name:"producteurInfo.description",value:g.producteurInfo.description,onChange:w,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Dcrivez votre activit..."})]})]}),(r==null?void 0:r.role)==="livreur"&&n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(rn,{className:"w-5 h-5 mr-2 text-green-600"}),"Informations Livreur"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Ko,{className:"w-4 h-4 inline mr-2"}),"Zone de livraison"]}),n.jsx("input",{type:"text",name:"livreurInfo.deliveryZone",value:g.livreurInfo.deliveryZone,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Ex: Centre-ville"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de vhicule"}),n.jsxs("select",{name:"livreurInfo.vehicleType",value:g.livreurInfo.vehicleType,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Slectionner"}),n.jsx("option",{value:"voiture",children:"Voiture"}),n.jsx("option",{value:"moto",children:"Moto"}),n.jsx("option",{value:"velo",children:"Vlo"}),n.jsx("option",{value:"camion",children:"Camion"})]})]})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"livreurInfo.isAvailable",checked:g.livreurInfo.isAvailable,onChange:k=>w({target:{name:"livreurInfo.isAvailable",value:k.target.checked.toString()}}),className:"mr-2 rounded"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Disponible pour les livraisons"})]})})]}),n.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:[c?n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):n.jsx(Co,{className:"w-5 h-5 mr-2"}),c?"Mise  jour...":"Mettre  jour le profil"]})]})},I=()=>n.jsxs("form",{onSubmit:E,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe actuel"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:y.current?"text":"password",name:"currentPassword",value:x.currentPassword,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent pr-10",placeholder:"Votre mot de passe actuel",required:!0}),n.jsx("button",{type:"button",onClick:()=>P("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y.current?n.jsx(Ss,{className:"w-5 h-5"}):n.jsx(hr,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouveau mot de passe"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:y.new?"text":"password",name:"newPassword",value:x.newPassword,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent pr-10",placeholder:"Au moins 8 caractres",required:!0,minLength:"8"}),n.jsx("button",{type:"button",onClick:()=>P("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y.new?n.jsx(Ss,{className:"w-5 h-5"}):n.jsx(hr,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmer le nouveau mot de passe"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:y.confirm?"text":"password",name:"confirmPassword",value:x.confirmPassword,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent pr-10",placeholder:"Rptez le nouveau mot de passe",required:!0,minLength:"8"}),n.jsx("button",{type:"button",onClick:()=>P("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y.confirm?n.jsx(Ss,{className:"w-5 h-5"}):n.jsx(hr,{className:"w-5 h-5"})})]})]}),n.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:[c?n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):n.jsx(Co,{className:"w-5 h-5 mr-2"}),c?"Modification...":"Changer le mot de passe"]})]});return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-4 flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Mon Profil"}),n.jsx("button",{onClick:t,className:"text-white hover:bg-green-700 rounded-full p-2 transition-colors",children:n.jsx(or,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"flex border-b",children:[n.jsxs("button",{onClick:()=>l("profile"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${o==="profile"?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"}`,children:[n.jsx(Et,{className:"w-4 h-4 inline mr-2"}),"Profil"]}),n.jsxs("button",{onClick:()=>l("password"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${o==="password"?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"}`,children:[n.jsx(di,{className:"w-4 h-4 inline mr-2"}),"Mot de passe"]})]}),n.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[o==="profile"&&O(),o==="password"&&I()]})]})}):null},jl=()=>{const[e,t]=h.useState({totalProducts:0,totalOrders:0,totalRevenue:0,averageRating:0}),[r,s]=h.useState([]),[a,i]=h.useState([]),[o,l]=h.useState(!0),[c,u]=h.useState(null),[d,m]=h.useState({page:1,totalPages:1,total:0}),[f,p]=h.useState({page:1,totalPages:1,total:0}),[g,b]=h.useState({search:"",category:"",status:""}),[x,v]=h.useState({status:"",dateFrom:"",dateTo:""}),[y,j]=h.useState(null),[w,N]=h.useState(!1),[S,P]=h.useState(null),C=h.useCallback(async()=>{try{const se=await ne.getProducerStats();if(se.status==="success"&&se.data){const V=se.data;t({totalProducts:V.totalProducts||0,totalOrders:V.totalOrders||0,totalRevenue:V.totalRevenue||0,monthlyRevenue:V.monthlyRevenue||0,averageRating:V.averageRating||0,publishedProducts:V.publishedProducts||0,unpublishedProducts:V.unpublishedProducts||0,pendingOrders:V.pendingOrders||0,completedOrders:V.completedOrders||0})}else t({totalProducts:0,totalOrders:0,totalRevenue:0,monthlyRevenue:0,averageRating:0,publishedProducts:0,unpublishedProducts:0,pendingOrders:0,completedOrders:0})}catch(se){console.error("Erreur lors du chargement des statistiques:",se),t({totalProducts:0,totalOrders:0,totalRevenue:0,monthlyRevenue:0,averageRating:0,publishedProducts:0,unpublishedProducts:0,pendingOrders:0,completedOrders:0})}},[]),E=h.useCallback(async(se=1,V={})=>{try{l(!0);const _=await ne.getProducerProducts(se,20,(V==null?void 0:V.search)||"",(V==null?void 0:V.category)||"");if((_==null?void 0:_.status)==="success"){const H=_.data||{},J=H.products||H.items||H.results||[],G=L=>L?L.startsWith("http://")||L.startsWith("https://")?L:`${"http://localhost:5000/api/v1".replace("/api/v1","")||"http://localhost:5000"}/uploads/${L}`:null,ce=(J||[]).map(L=>({_id:L._id||L.id||L.productId,name:L.name,description:L.description,price:L.price,category:L.category,stock:L.stock,unit:L.unit,isOrganic:L.isOrganic||!1,isPublished:typeof L.isAvailable=="boolean"?L.isAvailable:L.isPublished??!1,imageUrl:G(L.imageUrl||L.image||(L.images&&L.images.length>0?L.images[0]:null)||L.thumbnail),images:(L.images||[]).map(X=>G(X)),createdAt:L.createdAt,updatedAt:L.updatedAt}));s(ce),m({page:H.currentPage||H.page||se,totalPages:H.totalPages||H.pages||1,total:H.total||H.count||ce.length})}}catch(_){console.error("Erreur lors du chargement des produits:",_),u(_.message||"Erreur lors du chargement des produits"),re.error("Erreur lors du chargement des produits")}finally{l(!1)}},[]),O=h.useCallback(async(se=1,V={})=>{try{const _=await ne.getProducerOrders(se,20,V);if((_==null?void 0:_.status)==="success"){const H=_.data||{},G=(H.orders||H.items||H.results||[]||[]).map(ce=>{var L;return{_id:ce._id||ce.id||ce.orderId,orderNumber:ce.orderNumber||ce.number,customerName:ce.customerName||((L=ce.customer)==null?void 0:L.name)||"Client inconnu",status:ce.status,totalAmount:ce.totalAmount||ce.amount||0,createdAt:ce.createdAt,updatedAt:ce.updatedAt}});i(G),p({page:H.currentPage||H.page||se,totalPages:H.totalPages||H.pages||1,total:H.total||H.count||G.length})}}catch(_){console.error("Erreur lors du chargement des commandes:",_),u(_.message||"Erreur lors du chargement des commandes")}},[]),I=async se=>{try{const V=await ne.createProduct(se);if(V.status==="success")return re.success("Produit cr avec succs"),await E(d.page,g),V.data;throw new Error(V.message||"Erreur lors de la cration du produit")}catch(V){console.error("Erreur lors de la cration du produit:",V);const _=V.message||"Erreur lors de la cration du produit";throw re.error(_),new Error(_)}},M=async(se,V)=>{try{const _=await ne.updateProduct(se,V);if(_.status==="success")return re.success("Produit modifi avec succs"),s(H=>H.map(J=>J._id===se?{...J,...V}:J)),_.data;throw new Error(_.message||"Erreur lors de la modification du produit")}catch(_){console.error("Erreur lors de la modification du produit:",_);const H=_.message||"Erreur lors de la modification du produit";throw re.error(H),new Error(H)}},k=async se=>{try{const V=await ne.deleteProduct(se);throw V.status==="success"&&(re.success("Produit supprim avec succs"),s(_=>_.filter(H=>H._id!==se)),await C()),new Error(V.message||"Erreur lors de la suppression du produit")}catch(V){console.error("Erreur lors de la suppression du produit:",V);const _=V.message||"Erreur lors de la suppression du produit";throw re.error(_),new Error(_)}},A=async se=>{try{const V=await ne.publishProduct(se);if(V.status==="success")return re.success("Produit publi avec succs"),s(_=>_.map(H=>H._id===se?{...H,isPublished:!0,isAvailable:!0}:H)),V.data;throw new Error(V.message||"Erreur lors de la publication du produit")}catch(V){console.error("Erreur lors de la publication:",V);const _=V.message||"Erreur lors de la publication du produit";throw re.error(_),new Error(_)}},B=async se=>{try{const V=await ne.unpublishProduct(se);if(V.status==="success")return re.success("Produit dpubli avec succs"),s(_=>_.map(H=>H._id===se?{...H,isPublished:!1,isAvailable:!1}:H)),V.data;throw new Error(V.message||"Erreur lors de la dpublication du produit")}catch(V){console.error("Erreur lors de la dpublication:",V);const _=V.message||"Erreur lors de la dpublication du produit";throw re.error(_),new Error(_)}},F=async(se,V,_="")=>{try{const H=await ne.updateOrderStatus(se,V,_);if(H.status==="success")return re.success("Statut de commande mis  jour"),i(J=>J.map(G=>G._id===se?{...G,status:V}:G)),H.data;throw new Error(H.message||"Erreur lors de la mise  jour du statut")}catch(H){console.error("Erreur lors de la mise  jour du statut:",H);const J=H.message||"Erreur lors de la mise  jour du statut";throw re.error(J),new Error(J)}},D=h.useCallback(se=>{const V={...g,search:se};b(V),E(1,V)},[g,E]),$=h.useCallback(se=>{const V={...g,category:se};b(V),E(1,V)},[g,E]),z=h.useCallback(se=>{E(se,g)},[g,E]),K=h.useCallback(se=>{O(se,x)},[x,O]),U=h.useCallback(async()=>{l(!0),await Promise.all([C(),E(d.page,g),O(f.page,x)]),l(!1)},[C,E,O,d.page,g,f.page,x]),q=ve.useMemo(()=>{try{const se=new Map;return(a||[]).forEach(_=>{const H=_.createdAt?new Date(_.createdAt):null;if(!H||isNaN(H.getTime()))return;const J=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}`,G=se.get(J)||{revenue:0,orders:0,year:H.getFullYear(),monthIndex:H.getMonth()};G.revenue+=Number(_.totalAmount||0),G.orders+=1,se.set(J,G)}),Array.from(se.entries()).sort((_,H)=>_[0].localeCompare(H[0])).map(([_,H])=>({month:new Date(H.year,H.monthIndex,1).toLocaleString("fr-FR",{month:"short"}),revenue:H.revenue,orders:H.orders}))}catch{return[]}},[a]);h.useEffect(()=>{(async()=>{l(!0);try{await Promise.all([C(),E(1),O(1)])}catch(V){u(V.message)}finally{l(!1)}})()},[C,E,O]);const te=h.useCallback(async()=>{var se,V,_;N(!0),P(null);try{const H=await ne.getMyProfile();H.status==="success"&&((se=H.data)!=null&&se.user)?j(H.data.user):P("Erreur lors du chargement du profil")}catch(H){console.error("Erreur profil:",H),P(((_=(V=H.response)==null?void 0:V.data)==null?void 0:_.message)||"Erreur lors du chargement du profil")}finally{N(!1)}},[]),W=h.useCallback(async se=>{var V,_;try{const H=await ne.updateProfile(se);if(H.status==="success")return await te(),re.success("Profil mis  jour avec succs"),H;throw re.error(H.message||"Erreur lors de la mise  jour du profil"),new Error(H.message)}catch(H){throw console.error("Erreur mise  jour profil:",H),re.error(((_=(V=H.response)==null?void 0:V.data)==null?void 0:_.message)||"Erreur lors de la mise  jour du profil"),H}},[te]),ie=h.useCallback(async se=>{var V,_;try{const H=await ne.changePassword(se);if(H.status==="success")return re.success("Mot de passe modifi avec succs"),H;throw re.error(H.message||"Erreur lors du changement de mot de passe"),new Error(H.message)}catch(H){throw console.error("Erreur changement mot de passe:",H),re.error(((_=(V=H.response)==null?void 0:V.data)==null?void 0:_.message)||"Erreur lors du changement de mot de passe"),H}},[]),le=h.useCallback(async()=>{await te()},[te]);return{stats:e,products:r,orders:a,loading:o,error:c,salesChartData:q,productsPagination:d,ordersPagination:f,productsFilters:g,ordersFilters:x,createProduct:I,updateProduct:M,deleteProduct:k,publishProduct:A,unpublishProduct:B,updateOrderStatus:F,searchProducts:D,filterProductsByCategory:$,changeProductsPage:z,changeOrdersPage:K,refreshData:U,profile:y,profileLoading:w,profileError:S,updateProfile:W,changePassword:ie,getProfile:te,refreshProfile:le,setError:u}},I8=({title:e,subtitle:t})=>{const{user:r,logout:s}=Cn(),{profile:a,updateProfile:i,changePassword:o,getProfile:l,refreshProfile:c}=jl(),[u,d]=h.useState(!1),[m,f]=h.useState(!1),[p,g]=h.useState(0),[b,x]=h.useState(!1),[v,y]=h.useState([]),[j,w]=h.useState(0);h.useEffect(()=>{l()},[l]),h.useEffect(()=>{const C=async()=>{var O,I;try{const M=await ne.getFormations({page:1,limit:10});if(M.status==="success"){const k=((O=M.data)==null?void 0:O.formations)||((I=M.data)==null?void 0:I.items)||[],A=new Date;A.setDate(A.getDate()-7);const F=k.filter(D=>new Date(D.createdAt)>A).map(D=>({id:D._id,type:"formation",title:"Nouvelle formation disponible",message:D.title,date:D.createdAt,read:!1,link:"/producer/formations"}));y(F),w(F.length)}}catch(M){console.error("Erreur lors du chargement des notifications:",M)}};C();const E=setInterval(C,5*60*1e3);return()=>clearInterval(E)},[]);const N=C=>{y(E=>E.map(O=>O.id===C?{...O,read:!0}:O)),w(E=>Math.max(0,E-1))},S=()=>{y(C=>C.map(E=>({...E,read:!0}))),w(0)},P=C=>{const E=new Date(C),I=new Date-E,M=Math.floor(I/6e4),k=Math.floor(M/60),A=Math.floor(k/24);return M<60?`Il y a ${M} min`:k<24?`Il y a ${k}h`:A===1?"Hier":A<7?`Il y a ${A} jours`:E.toLocaleDateString("fr-FR")};return n.jsxs("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:e}),t&&n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>x(!b),className:"relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(Ns,{className:"w-5 h-5"}),j>0&&n.jsx("span",{className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white text-xs flex items-center justify-center rounded-full font-bold",children:j})]}),b&&n.jsxs("div",{className:"absolute top-full right-0 mt-2 w-96 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-[500px] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Notifications ",j>0&&`(${j})`]}),n.jsxs("div",{className:"flex items-center gap-2",children:[j>0&&n.jsx("button",{onClick:S,className:"text-xs text-green-600 hover:text-green-700 font-medium",children:"Tout marquer comme lu"}),n.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(or,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"overflow-y-auto max-h-[400px]",children:v.length===0?n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(Ns,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"Aucune notification"})]}):n.jsx("div",{className:"divide-y divide-gray-100",children:v.map(C=>n.jsx(xe,{to:C.link,onClick:()=>{N(C.id),x(!1)},className:`block p-4 hover:bg-gray-50 transition-colors ${C.read?"":"bg-green-50"}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${C.type==="formation"?"bg-blue-100":"bg-green-100"}`,children:C.type==="formation"?n.jsx(wn,{className:"w-5 h-5 text-blue-600"}):n.jsx(Ns,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("p",{className:`text-sm font-medium ${C.read?"text-gray-700":"text-gray-900"}`,children:C.title}),!C.read&&n.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0 mt-1"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:C.message}),n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-gray-500",children:[n.jsx($r,{className:"w-3 h-3"}),P(C.date)]})]})]})},C.id))})}),v.length>0&&n.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:n.jsx(xe,{to:"/producer/formations",onClick:()=>x(!1),className:"block text-center text-sm text-green-600 hover:text-green-700 font-medium",children:"Voir toutes les formations "})})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[a==null?void 0:a.firstName," ",a==null?void 0:a.lastName]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Producteur"})]}),n.jsxs("button",{onClick:()=>f(!0),className:"relative group",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-green-600 flex items-center justify-center overflow-hidden cursor-pointer hover:bg-green-700 transition-colors ring-2 ring-white shadow-lg group-hover:ring-green-400",children:a!=null&&a.profilePicture?n.jsx("img",{src:`${Qt(a.profilePicture)}${p?`?v=${p}`:""}`,alt:"Avatar",className:"w-full h-full object-cover"}):n.jsx(Et,{className:"w-6 h-6 text-white"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md group-hover:bg-gray-50",children:n.jsx(Lr,{className:"w-3 h-3 text-gray-600 group-hover:text-gray-800"})})]})]}),n.jsx("button",{onClick:()=>d(!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Se dconnecter",children:n.jsx(Aa,{className:"w-5 h-5"})})]})]})]}),u&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Confirmer la dconnexion"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Voulez-vous vraiment vous dconnecter ?"}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Annuler"}),n.jsx("button",{onClick:()=>{d(!1),s()},className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Se dconnecter"})]})]})}),m&&n.jsx(L8,{isOpen:m,onClose:()=>f(!1),profile:a,onUpdateProfile:i,onChangePassword:o,onRefreshProfile:async()=>{await c(),g(Date.now())}})]})},bn=({children:e,pageTitle:t,pageSubtitle:r})=>n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[n.jsx(M8,{}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(I8,{title:t,subtitle:r}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e})]})]}),D8=()=>{var D,$;const{stats:e,products:t,loading:r,error:s,productsPagination:a,updateProduct:i,deleteProduct:o,publishProduct:l,unpublishProduct:c,searchProducts:u,filterProductsByCategory:d,changeProductsPage:m}=jl(),[f,p]=h.useState(""),[g,b]=h.useState("all"),[x,v]=h.useState(!1),[y,j]=h.useState(null),[w,N]=h.useState({name:"",description:"",price:"",unit:"",category:"",stock:"",image:null,isPublished:!0});h.useEffect(()=>{},[]);const S=(z=null)=>{z?(j(z),N({name:z.name,description:z.description,price:z.price,unit:z.unit,category:z.category,stock:z.stock,image:null,isPublished:z.isPublished})):(j(null),N({name:"",description:"",price:"",unit:"",category:"",stock:"",image:null,isPublished:!0})),v(!0)},P=()=>{v(!1),j(null)},C=z=>{const{name:K,value:U,type:q,checked:te}=z.target;N(W=>({...W,[K]:q==="checkbox"?te:U}))},E=z=>{N(K=>({...K,image:z.target.files[0]}))},O=async z=>{z.preventDefault();const K={...w,price:parseFloat(w.price),stock:parseInt(w.stock,10)};try{y?(await i(y._id,K),re.success("Produit mis  jour avec succs")):(await createProduct(K),re.success("Produit ajout avec succs")),P()}catch(U){re.error(U.message||"Erreur lors de l'opration")}},I=async(z,K)=>{if(window.confirm(`tes-vous sr de vouloir supprimer le produit "${K}" ?`))try{await o(z),re.success("Produit supprim.")}catch(U){re.error(U.message||"Erreur lors de la suppression.")}},M=async(z,K,U)=>{try{K?(await c(z),re.info(`Produit "${U}" dpubli.`)):(await l(z),re.success(`Produit "${U}" publi.`))}catch(q){re.error(q.message||"Erreur de publication.")}},k=z=>{p(z.target.value),u(z.target.value)},A=z=>{b(z.target.value),d(z.target.value==="all"?void 0:z.target.value)};if(r)return n.jsx(bn,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#59C94F]"})})});if(s)return n.jsx(bn,{children:n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-red-600",children:s})})});const B=z=>z?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",F=z=>z?"Publi":"Brouillon";return n.jsxs(bn,{children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Tableau de bord Producteur"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Grez vos produits, commandes et performances"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Chiffre d'affaires (mois)"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[((D=e.monthlyRevenue)==null?void 0:D.toLocaleString())||0," FCFA"]})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:n.jsx(Ts,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Commandes"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.totalOrders||0})]}),n.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:n.jsx(gr,{className:"w-6 h-6 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Produits"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.totalProducts||0})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:n.jsx(qe,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Note Moyenne"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[n.jsx(Qo,{className:"w-6 h-6 text-yellow-500 inline-block mr-1"}),(($=e.averageRating)==null?void 0:$.toFixed(1))||"N/A"]})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:n.jsx(Qo,{className:"w-6 h-6 text-purple-600"})})]})})]}),n.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Catalogue Produits"})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Rechercher par nom...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#59C94F] focus:border-transparent",value:f,onChange:k})]}),n.jsxs("select",{className:"sm:w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#59C94F] focus:border-transparent",value:g,onChange:A,children:[n.jsx("option",{value:"all",children:"Toutes les catgories"}),n.jsx("option",{value:"fruits",children:"Fruits"}),n.jsx("option",{value:"lgumes",children:"Lgumes"}),n.jsx("option",{value:"crales",children:"Crales"}),n.jsx("option",{value:"tubercules",children:"Tubercules"}),n.jsx("option",{value:"pices",children:"pices"}),n.jsx("option",{value:"frais",children:"Produits frais"}),n.jsx("option",{value:"sec",children:"Produits secs"})]})]}),n.jsx("div",{className:"space-y-4",children:t.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(qe,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"Aucun produit trouv dans votre catalogue."})]}):t.map(z=>n.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-3 md:mb-0",children:[z.imageUrl?n.jsx("img",{src:z.imageUrl,alt:z.name,className:"w-16 h-16 object-cover rounded-lg mr-4"}):n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center mr-4",children:n.jsx(qe,{className:"w-6 h-6 text-gray-500"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800",children:z.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[z.price," ",z.unit,"  Stock: ",z.stock]}),n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1 ${B(z.isPublished)}`,children:F(z.isPublished)})]})]}),n.jsxs("div",{className:"flex space-x-3 md:ml-auto",children:[n.jsx("button",{onClick:()=>M(z._id,z.isPublished,z.name),className:`p-2 rounded-full transition-colors ${z.isPublished?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,title:z.isPublished?"Dpublier":"Publier",children:z.isPublished?n.jsx(Ss,{className:"w-5 h-5"}):n.jsx(hr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>S(z),className:"p-2 rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",title:"Modifier",children:n.jsx(Yo,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>I(z._id,z.name),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Supprimer",children:n.jsx(ba,{className:"w-5 h-5"})})]})]},z._id))}),a.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[n.jsx("button",{onClick:()=>m(a.page-1),disabled:a.page===1,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Prcdent"}),n.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",a.page," sur ",a.totalPages]}),n.jsx("button",{onClick:()=>m(a.page+1),disabled:a.page===a.totalPages,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Suivant"})]})]})})})]}),x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:y?"Modifier le produit":"Ajouter un nouveau produit"}),n.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-600",children:n.jsx(or,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:O,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du produit"}),n.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:w.name,onChange:C,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#59C94F] focus:border-transparent",placeholder:"Ex: Mangue Keitt, Farine de mas"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{name:"description",id:"description",rows:"3",required:!0,value:w.description,onChange:C,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#59C94F] focus:border-transparent resize-y",placeholder:"Description dtaille, avantages..."})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix (FCFA)"}),n.jsx("input",{type:"number",name:"price",id:"price",required:!0,value:w.price,onChange:C,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#59C94F] focus:border-transparent",placeholder:"Ex: 500",min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),n.jsxs("select",{name:"unit",id:"unit",required:!0,value:w.unit,onChange:C,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#59C94F] focus:border-transparent",children:[n.jsx("option",{value:"",children:"Slectionner l'unit"}),n.jsx("option",{value:"kg",children:"kg"}),n.jsx("option",{value:"unit",children:"Unit"}),n.jsx("option",{value:"litre",children:"Litre"}),n.jsx("option",{value:"sac",children:"Sac"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Catgorie"}),n.jsxs("select",{name:"category",id:"category",required:!0,value:w.category,onChange:C,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#59C94F] focus:border-transparent",children:[n.jsx("option",{value:"",children:"Slectionner la catgorie"}),n.jsx("option",{value:"fruits",children:"Fruits"}),n.jsx("option",{value:"lgumes",children:"Lgumes"}),n.jsx("option",{value:"crales",children:"Crales"}),n.jsx("option",{value:"tubercules",children:"Tubercules"}),n.jsx("option",{value:"pices",children:"pices"}),n.jsx("option",{value:"frais",children:"Produits frais"}),n.jsx("option",{value:"sec",children:"Produits secs"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock disponible"}),n.jsx("input",{type:"number",name:"stock",id:"stock",required:!0,value:w.stock,onChange:C,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#59C94F] focus:border-transparent",placeholder:"Ex: 100",min:"0"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image du produit"}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-[#59C94F] transition-colors",children:[n.jsx(t2,{className:"w-5 h-5 text-gray-500 mr-2"}),n.jsx("span",{className:"text-sm text-gray-700",children:w.image?w.image.name:y&&y.imageUrl?"Nouvelle image (optionnel)":"Ajouter une image"}),n.jsx("input",{type:"file",name:"image",id:"image-upload",className:"hidden",accept:"image/*",onChange:E})]})}),y&&y.imageUrl&&!w.image&&n.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Image actuelle charge: ",y.imageUrl.substring(y.imageUrl.lastIndexOf("/")+1)]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"isPublished",id:"isPublished",checked:w.isPublished,onChange:C,className:"h-4 w-4 text-[#59C94F] border-gray-300 rounded focus:ring-[#59C94F]"}),n.jsx("label",{htmlFor:"isPublished",className:"ml-2 block text-sm text-gray-900",children:"Publier immdiatement"})]})]}),n.jsxs("div",{className:"flex gap-4 mt-6",children:[n.jsx("button",{type:"button",onClick:P,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),n.jsxs("button",{type:"submit",className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[y?"Modifier":"Ajouter"," le produit"]})]})]})]})})]})},_8=()=>{const{products:e,stats:t,loading:r,error:s,productsPagination:a,createProduct:i,updateProduct:o,deleteProduct:l,publishProduct:c,unpublishProduct:u,searchProducts:d,filterProductsByCategory:m,changeProductsPage:f}=jl(),[p,g]=h.useState(!1),[b,x]=h.useState(null),[v,y]=h.useState({name:"",price:"",description:"",category:"",stock:"",unit:"kg",isOrganic:!1}),[j,w]=h.useState(!1),[N,S]=h.useState(""),[P,C]=h.useState(""),[E,O]=h.useState(""),I=q=>{const{name:te,value:W,type:ie,checked:le}=q.target;y(se=>({...se,[te]:ie==="checkbox"?le:W}))},M=q=>{const te=q.target.files[0];te&&y(W=>({...W,image:te}))},k=async q=>{if(q.preventDefault(),!v.name||!v.price||!v.description||!v.stock){re.error("Veuillez remplir tous les champs obligatoires");return}w(!0);try{const te=new FormData;te.append("name",v.name),te.append("description",v.description),te.append("price",parseFloat(v.price)),te.append("category",v.category),te.append("stock",parseInt(v.stock)),te.append("unit",v.unit),te.append("isOrganic",v.isOrganic),v.image&&te.append("images",v.image),b?await o(b._id,te):await i(te),A()}catch(te){console.error("Erreur lors de la soumission:",te)}finally{w(!1)}},A=()=>{y({name:"",price:"",description:"",category:"",stock:"",unit:"kg",isOrganic:!1}),g(!1),x(null)},B=q=>{x(q),y({name:q.name,price:q.price.toString(),description:q.description,category:q.category,stock:q.stock.toString(),unit:q.unit||"kg",isOrganic:q.isOrganic||!1}),g(!0)},F=async q=>{if(window.confirm("tes-vous sr de vouloir supprimer ce produit ?"))try{await l(q)}catch(te){console.error("Erreur lors de la suppression:",te)}},D=async q=>{try{await c(q)}catch(te){console.error("Erreur lors de la publication:",te)}},$=async q=>{try{await u(q)}catch(te){console.error("Erreur lors de la dpublication:",te)}},z=q=>{const te=q.target.value;S(te),(te.length>2||te.length===0)&&d(te)},K=q=>{C(q),m(q)},U=q=>{O(q)};return r&&!p?n.jsx(bn,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})})}):n.jsxs(bn,{children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Mes Produits"}),n.jsx("p",{className:"text-lg text-gray-600 mt-2",children:"Grez votre catalogue de produits agricoles"})]}),n.jsxs("button",{onClick:()=>g(!0),className:"flex items-center justify-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors w-full sm:w-auto",children:[n.jsx(mi,{className:"w-5 h-5"}),"Ajouter un produit"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Produits"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:t.totalProducts||0})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:n.jsx(qe,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Publis"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(q=>q.isPublished).length})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:n.jsx(ar,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Brouillons"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e.filter(q=>!q.isPublished).length})]}),n.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:n.jsx(zn,{className:"w-6 h-6 text-orange-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Revenus Produits"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[(t.totalRevenue||0).toLocaleString()," FCFA"]})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:n.jsx(Wo,{className:"w-6 h-6 text-blue-600"})})]})})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:N,onChange:z,className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsxs("select",{value:P,onChange:q=>K(q.target.value),className:"px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Toutes catgories"}),n.jsx("option",{value:"fruits",children:"Fruits"}),n.jsx("option",{value:"lgumes",children:"Lgumes"}),n.jsx("option",{value:"crales",children:"Crales"}),n.jsx("option",{value:"tubercules",children:"Tubercules"}),n.jsx("option",{value:"pices",children:"pices"}),n.jsx("option",{value:"levage",children:"levage"}),n.jsx("option",{value:"produits-transforms",children:"Produits transforms"}),n.jsx("option",{value:"frais",children:"Produits frais"}),n.jsx("option",{value:"sec",children:"Produits secs"}),n.jsx("option",{value:"autre",children:"Autre"})]}),n.jsxs("select",{value:E,onChange:q=>U(q.target.value),className:"px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Tous statuts"}),n.jsx("option",{value:"published",children:"Publis"}),n.jsx("option",{value:"draft",children:"Brouillons"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Produit"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Prix"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Stock"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Statut"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsxs("tbody",{className:"divide-y divide-gray-100",children:[s&&!r&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-6 text-center text-red-600",children:s})}),!r&&!s&&e.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-6 text-center text-gray-500",children:N||P?"Aucun produit trouv":"Aucun produit ajout"})}),!r&&!s&&e.map(q=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-sm font-bold text-green-700 overflow-hidden",children:At(q)?n.jsx("img",{src:At(q),alt:q.name,className:"w-full h-full object-cover"}):q.name.charAt(0).toUpperCase()}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-800 font-medium",children:q.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[q.category,q.isOrganic&&n.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Bio"})]})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-gray-700 font-medium",children:[q.price," FCFA/",q.unit]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-gray-700",children:[q.stock," ",q.unit]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${q.isPublished?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:q.isPublished?"Publi":"Brouillon"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[q.isPublished?n.jsx("button",{onClick:()=>$(q._id),className:"p-2 hover:bg-orange-50 rounded-lg transition-colors group",title:"Dpublier",children:n.jsx(Ss,{className:"w-4 h-4 text-orange-600 group-hover:text-orange-700"})}):n.jsx("button",{onClick:()=>D(q._id),className:"p-2 hover:bg-green-50 rounded-lg transition-colors group",title:"Publier",children:n.jsx(hr,{className:"w-4 h-4 text-green-600 group-hover:text-green-700"})}),n.jsx("button",{onClick:()=>B(q),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors group",title:"Modifier",children:n.jsx(gT,{className:"w-4 h-4 text-blue-600 group-hover:text-blue-700"})}),n.jsx("button",{onClick:()=>F(q._id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors group",title:"Supprimer",children:n.jsx(ba,{className:"w-4 h-4 text-red-500 group-hover:text-red-600"})})]})})]},q._id))]})]})}),a.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-center gap-2 p-6 border-t",children:[n.jsx("button",{onClick:()=>f(a.page-1),disabled:a.page===1,className:"px-3 py-2 border border-gray-300 rounded disabled:opacity-50 hover:bg-gray-50",children:"Prcdent"}),n.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",a.page," sur ",a.totalPages]}),n.jsx("button",{onClick:()=>f(a.page+1),disabled:a.page===a.totalPages,className:"px-3 py-2 border border-gray-300 rounded disabled:opacity-50 hover:bg-gray-50",children:"Suivant"})]})]}),p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:b?"Modifier le produit":"Ajouter un produit"}),n.jsx("button",{onClick:A,className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsxs("form",{onSubmit:k,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Image du produit"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-green-500 transition-colors cursor-pointer",children:[n.jsx("input",{type:"file",id:"product-image",accept:"image/svg+xml,image/png,image/jpeg",onChange:M,className:"hidden"}),n.jsxs("label",{htmlFor:"product-image",className:"cursor-pointer",children:[n.jsx(t2,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Cliquez pour tlverser"})]})]}),v.image&&n.jsxs("p",{className:"text-sm text-green-600 mt-2 flex items-center justify-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),v.image.name]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Nom du produit *"}),n.jsx("input",{type:"text",name:"name",value:v.name,onChange:I,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Ex: Tomates fraches"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Prix (FCFA) *"}),n.jsx("input",{type:"number",name:"price",value:v.price,onChange:I,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Ex: 2500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Stock *"}),n.jsx("input",{type:"number",name:"stock",value:v.stock,onChange:I,required:!0,min:"0",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Ex: 100"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Unit"}),n.jsxs("select",{name:"unit",value:v.unit,onChange:I,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"kg",children:"kg"}),n.jsx("option",{value:"g",children:"g"}),n.jsx("option",{value:"pice",children:"pice"}),n.jsx("option",{value:"pack",children:"pack"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Catgorie *"}),n.jsxs("select",{name:"category",value:v.category,onChange:I,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Slectionner une catgorie"}),n.jsx("option",{value:"fruits",children:"Fruits"}),n.jsx("option",{value:"lgumes",children:"Lgumes"}),n.jsx("option",{value:"crales",children:"Crales"}),n.jsx("option",{value:"tubercules",children:"Tubercules"}),n.jsx("option",{value:"pices",children:"pices"}),n.jsx("option",{value:"levage",children:"levage"}),n.jsx("option",{value:"produits-transforms",children:"Produits transforms"}),n.jsx("option",{value:"frais",children:"Produits frais"}),n.jsx("option",{value:"sec",children:"Produits secs"}),n.jsx("option",{value:"autre",children:"Autre"})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"isOrganic",checked:v.isOrganic,onChange:I,className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),n.jsx("label",{className:"ml-2 text-gray-700",children:"Produit biologique"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Description *"}),n.jsx("textarea",{name:"description",value:v.description,onChange:I,required:!0,rows:"4",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-y",placeholder:"Dcrivez votre produit..."})]}),n.jsxs("div",{className:"flex gap-4 pt-4",children:[n.jsx("button",{type:"button",onClick:A,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),n.jsxs("button",{type:"submit",disabled:j,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[j?"En cours...":b?"Modifier":"Ajouter"," le produit"]})]})]})]})})})]})},R8=()=>{var a,i;const{stats:e,loading:t,error:r}=jl(),s=[{title:"Revenus totaux",value:t?"...":`${((a=e.totalRevenue)==null?void 0:a.toLocaleString())||0} CFA`,icon:Wo,bgColor:"bg-[#59C94F]",iconColor:"text-white"},{title:"Commandes totales",value:t?"...":e.totalOrders||0,icon:gr,bgColor:"bg-[#7FB8E1]",iconColor:"text-white"},{title:"Produits publis",value:t?"...":e.publishedProducts||0,icon:qe,bgColor:"bg-[#F5CE5F]",iconColor:"text-white"},{title:"Note moyenne",value:t?"...":`${e.averageRating||0}/5`,icon:Ts,bgColor:"bg-[#E55F5F]",iconColor:"text-white"}];return n.jsxs(bn,{pageTitle:"Statistiques",pageSubtitle:"Aperu des performances de votre ferme",children:[n.jsx("div",{className:"grid grid-cols-4 gap-6 mb-6",children:s.map((o,l)=>{const c=o.icon;return n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:o.title}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:o.value})]}),n.jsx("div",{className:`${o.bgColor} ${o.iconColor} p-3 rounded-full`,children:n.jsx(c,{className:"w-6 h-6"})})]})},l)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"tat des commandes"}),t?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Chargement..."}):r?n.jsx("div",{className:"text-center py-8 text-red-500",children:r}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center py-3 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Commandes en attente"}),n.jsx("span",{className:"text-2xl font-bold text-orange-600",children:e.pendingOrders||0})]}),n.jsxs("div",{className:"flex justify-between items-center py-3 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Commandes compltes"}),n.jsx("span",{className:"text-2xl font-bold text-green-600",children:e.completedOrders||0})]}),n.jsxs("div",{className:"flex justify-between items-center py-3",children:[n.jsx("span",{className:"text-gray-600",children:"Revenus du mois"}),n.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[((i=e.monthlyRevenue)==null?void 0:i.toLocaleString())||0," CFA"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Vos produits"}),t?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Chargement..."}):r?n.jsx("div",{className:"text-center py-8 text-red-500",children:r}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center py-3 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Produits publis"}),n.jsx("span",{className:"text-2xl font-bold text-green-600",children:e.publishedProducts||0})]}),n.jsxs("div",{className:"flex justify-between items-center py-3 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Produits non publis"}),n.jsx("span",{className:"text-2xl font-bold text-gray-600",children:e.unpublishedProducts||0})]}),n.jsxs("div",{className:"flex justify-between items-center py-3",children:[n.jsx("span",{className:"text-gray-600",children:"Total de produits"}),n.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e.totalProducts||0})]})]})]})]})]})},F8=()=>{const{orders:e,loading:t,error:r,ordersPagination:s,changeOrdersPage:a}=jl(),[i,o]=h.useState(!1),[l,c]=h.useState(""),[u,d]=h.useState(""),[m,f]=h.useState([]),p=w=>w?new Date(w).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}):"",g=(w,N)=>N==="cancelled"?"Annul":w==="paid"?"Pay":w==="pending"?"En attente":"Non pay",b=()=>{if(!l||!u){re.error("Veuillez slectionner les deux dates");return}const w=new Date(l),N=new Date(u);if(w>N){re.error("La date de dbut doit tre antrieure  la date de fin");return}const S=e.filter(P=>{const C=new Date(P.createdAt);return C>=w&&C<=N});f(S),o(!1),re.success(`${S.length} vente(s) trouve(s) pour cette priode`)},x=()=>{c(""),d(""),f([]),o(!1),re.info("Filtres rinitialiss")},v=()=>{const w=m.length>0?m:e;if(w.length===0){re.warning("Aucune vente  exporter");return}let N=`ID Commande,Date,Produits,Client,Montant (CFA),Statut
`;w.forEach(E=>{var D,$;const O=((D=E.items)==null?void 0:D.filter(z=>z.producer))||[],I=O.reduce((z,K)=>z+(K.subtotal||0),0),M=O.map(z=>{var K;return z.productName||((K=z.product)==null?void 0:K.name)}).filter(Boolean).join(" | "),k=E.user?`${E.user.firstName||""} ${E.user.lastName||""}`.trim():"Client inconnu",A=g(E.paymentStatus,E.status),B=p(E.createdAt),F=(($=E._id)==null?void 0:$.slice(-6))||"N/A";N+=`#${F},"${B}","${M}","${k}",${I},"${A}"
`});const S=new Blob([N],{type:"text/csv;charset=utf-8;"}),P=document.createElement("a"),C=URL.createObjectURL(S);P.setAttribute("href",C),P.setAttribute("download",`ventes_${new Date().toISOString().split("T")[0]}.csv`),P.style.visibility="hidden",document.body.appendChild(P),P.click(),document.body.removeChild(P),re.success(`${w.length} vente(s) exporte(s)`)},y=m.length>0?m:e,j=w=>{const N={Pay:"bg-[#A8E6A8] text-white","En attente":"bg-[#FFEB9C] text-gray-700",Annul:"bg-[#FDDEDE] text-white"};return n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${N[w]}`,children:w})};return n.jsx(bn,{pageTitle:"Gestion des ventes",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>o(!i),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${m.length>0?"border-green-500 bg-green-50 text-green-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(xa,{className:"w-4 h-4"}),n.jsx("span",{children:"Priode"}),m.length>0&&n.jsx("span",{className:"ml-1 bg-green-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:m.length})]}),i&&n.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-10 w-80",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:"Filtrer par priode"}),n.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(or,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de dbut"}),n.jsx("input",{type:"date",value:l,onChange:w=>c(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),n.jsx("input",{type:"date",value:u,onChange:w=>d(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("button",{onClick:b,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Appliquer"}),m.length>0&&n.jsx("button",{onClick:x,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Rinitialiser"})]})]})]})]})}),n.jsxs("button",{onClick:v,disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(ZN,{className:"w-4 h-4"}),n.jsx("span",{children:"Exporter CSV"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:t?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto"}),n.jsx("p",{className:"mt-4",children:"Chargement des ventes..."})]}):r?n.jsx("div",{className:"text-center py-12 text-red-500",children:n.jsx("p",{children:r})}):y.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:n.jsx("p",{children:m.length===0&&l&&u?"Aucune vente trouve pour cette priode":"Aucune vente enregistre"})}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300"})}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold text-gray-700",children:"ID Commande"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold text-gray-700",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold text-gray-700",children:"Produits"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold text-gray-700",children:"Client"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold text-gray-700",children:"Montant"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold text-gray-700",children:"Statut"}),n.jsx("th",{className:"px-4 py-3"})]})}),n.jsx("tbody",{children:y.map(w=>{var O,I;const N=((O=w.items)==null?void 0:O.filter(M=>M.producer))||[],S=N.reduce((M,k)=>M+(k.subtotal||0),0),P=N.map(M=>{var k;return M.productName||((k=M.product)==null?void 0:k.name)}).filter(Boolean).join(", ")||"N/A",C=w.user?`${w.user.firstName||""} ${w.user.lastName||""}`.trim():"Client inconnu",E=g(w.paymentStatus,w.status);return n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300"})}),n.jsxs("td",{className:"px-4 py-4 text-sm text-gray-800",children:["#",((I=w._id)==null?void 0:I.slice(-6))||"N/A"]}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-800",children:p(w.createdAt)}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-800",children:P}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-800",children:C}),n.jsxs("td",{className:"px-4 py-4 text-sm text-gray-800",children:[S.toLocaleString()," CFA"]}),n.jsx("td",{className:"px-4 py-4",children:j(E)}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:n.jsx(BE,{className:"w-5 h-5"})})})]},w._id)})})]})}),!t&&!r&&e.length>0&&m.length===0&&n.jsxs("div",{className:"p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",s.page," sur ",s.totalPages," (",s.total," rsultats)"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>a(s.page-1),disabled:s.page===1,className:"px-3 py-1 border border-gray-300 rounded text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),Array.from({length:Math.min(5,s.totalPages)},(w,N)=>N+1).map(w=>n.jsx("button",{onClick:()=>a(w),className:`px-3 py-1 rounded ${w===s.page?"bg-[#387D38] text-white":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:w},w)),n.jsx("button",{onClick:()=>a(s.page+1),disabled:s.page===s.totalPages,className:"px-3 py-1 border border-gray-300 rounded text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]}),!t&&!r&&m.length>0&&n.jsx("div",{className:"p-4 bg-green-50 border-t border-green-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-green-800",children:[n.jsx("span",{className:"font-semibold",children:m.length})," vente(s) trouve(s) pour la priode slectionne"]}),n.jsx("button",{onClick:x,className:"text-sm text-green-700 hover:text-green-800 font-medium underline",children:"Afficher toutes les ventes"})]})})]})})},$8=()=>{const{user:e,updateUser:t}=Cn(),[r,s]=h.useState((e==null?void 0:e.firstName)||""),[a,i]=h.useState((e==null?void 0:e.lastName)||""),[o,l]=h.useState((e==null?void 0:e.phone)||""),[c,u]=h.useState(null),[d,m]=h.useState(!1),[f,p]=h.useState(""),[g,b]=h.useState(""),x=async v=>{var y;v.preventDefault(),m(!0),p(""),b("");try{const j={firstName:r,lastName:a,phone:o};c&&(j.profilePicture=c);const w=await ne.updateMyProfile(j);(w==null?void 0:w.status)==="success"&&((y=w.data)!=null&&y.user)?(t(w.data.user),b("Profil mis  jour avec succs")):b("Profil mis  jour")}catch(j){p((j==null?void 0:j.message)||"Erreur lors de la mise  jour du profil")}finally{m(!1)}};return n.jsx(bn,{pageTitle:"Mon profil",pageSubtitle:"Mettre  jour vos informations",children:n.jsxs("div",{className:"max-w-2xl",children:[f&&n.jsx("div",{className:"mb-4 rounded bg-red-50 text-red-700 px-4 py-2 text-sm",children:f}),g&&n.jsx("div",{className:"mb-4 rounded bg-green-50 text-green-700 px-4 py-2 text-sm",children:g}),n.jsxs("form",{onSubmit:x,className:"space-y-4 bg-white p-6 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Prnom"}),n.jsx("input",{value:r,onChange:v=>s(v.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Nom"}),n.jsx("input",{value:a,onChange:v=>i(v.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Tlphone"}),n.jsx("input",{value:o,onChange:v=>l(v.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Photo de profil"}),n.jsx("input",{type:"file",accept:"image/*",onChange:v=>{var y;return u(((y=v.target.files)==null?void 0:y[0])||null)},className:"w-full"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{disabled:d,type:"submit",className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",children:d?"Enregistrement...":"Enregistrer"})})]})]})})},z8=()=>{const[e,t]=h.useState(""),[r,s]=h.useState(""),[a,i]=h.useState(""),[o,l]=h.useState(!1),[c,u]=h.useState(""),[d,m]=h.useState(""),f=()=>!e||!r||!a?(u("Veuillez remplir tous les champs"),!1):r.length<8?(u("Le nouveau mot de passe doit contenir au moins 8 caractres"),!1):r!==a?(u("La confirmation ne correspond pas au nouveau mot de passe"),!1):!0,p=async g=>{if(g.preventDefault(),u(""),m(""),!!f()){l(!0);try{const b=await ne.changeMyPassword(e,r,a);(b==null?void 0:b.status)==="success"?(m("Mot de passe modifi avec succs"),t(""),s(""),i("")):m("Mot de passe mis  jour")}catch(b){u((b==null?void 0:b.message)||"Erreur lors du changement de mot de passe")}finally{l(!1)}}};return n.jsx(bn,{pageTitle:"Paramtres",pageSubtitle:"Scurit du compte",children:n.jsxs("div",{className:"max-w-lg",children:[c&&n.jsx("div",{className:"mb-4 rounded bg-red-50 text-red-700 px-4 py-2 text-sm",children:c}),d&&n.jsx("div",{className:"mb-4 rounded bg-green-50 text-green-700 px-4 py-2 text-sm",children:d}),n.jsxs("form",{onSubmit:p,className:"space-y-4 bg-white p-6 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Ancien mot de passe"}),n.jsx("input",{type:"password",value:e,onChange:g=>t(g.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Nouveau mot de passe"}),n.jsx("input",{type:"password",value:r,onChange:g=>s(g.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),n.jsx("input",{type:"password",value:a,onChange:g=>i(g.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{disabled:o,type:"submit",className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",children:o?"Validation...":"Changer le mot de passe"})})]})]})})},U8=()=>{const[e,t]=h.useState(""),[r,s]=h.useState("all"),[a,i]=h.useState("all"),[o,l]=h.useState("all"),[c,u]=h.useState("all"),[d,m]=h.useState(!1),[f,p]=h.useState(!1),[g,b]=h.useState(!1),[x,v]=h.useState(null),[y,j]=h.useState(0),[w,N]=h.useState({}),[S,P]=h.useState([]),[C,E]=h.useState({}),[O,I]=h.useState({}),[M,k]=h.useState({}),[A]=h.useState([{_id:"1",title:"Techniques agricoles modernes",description:"Tutoriel vido couvrant les bonnes pratiques modernes pour amliorer le rendement durablement.",category:"Techniques",type:"tutoriel",access:"free",duration:90,thumbnail:"https://i.pinimg.com/736x/da/b9/78/dab97890298e05de1a88c0492463d153.jpg",lessons:[{title:"Introduction aux techniques modernes",type:"video",duration:15,payload:{url:"https://youtu.be/oYBocFbnNe0"}},{title:"Semis direct et couverture vgtale",type:"article",duration:20,payload:{text:`Le semis direct est une technique agricole moderne qui permet de semer sans labour pralable. Cette mthode prsente de nombreux avantages pour la sant des sols et la durabilit de l'agriculture.

Avantages du semis direct :
 Rduction de l'rosion des sols de 70  90%
 Conservation de l'humidit du sol
 Diminution des cots en carburant et main d'uvre
 Amlioration de la structure du sol
 Augmentation de la matire organique

La couverture vgtale :
Elle joue un rle crucial dans la protection du sol. Les plantes de couverture empchent l'rosion, enrichissent le sol en azote, et suppriment les mauvaises herbes naturellement.

Mise en pratique :
1. Choisir des plantes de couverture adaptes (lgumineuses, gramines)
2. Laisser les rsidus en surface
3. Semer directement  travers le couvert
4. Observer et ajuster selon les rsultats`,images:["https://images.unsplash.com/photo-1574943320219-553eb213f72d?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1560493676-04071c5f467b?q=80&w=800&auto=format&fit=crop"]}},{title:"Rotation des cultures",type:"article",duration:25,payload:{text:`La rotation des cultures est une pratique ancestrale qui consiste  alterner diffrentes cultures sur une mme parcelle au fil des saisons.

Principes fondamentaux :
 Alterner les familles botaniques
 Varier les besoins nutritifs
 Rompre les cycles des ravageurs
 Amliorer la fertilit naturelle

Exemples de rotations efficaces :
Anne 1 : Lgumineuses (enrichissement en azote)
Anne 2 : Crales (consommation modre d'azote)
Anne 3 : Cultures sarcles (nettoyage du sol)
Anne 4 : Cultures de couverture

Bnfices mesurables :
 Rduction des maladies : 40-60%
 Augmentation du rendement : 10-25%
 Diminution des intrants chimiques : 30-50%

La rotation permet aussi de briser les cycles des adventices et des ravageurs spcifiques  certaines cultures.`,images:["https://images.unsplash.com/photo-1625246333195-78d9c38ad449?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1464226184884-fa280b87c399?q=80&w=800&auto=format&fit=crop"]}},{title:"Irrigation intelligente",type:"article",duration:20,payload:{text:`L'irrigation intelligente combine technologie et observation pour optimiser l'usage de l'eau.

Technologies disponibles :
 Capteurs d'humidit du sol
 Stations mto connectes
 Systmes d'irrigation goutte  goutte
 Programmateurs intelligents

Mthodes d'conomie d'eau :
1. Irrigation goutte  goutte : conomie de 30-50% d'eau
2. Paillage : rduction de l'vaporation de 70%
3. Arrosage tt le matin ou tard le soir
4. Adaptation aux besoins rels des plantes

Surveillance et ajustement :
Observer quotidiennement les plantes, vrifier l'humidit du sol  10-15cm de profondeur, ajuster selon les prvisions mto.`,images:["https://i.pinimg.com/736x/b4/e9/0b/b4e90bd5d84930c98696af64fe302f7c.jpg","https://images.unsplash.com/photo-1416879595882-3373a0480b5b?q=80&w=800&auto=format&fit=crop"]}},{title:"Quiz d'valuation",type:"quiz",duration:10,payload:{questions:[{question:"Quel est le principal avantage de la rotation des cultures ?",choices:["Augmenter l'usage des pesticides","Limiter maladies et parasites","Rduire la biodiversit","Augmenter la salinit du sol"],answerIndex:1},{question:"Quelle pratique aide  conomiser l'eau ?",choices:["Arrosage en plein soleil","Irrigation goutte  goutte","Inonder la parcelle","Arrosage alatoire"],answerIndex:1},{question:"Le paillage permet de...",choices:["Augmenter l'vaporation","Rduire l'vaporation et les adventices","Saliniser le sol","Remplacer l'eau"],answerIndex:1}]}}],participants:245},{_id:"2",title:"Dosage des engrais et phytosanitaires",description:"Fiche pratique dtaillant les calculs de dosages scuriss et efficaces.",category:"Fiches pratiques",type:"fiche",access:"premium",duration:45,thumbnail:"https://i.pinimg.com/736x/ad/f3/d8/adf3d86b4ca7a5533d788b0b14967676.jpg",lessons:[{title:"Principes de dosage",type:"article",duration:15,payload:{text:`Le dosage prcis des engrais et phytosanitaires est crucial pour l'efficacit et la scurit.

Formule de base :
Quantit ncessaire = Dose recommande (L/ha ou kg/ha)  Surface (ha)

Exemple pratique :
Pour traiter 0,5 hectare avec un produit dos  2 L/ha :
Quantit = 2 L/ha  0,5 ha = 1 litre

Calculs courants :
 Conversion m en ha : diviser par 10 000
 Pour 2500 m : 2500  10 000 = 0,25 ha
 Dose pour 0,25 ha  4 L/ha : 4  0,25 = 1 L

Points d'attention :
 Toujours lire l'tiquette du produit
 Respecter les doses homologues
 Tenir compte des conditions mto
 Calculer le volume de bouillie total`,images:["https://images.unsplash.com/photo-1530836369250-ef72a3f5cda8?q=80&w=800&auto=format&fit=crop","https://i.pinimg.com/736x/b4/e9/0b/b4e90bd5d84930c98696af64fe302f7c.jpg"]}},{title:"quipements de protection (EPI)",type:"article",duration:15,payload:{text:`La scurit lors de la manipulation de produits phytosanitaires est primordiale.

EPI obligatoires :
 Gants rsistants aux produits chimiques
 Masque respiratoire avec filtres adapts
 Lunettes ou visire de protection
 Combinaison tanche
 Bottes impermables

Procdure de mise en place :
1. Vrifier l'tat des EPI avant utilisation
2. S'habiller dans un ordre prcis (de bas en haut)
3. Vrifier l'tanchit de l'ensemble
4. Porter les EPI pendant toute la manipulation

Aprs utilisation :
 Retirer les EPI en vitant le contact avec la peau
 Laver les EPI rutilisables
 Se laver soigneusement les mains et le visage
 Ranger les EPI dans un endroit sec et ventil

Important : Ne jamais manger, boire ou fumer pendant la manipulation.`,images:["https://images.unsplash.com/photo-1591195853828-11db59a44f6c?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1581090464777-f3220bbe1b8b?q=80&w=800&auto=format&fit=crop"]}},{title:"Bonnes pratiques d'application",type:"article",duration:15,payload:{text:`L'application correcte des produits garantit efficacit et scurit environnementale.

Conditions optimales d'application :
 Temprature : 12-25C
 Vent : < 19 km/h (< 3 sur chelle Beaufort)
 Pas de pluie prvue dans les 3-6 heures
 Tt le matin ou fin d'aprs-midi

Prparation de la bouillie :
1. Remplir la cuve  moiti d'eau
2. Ajouter le produit progressivement
3. Complter avec de l'eau en agitant
4. Homogniser avant application

Traabilit :
Tenir un registre avec :
 Date et heure du traitement
 Produit utilis et dose
 Surface traite
 Conditions mto
 Raison du traitement

Gestion des emballages vides :
 Triple rinage dans la cuve
 Perforation pour viter la rutilisation
 Stockage en attente de collecte
 Remise au circuit de recyclage`,images:["https://images.unsplash.com/photo-1625246333195-78d9c38ad449?q=80&w=800&auto=format&fit=crop"]}},{title:"Quiz de scurit",type:"quiz",duration:5,payload:{questions:[{question:"Que signifie 2 L/ha ?",choices:["2 litres par hectare","2 litres par mtre carr","2 litres par parcelle","2 litres par semaine"],answerIndex:0},{question:"Pour 0,25 ha  4 L/ha, il faut...",choices:["1 L","2 L","0,5 L","4 L"],answerIndex:0},{question:"Quel EPI est recommand ?",choices:["Gants et masque","Tongs","Short","Aucun"],answerIndex:0}]}}],participants:189},{_id:"3",title:"Gestion intgre des ravageurs",description:"Stratgies IPM: prvention, surveillance et intervention raisonne.",category:"Protection des cultures",type:"fiche",access:"free",duration:40,thumbnail:"https://i.pinimg.com/736x/0f/a9/da/0fa9da2536e456c97da2e24d1246d826.jpg",lessons:[{title:"Principes de la lutte intgre",type:"article",duration:15,payload:{text:`La Gestion Intgre des Ravageurs (IPM) est une approche cologique et conomique de la protection des cultures.

Les 4 piliers de l'IPM :

1. Prvention
 Choix de varits rsistantes
 Rotation des cultures
 Hygine rigoureuse des parcelles
 Gestion de la fertilisation

2. Surveillance
 Observation rgulire des parcelles
 Piges  phromones
 Comptage des ravageurs
 Identification prcise

3. Seuils d'intervention
 Ne traiter que si ncessaire
 Seuils conomiques dfinis
 Dcision base sur l'observation
 Prise en compte des auxiliaires

4. Intervention raisonne
 Priorit aux mthodes biologiques
 Produits slectifs si ncessaire
 Doses et moments optimaux
 Alternance des matires actives`,images:["https://images.unsplash.com/photo-1530836369250-ef72a3f5cda8?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1592982537447-7440770cbfc9?q=80&w=800&auto=format&fit=crop"]}},{title:"Techniques de surveillance",type:"article",duration:12,payload:{text:`Une surveillance efficace est la cl d'une protection russie.

Mthodes de surveillance :

Pigeage :
 Piges chromatiques (jaunes, bleus)
 Piges  phromones sexuelles
 Piges alimentaires
 Relevs hebdomadaires

Observation directe :
 Parcourir 5 zones reprsentatives
 Observer 20 plantes par zone
 Examiner feuilles, tiges, fruits
 Noter stade de dveloppement

Indicateurs  surveiller :
 Prsence et densit de ravageurs
 Stades de dveloppement
 Dgts observs
 Prsence d'auxiliaires
 Conditions favorables

Cahier de suivi :
Consigner date, localisation, observations, dcisions prises.`,images:["https://images.unsplash.com/photo-1464226184884-fa280b87c399?q=80&w=800&auto=format&fit=crop"]}},{title:"Lutte biologique",type:"article",duration:13,payload:{text:`La lutte biologique utilise les ennemis naturels des ravageurs.

Principaux auxiliaires :

Prdateurs :
 Coccinelles : contre pucerons (50-100/jour)
 Araignes : contre divers insectes
 Chrysopes : contre pucerons, cochenilles

Parasitodes :
 Trichogrammes : contre chenilles
 Aphidius : contre pucerons

Favoriser les auxiliaires :
 Bandes fleuries en bordure de champ
 Haies diversifies
 Rduire les traitements chimiques
 Zones refuges (tas de pierres, bois)

Lchers d'auxiliaires :
Possible pour : coccinelles, chrysopes, trichogrammes
Moment : dbut d'infestation
Frquence : selon l'espce

Avantages :
 Pas de rsidus
 Pas de rsistance
 Action durable
 Gratuit (auxiliaires naturels)`,images:["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1563291069-9cc868219fdb?q=80&w=800&auto=format&fit=crop"]}}],participants:312},{_id:"4",title:"Irrigation efficiente  faible cot",description:"Tutoriel sur la micro-irrigation et la gestion de l'eau en priode sche.",category:"Irrigation",type:"tutoriel",access:"premium",duration:60,thumbnail:"https://i.pinimg.com/1200x/5e/e9/f3/5ee9f3590a98cd3b2d57cc0ea709a308.jpg",lessons:[{title:"Introduction  la micro-irrigation",type:"video",duration:12,payload:{url:"https://youtu.be/oYBocFbnNe0",thumbnail:"https://i.pinimg.com/1200x/5e/e9/f3/5ee9f3590a98cd3b2d57cc0ea709a308.jpg"}},{title:"Systmes de micro-irrigation",type:"article",duration:18,payload:{text:`La micro-irrigation permet d'conomiser jusqu' 50% d'eau tout en amliorant les rendements.

Types de systmes :

1. Goutte  goutte
 Goutteurs en ligne ou  la demande
 Dbit : 2-4 litres/heure
 Idal pour cultures en ligne
 Cot : 1000-3000 /ha

2. Micro-aspersion
 Jets fins en forme de parapluie
 Rayon : 1-3 mtres
 Bon pour cultures serres
 Cot : 1500-4000 /ha

3. Irrigation localise enterre
 Tuyaux poreux enterrs
 Trs efficace en zones arides
 Dure de vie : 10-15 ans
 Cot initial lev mais rentable

Composants essentiels :
 Tte de rseau (filtres, rgulateur)
 Rseau de distribution (tuyaux)
 Distributeurs (goutteurs, asperseurs)
 Vannes et robinets

Calcul des besoins :
Volume = Surface  ETc  Efficacit
ETc = vapotranspiration de la culture`,images:["https://images.unsplash.com/photo-1416879595882-3373a0480b5b?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1597633425046-08f5110420b5?q=80&w=800&auto=format&fit=crop"]}},{title:"Installation et maintenance",type:"article",duration:15,payload:{text:`Une installation correcte et un entretien rgulier garantissent la durabilit du systme.

tapes d'installation :

1. Planification
 Cartographie de la parcelle
 Calcul des dbits ncessaires
 Choix des quipements
 Plan du rseau

2. Installation
 Pose de la tte de rseau
 Droulement des tuyaux principaux
 Installation des rampes
 Mise en place des goutteurs
 Tests de pression

3. Rglages
 Ajustement de la pression (1-1,5 bar)
 Uniformit de distribution
 Dure d'irrigation
 Frquence selon culture

Maintenance rgulire :

Hebdomadaire :
 Vrifier goutteurs bouchs
 Contrler pression
 Observer uniformit

Mensuelle :
 Nettoyer filtres
 Vrifier fuites
 Tester vannes

Annuelle :
 Rinage acide du systme
 Remplacement pices uses
 Contrle complet

Problmes courants :
 Bouchage : rincer, filtrer mieux
 Fuites : rparer rapidement
 Pression irrgulire : vrifier rseau`,images:["https://images.unsplash.com/photo-1592982537447-7440770cbfc9?q=80&w=800&auto=format&fit=crop"]}},{title:"Planification des irrigations",type:"article",duration:15,payload:{text:`Une planification intelligente optimise l'eau et les rendements.

Besoins en eau par stade :

Tomate :
 Germination : 10-15 mm/semaine
 Croissance : 20-30 mm/semaine
 Floraison/fructification : 30-40 mm/semaine
 Maturation : 15-20 mm/semaine

Facteurs  considrer :
 Temprature (vapotranspiration)
 Pluie attendue
 Stade de la culture
 Type de sol
 Vent et humidit

Outils d'aide  la dcision :
 Sondes tensiomtriques (tension de l'eau)
 Sondes capacitives (% humidit)
 Stations mto (ETP)
 Applications mobiles

Calcul pratique :
Dose = (ETP  Kc  Surface) / Efficacit
ETP = vapotranspiration potentielle
Kc = Coefficient cultural

Exemple :
ETP = 5 mm/jour
Kc tomate en fructification = 1,2
Surface = 1 ha
Efficacit goutte  goutte = 90%

Dose = (5  1,2  10000) / 0,9 = 66 667 litres/ha/jour

Horaires optimaux :
 Tt le matin (5h-8h) : -30% vaporation
 Fin d'aprs-midi (17h-19h) : acceptable
 Jamais en plein soleil : vaporation maximale`,images:["https://images.unsplash.com/photo-1530836369250-ef72a3f5cda8?q=80&w=800&auto=format&fit=crop"]}}],participants:178},{_id:"5",title:"Compostage et fertilit des sols",description:"Fiche pratique sur la fabrication et l'usage du compost pour enrichir le sol.",category:"Fertilit des sols",type:"fiche",access:"free",duration:35,thumbnail:"https://i.pinimg.com/1200x/34/94/fb/3494fb78d2e23eefcfcb77e130f1c052.jpg",lessons:[{title:"Principes du compostage",type:"article",duration:12,payload:{text:`Le compost est un amendement organique prcieux, gratuit et cologique.

Qu'est-ce que le compostage ?
C'est la dcomposition de matires organiques par des micro-organismes en prsence d'oxygne, produisant un humus riche et stable.

Avantages du compost :
 Amliore structure du sol
 Augmente rtention d'eau (20-30%)
 Apporte nutriments progressivement
 Stimule vie microbienne
 Rduit dchets organiques

lments essentiels :

1. Matires carbones (brunes) - C
 Feuilles sches, paille
 Branchages broys
 Cartons non imprims
 Rapport C/N : 30/1

2. Matires azotes (vertes) - N
 Tontes de gazon
 Dchets de cuisine
 Fumiers frais
 Rapport C/N : 15/1

3. quilibre C/N idal : 25-30/1
Mix : 2/3 bruns + 1/3 verts

Conditions de russite :
 Temprature : 50-70C (phase active)
 Humidit : 50-60% (ponge essore)
 Aration : retournement rgulier
 Volume minimum : 1 m`,images:["https://images.unsplash.com/photo-1625246333195-78d9c38ad449?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1591025207163-942350e47db2?q=80&w=800&auto=format&fit=crop"]}},{title:"Fabrication du compost",type:"article",duration:13,payload:{text:`Un bon compost ncessite mthode et patience, mais le rsultat en vaut la peine !

Mthode en tas :

tape 1 : Prparation (Jour 0)
 Choisir emplacement ombrag
 Sol drainant, prs de la source d'eau
 Commencer par couche drainante (branches)

tape 2 : Montage en couches
Alterner :
1. 15-20 cm matires brunes
2. 5-10 cm matires vertes
3. Arroser lgrement
4. Rpter jusqu' 1,5 m de haut

tape 3 : Phase active (0-3 mois)
 Temprature monte  60-70C
 Retourner toutes les 2-3 semaines
 Vrifier humidit
 Ajouter eau si trop sec

tape 4 : Maturation (3-6 mois)
 Temprature redescend
 Retourner mensuellement
 Odeur de terre de fort
 Couleur brun fonc

 NE PAS composter :
 Viandes, poissons
 Produits laitiers
 Plantes malades
 Mauvaises herbes en graines
 Excrments d'animaux carnivores

Test de maturit :
 Aspect grumeleux, brun fonc
 Odeur agrable de sous-bois
 Temprature ambiante
 Matriaux non identifiables`,images:["https://images.unsplash.com/photo-1526401485004-2fda9f4a27d6?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1466692476868-aef1dfb1e735?q=80&w=800&auto=format&fit=crop"]}},{title:"Utilisation du compost",type:"article",duration:10,payload:{text:`Le compost mr est un trsor pour vos cultures. Voici comment l'utiliser efficacement.

Dosages recommands :

Potager :
 3-5 kg/m incorpor avant plantation
 2-3 cm en paillage
 Application annuelle

Vergers :
 10-15 kg/arbre adulte
 En couronne autour du tronc
 Automne ou printemps

Grandes cultures :
 20-40 tonnes/ha
 Tous les 2-3 ans
 Avant labour ou en surface

Mthodes d'application :

1. Incorporation lgre
 Mlanger aux premiers 10-15 cm
 Avec griffe ou motoculteur
 Ne pas enterrer profondment

2. Paillage de surface
 Couche de 2-3 cm
 Protge et nourrit
 Rduit arrosage

3. Th de compost
 1 kg compost dans 10 L eau
 Laisser macrer 24-48h
 Diluer 1:10 pour arrosage

Bnfices mesurs :
 Rendement : +15-30%
 Rtention d'eau : +25%
 Germination : +20%
 Vie du sol : x5

Prcautions :
 Ne pas surdoser (salinit)
 Compost bien mr uniquement
 viter contact direct avec graines`,images:["https://images.unsplash.com/photo-1464226184884-fa280b87c399?q=80&w=800&auto=format&fit=crop"]}}],participants:267},{_id:"6",title:"Scurit phytosanitaire et EPI",description:"Tutoriel sur le port des quipements de protection individuelle et les bonnes pratiques.",category:"Scurit",type:"tutoriel",access:"premium",duration:50,thumbnail:"https://i.pinimg.com/1200x/33/08/5c/33085cd8206cbfcd07c4b4a60bea9993.jpg",lessons:[{title:"Introduction  la scurit",type:"video",duration:10,payload:{url:"https://youtu.be/oYBocFbnNe0",thumbnail:"https://i.pinimg.com/1200x/33/08/5c/33085cd8206cbfcd07c4b4a60bea9993.jpg"}},{title:"Les EPI indispensables",type:"article",duration:15,payload:{text:`La protection individuelle est votre premire ligne de dfense contre les produits chimiques.

EPI obligatoires par zone protge :

1. Protection respiratoire 
 Masque  cartouches filtrantes
 Cartouches A2P3 pour phytos
 Demi-masque ou masque complet
 Remplacer selon utilisation

2. Protection des mains 
 Gants nitrile ou noprne
 Non poudrs, longue manchette
 Vrifier absence de trous
 Changer ds perforation

3. Protection des yeux 
 Lunettes ou cran facial
 Joints tanches
 Anti-bue
 Nettoyer aprs usage

4. Protection du corps 
 Combinaison type 3 ou 4
 tanche aux liquides
 Avec capuche
  usage unique ou lavable

5. Protection des pieds 
 Bottes PVC ou caoutchouc
 Impermables
 Faciles  nettoyer
 Semelles antidrapantes

Ordre d'habillage :
1. Lire l'tiquette du produit
2. Bottes
3. Combinaison
4. Masque (ajuster sangles)
5. Lunettes
6. Gants (par-dessus manchettes)

Stockage des EPI :
 Lieu sec et ventil
  l'abri du soleil
 Spar des produits
 Contrle rgulier de l'tat`,images:["https://images.unsplash.com/photo-1581090464777-f3220bbe1b8b?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1584308972272-9e4e7685e80f?q=80&w=800&auto=format&fit=crop"]}},{title:"Prparation scurise",type:"article",duration:12,payload:{text:`La phase de prparation est la plus dangereuse : concentration maximale du produit.

Zone de prparation :
 Extrieur ou local ventil
 Sol impermable
 Point d'eau proche
 Trousse de premiers secours
 Fiche de donnes de scurit (FDS)

tapes de prparation :

1. Avant de commencer
 Lire l'tiquette compltement
 Vrifier compatibilit des produits
 Calculer dose exacte
 Prparer matriel de mesure
 Porter tous les EPI

2. Remplissage de la cuve
 Remplir cuve  1/3 d'eau
 Mettre agitateur en marche
 Verser produit lentement
 Ne jamais souffler dans les buses
 Complter avec de l'eau

3. Pendant la prparation
 Ne jamais manger ou boire
 Ne pas fumer
 viter claboussures
 Travailler au-dessus cuve
 Fermer emballages entre doses

4. Aprs la prparation
 Rincer bidons (triple rinage)
 Verser eau de rinage dans cuve
 Fermer hermtiquement la cuve
 Nettoyer zone de prparation
 Se laver les mains (avec gants)

En cas d'incident :
 15 (SAMU) ou 112 (Urgences)
Avoir sous la main : tiquette produit + FDS`,images:["https://images.unsplash.com/photo-1530836369250-ef72a3f5cda8?q=80&w=800&auto=format&fit=crop"]}},{title:"Aprs-traitement et dcontamination",type:"article",duration:13,payload:{text:`La dcontamination correcte prvient l'exposition rsiduelle et la contamination croise.

Procdure de dcontamination :

1. Rincer le matriel
 Vider fond de cuve au champ trait
 Rincer pulvrisateur (3 fois)
 Nettoyer filtres et buses
 Vrifier absence de dpts

2. Retirer les EPI (ordre inverse)
1. Retirer gants extrieurs
2. Enlever bottes
3. Retirer combinaison (rouler vers extrieur)
4. Enlever lunettes
5. Retirer masque (ne pas toucher filtre)
6. Retirer gants intrieurs

3. Nettoyage des EPI rutilisables
 Laver gants et bottes  l'eau savonneuse
 Rincer abondamment
 Faire scher  l'air libre
 Vrifier tat avant rangement

4. Hygine corporelle
 Douche complte obligatoire
 Savon et shampoing
 Changer tous les vtements
 Laver vtements sparment

Gestion des dchets :

Emballages vides :
 Triple rinage dans la cuve
 Perforation pour inutilisation
 Stockage temporaire scuris
 Remise au collecteur agr

EPI  usage unique :
 Ne jamais rutiliser
 Sac ferm hermtiquement
 Filire d'limination spcialise

Eaux de rinage :
 Jamais dans gouts/rivires
 pandage au champ trait
 Ou systme de traitement

Premiers secours :

Contact peau :
Enlever vtements, laver 15 min eau + savon

Projection yeux :
Rincer 15 min  l'eau claire, paupires ouvertes

Inhalation :
Sortir au grand air, position semi-assise

Ingestion :
Ne pas faire vomir, donner  boire

 Appeler centre antipoison : 01 40 05 48 48
Avoir l'tiquette du produit !`,images:["https://images.unsplash.com/photo-1576091160550-2173dba999ef?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1587825140708-dfaf72ae4b04?q=80&w=800&auto=format&fit=crop"]}},{title:"Quiz de scurit final",type:"quiz",duration:5,payload:{questions:[{question:"Quel EPI protge les voies respiratoires ?",choices:["Gants","Bottes","Masque  cartouches","Lunettes"],answerIndex:2},{question:"Aprs traitement, il faut...",choices:["Jeter les EPI","Se doucher et nettoyer le matriel","Dormir","Manger"],answerIndex:1},{question:"Le triple rinage des emballages sert ...",choices:["Dcorer","Rcuprer le produit et dcontaminer","Perdre du temps","Rien"],answerIndex:1}]}}],participants:203}]),B=(L,X,T)=>{I(Z=>({...Z,[L]:{...Z[L]||{},[X]:T}}))},F=(L,X,T)=>{const Z=O[L]||{};let ue=0;T.forEach((we,Ne)=>{Z[Ne]===we.answerIndex&&ue++});const oe=Math.round(ue/T.length*100);k(we=>({...we,[L]:{correct:ue,total:T.length,percent:oe}})),oe>=70?(K(L,X),alert(`Flicitations ! Vous avez russi le quiz avec ${oe}%`)):alert(`Score: ${oe}%. Rvisez et ressayez (minimum 70% requis)`)},D=L=>(L==null?void 0:L.lessons)||[],$=(L,X,T)=>{const Z=X.length||1,ue=Object.values(T||{}).filter(Boolean).length,oe=Math.round(ue/Z*100);E(we=>({...we,[L]:oe}))},z=L=>{S.includes(L)||P(X=>[...X,L]),N(X=>{const T={...X};return T[L]||(T[L]={current:0,completed:{}}),T})},K=(L,X)=>{N(T=>{const Z=T[L]||{current:0,completed:{}},ue={...T,[L]:{current:Math.max(Z.current,X),completed:{...Z.completed,[X]:!0}}},oe=A.find(we=>we._id===L);return $(L,D(oe),ue[L].completed),ue})},U=(L,X,T)=>{const Z=Math.max(0,Math.min(X.length-1,T));j(Z),N(ue=>{const oe=ue[L]||{current:0,completed:{}};return{...ue,[L]:{...oe,current:Z}}})},q=L=>{const X=C[L]||0;return X===100?"completed":X>0?"in_progress":(S.includes(L),"available")},te=ve.useMemo(()=>{const L=(e||"").toLowerCase();return A.filter(X=>{var T,Z;return!L||((T=X.title)==null?void 0:T.toLowerCase().includes(L))||((Z=X.description)==null?void 0:Z.toLowerCase().includes(L))}).filter(X=>r==="all"||X.category===r).filter(X=>a==="all"||X.type===a).filter(X=>o==="all"||X.access===o).filter(X=>{const T=q(X._id);return c==="all"||c==="available"&&T==="available"||c==="in_progress"&&T==="in_progress"||c==="completed"&&T==="completed"})},[A,c,C,e,r,a,o,S]),W=L=>{v(L),N(X=>X[L._id]?X:{...X,[L._id]:{current:0,completed:{}}}),p(!0)},ie=()=>{p(!1),v(null)},le=L=>{v(L);const X=D(L),T=w[L._id]||{current:0};j(Math.min(T.current||0,Math.max(X.length-1,0))),p(!1),b(!0)},se=()=>{b(!1),v(null)},V=L=>{t(L.target.value)},_=L=>{s(L.target.value)},H=L=>{switch(L){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},J=L=>{switch(L){case"completed":return"Termine";case"in_progress":return"En cours";default:return"Disponible"}},G=L=>{const X=Math.ceil(L/60);return X>1?`${X} heures`:`${X} heure`},ce=[...new Set(A.map(L=>L.category))].filter(L=>L);return n.jsx(bn,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center",children:[n.jsx(wn,{className:"w-8 h-8 text-green-600 mr-3"}),"Espace Formations"]}),n.jsx("p",{className:"text-lg text-gray-600",children:"Dveloppez vos comptences avec nos modules de formation."})]}),n.jsxs("button",{onClick:()=>m(!d),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(va,{className:"w-5 h-5"}),n.jsx("span",{children:"Filtres"})]})]}),d&&n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",value:e,onChange:V})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",value:r,onChange:_,children:[n.jsx("option",{value:"all",children:"Toutes catgories"}),ce.map(L=>n.jsx("option",{value:L,children:L},L))]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",value:a,onChange:L=>i(L.target.value),children:[n.jsx("option",{value:"all",children:"Tous types"}),n.jsx("option",{value:"tutoriel",children:"Tutoriels"}),n.jsx("option",{value:"fiche",children:"Fiches"})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",value:o,onChange:L=>l(L.target.value),children:[n.jsx("option",{value:"all",children:"Tous accs"}),n.jsx("option",{value:"free",children:"Gratuit"}),n.jsx("option",{value:"premium",children:"Premium"})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",value:c,onChange:L=>u(L.target.value),children:[n.jsx("option",{value:"all",children:"Tous statuts"}),n.jsx("option",{value:"available",children:"Disponible"}),n.jsx("option",{value:"in_progress",children:"En cours"}),n.jsx("option",{value:"completed",children:"Termine"})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:te.map(L=>{const X=q(L._id),T=C[L._id]||0,Z=D(L);return n.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow overflow-hidden border border-gray-200",children:[n.jsx("div",{className:"h-48 w-full bg-gray-100 overflow-hidden",children:n.jsx("img",{src:L.thumbnail,alt:L.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"flex justify-between items-start mb-2",children:n.jsx("h3",{className:"text-xl font-bold text-gray-800 leading-snug flex-1",children:L.title})}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[n.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${H(X)}`,children:J(X)}),n.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${L.access==="premium"?"bg-purple-100 text-purple-800":"bg-emerald-100 text-emerald-800"}`,children:L.access==="premium"?"Premium":"Gratuit"}),n.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${L.type==="tutoriel"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:L.type==="tutoriel"?"Tutoriel":"Fiche"})]}),n.jsx("p",{className:"text-gray-700 mb-3 text-sm line-clamp-2",children:L.description}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(xu,{className:"w-4 h-4 mr-1 text-blue-600"}),n.jsxs("span",{children:[Z.length," leons"]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx($r,{className:"w-4 h-4 mr-1 text-orange-600"}),n.jsx("span",{children:G(L.duration)})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"w-4 h-4 mr-1 text-green-600"}),n.jsx("span",{children:L.participants})]})]}),(X==="in_progress"||X==="completed")&&n.jsxs("div",{className:"mb-3",children:[n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-green-600 h-2.5 rounded-full transition-all duration-500",style:{width:`${T}%`}})}),n.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[n.jsxs("span",{children:[T,"%"]}),n.jsxs("span",{children:[Z.length," leons"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("button",{onClick:()=>W(L),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Dtails"}),X==="available"?n.jsxs("button",{onClick:()=>{z(L._id),le(L)},className:"flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[n.jsx(Op,{className:"w-4 h-4"}),n.jsx("span",{children:"Dbuter"})]}):n.jsxs("button",{onClick:()=>le(L),className:"flex items-center justify-center space-x-2 px-4 py-2 border border-blue-500 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors text-sm",children:[n.jsx(Op,{className:"w-4 h-4"}),n.jsx("span",{children:"Continuer"})]})]})]})]},L._id)})}),f&&x&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:ie}),n.jsxs("div",{className:"relative bg-white w-full max-w-3xl rounded-2xl shadow-xl overflow-hidden max-h-[90vh] flex flex-col",children:[n.jsx("div",{className:"h-64 w-full bg-gray-100 overflow-hidden flex-shrink-0",children:n.jsx("img",{src:x.thumbnail,alt:x.title,className:"w-full h-full object-cover"})}),n.jsx("button",{className:"absolute top-3 right-3 bg-white rounded-full p-2 hover:bg-gray-100",onClick:ie,children:n.jsx(or,{className:"w-5 h-5"})}),n.jsxs("div",{className:"p-6 overflow-y-auto",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:x.title}),n.jsx("p",{className:"text-gray-700 mb-4",children:x.description}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600 mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx($r,{className:"w-4 h-4 mr-2 text-orange-600"}),G(x.duration)]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"w-4 h-4 mr-2 text-green-600"}),x.participants," inscrits"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(xu,{className:"w-4 h-4 mr-2 text-blue-600"}),D(x).length," leons"]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:ie,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Fermer"}),n.jsx("button",{onClick:()=>{z(x._id),le(x)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Dbuter"})]})]})]})]}),g&&x&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:se}),n.jsxs("div",{className:"relative bg-white w-full max-w-6xl h-[90vh] rounded-2xl shadow-xl overflow-hidden grid grid-cols-12",children:[n.jsxs("div",{className:"col-span-3 h-full border-r overflow-y-auto",children:[n.jsxs("div",{className:"p-4 flex items-center justify-between border-b",children:[n.jsx("h4",{className:"font-semibold text-gray-800",children:"Sommaire"}),n.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:se,children:n.jsx(or,{className:"w-5 h-5"})})]}),(()=>{const L=D(x),X=w[x._id]||{completed:{}};return n.jsx("ul",{className:"divide-y",children:L.map((T,Z)=>n.jsxs("li",{className:`p-3 cursor-pointer hover:bg-gray-50 ${Z===y?"bg-blue-50":""}`,onClick:()=>U(x._id,L,Z),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[T.type==="video"?n.jsx(KT,{className:"w-4 h-4 text-red-500"}):T.type==="quiz"?n.jsx(ar,{className:"w-4 h-4 text-purple-500"}):n.jsx(QE,{className:"w-4 h-4 text-blue-500"}),n.jsx("span",{className:"text-sm text-gray-800 line-clamp-2",children:T.title})]}),X.completed[Z]&&n.jsx(ar,{className:"w-4 h-4 text-green-600"})]}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[T.duration," min"]})]},Z))})})()]}),n.jsx("div",{className:"col-span-9 h-full overflow-y-auto flex flex-col",children:(()=>{const L=D(x),X=w[x._id]||{completed:{}},T=C[x._id]||0,Z=L.length>0,ue=Z?Math.max(0,Math.min(L.length-1,y)):0,oe=Z?L[ue]:null;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border-b flex-shrink-0",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:x.title}),n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-green-600 h-2.5 rounded-full transition-all",style:{width:`${T}%`}})}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[n.jsxs("span",{children:[T,"%"]}),n.jsxs("span",{children:[L.length," leons"]})]})]})]}),n.jsx("div",{className:"p-6 flex-1 overflow-auto",children:Z?oe.type==="video"?n.jsxs("div",{children:[(()=>{const we=oe.payload.url||"",Ne=/youtu\.be|youtube\.com/.test(we);if(!we)return n.jsx("div",{className:"w-full h-64 bg-gray-200 rounded-lg flex items-center justify-center text-gray-500 mb-4",children:"Aucune vido fournie"});if(Ne){let Le=null;const ge=we.match(/(?:youtu\.be\/|v=)([\w-]{11})/);ge&&ge[1]&&(Le=ge[1]);const Pe=Le?`https://www.youtube.com/embed/${Le}`:we.replace("watch?v=","embed/").replace("youtu.be/","www.youtube.com/embed/");return n.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden bg-black mb-4",children:n.jsx("iframe",{src:Pe,title:"YouTube video player",className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})}return n.jsxs("video",{controls:!0,className:"w-full max-h-[60vh] rounded-lg bg-black mb-4",children:[n.jsx("source",{src:we,type:"video/mp4"}),"Votre navigateur ne supporte pas la vido HTML5."]})})(),oe.payload.thumbnail&&n.jsx("img",{src:oe.payload.thumbnail,alt:"Aperu",className:"w-full rounded-lg mt-4"})]}):oe.type==="article"?n.jsxs("article",{className:"prose max-w-none",children:[n.jsx("div",{className:"whitespace-pre-wrap text-gray-800 leading-relaxed mb-6",children:oe.payload.text}),oe.payload.images&&oe.payload.images.length>0&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:oe.payload.images.map((we,Ne)=>n.jsx("img",{src:we,alt:`Illustration ${Ne+1}`,className:"w-full rounded-lg shadow-md"},Ne))})]}):oe.type==="quiz"?n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quiz d'valuation"}),n.jsx("div",{className:"space-y-4",children:oe.payload.questions.map((we,Ne)=>{const Le=(O[x._id]||{})[Ne];return n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"font-medium text-gray-800 mb-3",children:[Ne+1,". ",we.question]}),n.jsx("div",{className:"space-y-2",children:we.choices.map((ge,Pe)=>n.jsxs("label",{className:"flex items-center gap-2 text-gray-700 cursor-pointer hover:bg-white p-2 rounded",children:[n.jsx("input",{type:"radio",name:`q-${Ne}`,checked:Le===Pe,onChange:()=>B(x._id,Ne,Pe),className:"w-4 h-4 text-green-600"}),n.jsx("span",{children:ge})]},Pe))})]},Ne)})}),n.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[n.jsx("button",{onClick:()=>F(x._id,y,oe.payload.questions),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Valider le quiz"}),M[x._id]&&n.jsxs("div",{className:`text-sm font-medium px-4 py-2 rounded-lg ${M[x._id].percent>=70?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:["Score: ",M[x._id].correct,"/",M[x._id].total," (",M[x._id].percent,"%)"]})]})]}):null:n.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500",children:"Aucun contenu disponible"})}),n.jsxs("div",{className:"p-4 border-t flex items-center justify-between gap-2 flex-shrink-0 bg-gray-50",children:[n.jsxs("button",{disabled:!Z||ue<=0,onClick:()=>U(x._id,L,ue-1),className:`flex items-center gap-2 px-4 py-2 border rounded-lg ${!Z||ue<=0?"text-gray-400 cursor-not-allowed border-gray-200":"text-gray-700 hover:bg-white border-gray-300"}`,children:[n.jsx(EE,{className:"w-4 h-4"})," Prcdent"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[Z&&!X.completed[ue]&&n.jsx("button",{onClick:()=>K(x._id,ue),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:"Marquer comme termin"}),Z&&X.completed[ue]&&n.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[n.jsx(ar,{className:"w-4 h-4"})," Termin"]})]}),n.jsxs("button",{disabled:!Z||ue>=L.length-1,onClick:()=>U(x._id,L,ue+1),className:`flex items-center gap-2 px-4 py-2 border rounded-lg ${!Z||ue>=L.length-1?"text-gray-400 cursor-not-allowed border-gray-200":"text-gray-700 hover:bg-white border-gray-300"}`,children:["Suivant ",n.jsx(OE,{className:"w-4 h-4"})]})]})]})})()})]})]})]})})})},B8=({onClose:e})=>{const[t,r]=h.useState(!1),[s,a]=h.useState(!1),i=Mt();mt();const o=[{path:"/delivery/dashboard",label:"Tableau de bord",icon:w0,description:"Vue d'ensemble"},{path:"/delivery/deliveries",label:"Livraisons",icon:rn,description:"Mes livraisons"},{path:"/delivery/history",label:"Historique",icon:$r,description:"Historique des livraisons"},{path:"/delivery/statistics",label:"Statistiques",icon:Ts,description:"Suivi des performances"}],l=u=>i.pathname===u,c=()=>{pn.logout()};return n.jsxs("div",{className:`bg-white shadow-lg transition-all duration-300 ${t?"w-20":"w-64"} h-screen flex flex-col border-r border-gray-200`,children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[!t&&n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("img",{src:bl,alt:"AgriTeranga",className:"h-10 w-auto object-contain"})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("button",{onClick:()=>r(!t),className:"hidden lg:block p-2 hover:bg-gray-100 rounded-lg transition-colors",title:t?"Dplier":"Rduire",children:n.jsx("svg",{className:`w-5 h-5 text-gray-600 transition-transform ${t?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),e&&n.jsx("button",{onClick:e,className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Fermer",children:n.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),n.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:n.jsx("div",{className:"space-y-2",children:o.map(u=>{const d=u.icon,m=l(u.path);return n.jsxs(xe,{to:u.path,className:`group flex items-center px-3 py-2 rounded-lg transition-colors ${m?"bg-green-50 text-green-700 border-r-2 border-green-700":"text-gray-700 hover:bg-gray-50"}`,title:t?u.label:"",children:[n.jsx(d,{className:`w-5 h-5 ${m?"text-green-700":"text-gray-500"} ${t?"":"mr-3"}`}),!t&&n.jsx("span",{className:"flex-1 font-medium",children:u.label}),t&&n.jsxs("div",{className:"absolute left-20 bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap",children:[n.jsx("div",{className:"font-medium",children:u.label}),n.jsx("div",{className:"text-xs text-gray-300",children:u.description})]})]},u.path)})})}),n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsx("div",{className:"space-y-2",children:n.jsxs("button",{onClick:()=>a(!0),className:"group w-full flex items-center text-red-600 hover:bg-red-50 rounded-lg transition-colors px-3 py-2",title:t?"Dconnexion":"",children:[n.jsx(Aa,{className:`w-5 h-5 ${t?"":"mr-3"}`}),!t&&n.jsx("span",{className:"font-medium",children:"Dconnexion"}),t&&n.jsx("div",{className:"absolute left-20 bg-gray-800 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap",children:"Dconnexion"})]})})}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Confirmer la dconnexion"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"tes-vous sr de vouloir vous dconnecter ?"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),n.jsx("button",{onClick:c,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Se dconnecter"})]})]})})]})},q8=({onLogout:e})=>{const t=mt(),[r,s]=h.useState(!1),[a,i]=h.useState(!1),[o,l]=h.useState(!1),[c,u]=h.useState(!1),[d,m]=h.useState(""),[f,p]=h.useState(""),[g,b]=h.useState(null),[x,v]=h.useState(!1),[y,j]=h.useState("profile"),[w,N]=h.useState([]),[S,P]=h.useState(0),[C,E]=h.useState(!1),[O,I]=h.useState(Date.now()),[M,k]=h.useState({firstName:"",lastName:"",email:"",phone:"",address:"",profilePicture:null}),[A,B]=h.useState(""),[F,D]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""}),$=async()=>{try{v(!0);const V=await ne.getMyProfile();if(V.status==="success"&&V.data){const _=V.data.user||V.data;b(_),k({firstName:_.firstName||"",lastName:_.lastName||"",email:_.email||"",phone:_.phone||"",address:_.address||"",profilePicture:null});const H=_.profilePicture?Qt(_.profilePicture):"",J=H?`${H}${H.includes("?")?"&":"?"}v=${Date.now()}`:"";m(J),B(J);const ce=((_.firstName||"")+" "+(_.lastName||"")).trim();p(ce||_.name||"Livreur"),localStorage.setItem("deliveryDashboardUser",JSON.stringify(_))}}catch(V){console.error("Erreur lors du chargement du profil:",V),re.error("Erreur lors du chargement du profil")}finally{v(!1)}},z=h.useCallback(async(V=!1)=>{try{E(!0);const _=await ne.getAvailableDeliveries(1,20);if(_.status==="success"&&_.data){const J=(_.data.deliveries||_.data.docs||[]).map(L=>{var Ne,Le,ge,Pe,rt,Je,Ze,vt,R,pe,ke;const X=((Ne=L.order)==null?void 0:Ne._id)||L.orderId||L._id,T=((Le=L.order)==null?void 0:Le.orderNumber)||L.orderNumber||(X==null?void 0:X.slice(-6)),Z=(ge=L.order)!=null&&ge.customer?`${L.order.customer.firstName||""} ${L.order.customer.lastName||""}`.trim():"Client",ue=((Pe=L.deliveryAddress)==null?void 0:Pe.city)||((Je=(rt=L.order)==null?void 0:rt.deliveryAddress)==null?void 0:Je.city)||"Non spcifi",oe=((Ze=L.deliveryAddress)==null?void 0:Ze.district)||((R=(vt=L.order)==null?void 0:vt.deliveryAddress)==null?void 0:R.district)||"",we=((pe=L.order)==null?void 0:pe.totalAmount)||L.totalAmount||0;return{id:L._id,type:"new_order",title:"Nouvelle commande disponible",message:`Commande #${T}`,customerName:Z,location:oe?`${oe}, ${ue}`:ue,amount:`${we.toLocaleString()} CFA`,timestamp:L.createdAt||((ke=L.order)==null?void 0:ke.createdAt)||new Date().toISOString(),isRead:!1,data:L,priority:L.priority||"normal"}}),G=new Set(w.map(L=>L.id));if(J.some(L=>!G.has(L.id))&&V&&w.length>0){const L=J.filter(X=>!G.has(X.id)).length;re.info(` ${L} nouvelle${L>1?"s":""} commande${L>1?"s":""} disponible${L>1?"s":""} !`,{position:"top-right",autoClose:5e3,onClick:()=>{i(!0)}})}N(J),P(J.filter(L=>!L.isRead).length),I(Date.now())}}catch(_){console.error("Erreur lors du chargement des notifications:",_)}finally{E(!1)}},[w]),K=V=>{N(_=>_.map(H=>H.id===V?{...H,isRead:!0}:H)),P(_=>Math.max(0,_-1))},U=()=>{N(V=>V.map(_=>({..._,isRead:!0}))),P(0)},q=V=>{K(V.id),i(!1),V.data&&t("/delivery/available",{state:{highlightId:V.id}})},te=V=>{const _=new Date,H=new Date(V),J=Math.floor((_-H)/1e3);return J<60?" l'instant":J<3600?`Il y a ${Math.floor(J/60)} min`:J<86400?`Il y a ${Math.floor(J/3600)} h`:`Il y a ${Math.floor(J/86400)} j`};h.useEffect(()=>{$(),z(!1)},[]),h.useEffect(()=>{const V=setInterval(()=>{z(!0)},15e3);return()=>clearInterval(V)},[z]),h.useEffect(()=>{try{const V=localStorage.getItem("deliveryDashboardUser")||localStorage.getItem("user"),_=V?JSON.parse(V):g,H=_!=null&&_.profilePicture?Qt(_.profilePicture):"",J=H?`${H}${H.includes("?")?"&":"?"}v=${Date.now()}`:"";m(J);const ce=(((_==null?void 0:_.firstName)||(_==null?void 0:_.first_name)||(_==null?void 0:_.prenom)||"")+" "+((_==null?void 0:_.lastName)||(_==null?void 0:_.last_name)||(_==null?void 0:_.nom)||"")).trim();p(ce||(_==null?void 0:_.name)||"Livreur")}catch{const V=g!=null&&g.profilePicture?Qt(g.profilePicture):"",_=V?`${V}${V.includes("?")?"&":"?"}v=${Date.now()}`:"";m(_);const J=(((g==null?void 0:g.firstName)||"")+" "+((g==null?void 0:g.lastName)||"")).trim();p(J||(g==null?void 0:g.name)||"Livreur")}},[g]);const W=()=>{try{e&&e()}catch{}pn.logout()},ie=V=>{const _=V.target.files[0];if(_){if(_.size>5*1024*1024){re.error("La taille de l'image ne doit pas dpasser 5 Mo");return}k({...M,profilePicture:_});const H=new FileReader;H.onloadend=()=>{B(H.result)},H.readAsDataURL(_)}},le=async V=>{V.preventDefault();try{v(!0);const _=new FormData;_.append("firstName",M.firstName),_.append("lastName",M.lastName),_.append("email",M.email),_.append("phone",M.phone),M.address&&_.append("address",M.address),M.profilePicture&&_.append("profilePicture",M.profilePicture),(await ne.updateProfile(_)).status==="success"&&(re.success("Profil mis  jour avec succs"),await $(),l(!1))}catch(_){console.error("Erreur lors de la mise  jour du profil:",_),re.error(_.message||"Erreur lors de la mise  jour du profil")}finally{v(!1)}},se=async V=>{if(V.preventDefault(),F.newPassword!==F.confirmPassword){re.error("Les mots de passe ne correspondent pas");return}if(F.newPassword.length<6){re.error("Le mot de passe doit contenir au moins 6 caractres");return}try{v(!0),(await ne.changePassword({currentPassword:F.currentPassword,newPassword:F.newPassword,confirmPassword:F.confirmPassword})).status==="success"&&(re.success("Mot de passe modifi avec succs"),D({currentPassword:"",newPassword:"",confirmPassword:""}),l(!1))}catch(_){console.error("Erreur lors du changement de mot de passe:",_),re.error(_.message||"Erreur lors du changement de mot de passe")}finally{v(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-end gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>{i(!a),s(!1)},className:"relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(Ns,{className:`w-5 h-5 ${S>0?"text-green-600 animate-pulse":""}`}),S>0&&n.jsx("span",{className:"absolute top-0 right-0 flex items-center justify-center h-5 w-5 text-xs font-bold text-white bg-red-500 rounded-full animate-bounce",children:S>9?"9+":S})]}),a&&n.jsxs("div",{className:"absolute right-0 top-14 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-[600px] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-white",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Dernire mise  jour: ",te(O)]})]}),S>0&&n.jsx("button",{onClick:U,className:"text-sm text-green-600 hover:text-green-700 font-medium px-3 py-1 rounded-md hover:bg-green-50 transition-colors",children:"Tout marquer"})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:C?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(sf,{className:"w-6 h-6 text-green-600 animate-spin"})}):w.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center px-4",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:n.jsx(qe,{className:"w-10 h-10 text-gray-300"})}),n.jsx("p",{className:"text-gray-700 font-medium",children:"Aucune commande disponible"}),n.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Les nouvelles commandes apparatront ici"})]}):n.jsx("div",{className:"divide-y divide-gray-100",children:w.map(V=>n.jsx("div",{onClick:()=>q(V),className:`p-4 hover:bg-gray-50 cursor-pointer transition-all ${V.isRead?"":"bg-green-50 border-l-4 border-green-500"}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`p-2.5 rounded-full flex-shrink-0 ${V.isRead?"bg-gray-100":"bg-green-100"}`,children:n.jsx(qe,{className:`w-5 h-5 ${V.isRead?"text-gray-600":"text-green-600"}`})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("p",{className:`text-sm font-semibold ${V.isRead?"text-gray-700":"text-gray-900"}`,children:V.title}),!V.isRead&&n.jsx("span",{className:"flex-shrink-0 w-2 h-2 bg-green-600 rounded-full mt-1.5"})]}),n.jsx("p",{className:"text-sm text-gray-800 font-medium mt-1",children:V.message}),n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[n.jsx(Et,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:V.customerName})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[n.jsx(Ko,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:V.location})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-gray-100",children:[n.jsx("span",{className:"text-sm font-semibold text-green-600",children:V.amount}),n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[n.jsx($r,{className:"w-3 h-3"}),n.jsx("span",{children:te(V.timestamp)})]})]})]})]})},V.id))})}),n.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:n.jsx("button",{onClick:()=>{i(!1),t("/delivery/available")},className:"w-full text-sm text-green-600 hover:text-green-700 font-medium text-center py-2 rounded-md hover:bg-green-50 transition-colors",children:"Voir toutes les commandes disponibles "})})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:f||"Livreur"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Livreur"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>{s(!r),i(!1)},className:"relative group",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-green-600 flex items-center justify-center overflow-hidden cursor-pointer hover:bg-green-700 transition-colors ring-2 ring-white shadow-lg group-hover:ring-green-400",children:d?n.jsx("img",{src:d,alt:"Avatar",className:"w-full h-full object-cover"}):n.jsx(Et,{className:"w-6 h-6 text-white"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-white rounded-full flex items-center justify-center shadow-md group-hover:bg-gray-50",children:n.jsx(Lr,{className:"w-3 h-3 text-gray-600 group-hover:text-gray-800"})})]}),r&&n.jsx("div",{className:"absolute right-0 top-14 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:n.jsxs("div",{className:"py-1",children:[n.jsxs("button",{onClick:()=>{l(!0),s(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[n.jsx(Lr,{className:"w-4 h-4 mr-3"}),"Mon profil"]}),n.jsx("hr",{className:"my-1"}),n.jsxs("button",{onClick:()=>{u(!0),s(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[n.jsx(Aa,{className:"w-4 h-4 mr-3"}),"Dconnexion"]})]})})]})]})]})}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Confirmer la dconnexion"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"tes-vous sr de vouloir vous dconnecter ?"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),n.jsx("button",{onClick:W,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Se dconnecter"})]})]})}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Mon Profil"}),n.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(or,{className:"w-5 h-5 text-gray-500"})})]}),n.jsx("div",{className:"border-b border-gray-200 px-6",children:n.jsxs("nav",{className:"flex space-x-8",children:[n.jsx("button",{onClick:()=>j("profile"),className:`py-4 px-1 border-b-2 font-medium text-sm ${y==="profile"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Informations personnelles"}),n.jsx("button",{onClick:()=>j("password"),className:`py-4 px-1 border-b-2 font-medium text-sm ${y==="password"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Scurit"})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[y==="profile"&&n.jsxs("form",{onSubmit:le,className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col items-center mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:A?n.jsx("img",{src:A,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx(Et,{className:"w-16 h-16 text-gray-400"})}),n.jsxs("label",{htmlFor:"profile-picture",className:"absolute bottom-0 right-0 w-10 h-10 bg-green-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-green-700 transition-colors shadow-lg",children:[n.jsx(j0,{className:"w-5 h-5 text-white"}),n.jsx("input",{id:"profile-picture",type:"file",accept:"image/*",className:"hidden",onChange:ie})]})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Cliquez sur l'icne pour changer votre photo"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prnom"}),n.jsx("input",{type:"text",value:M.firstName,onChange:V=>k({...M,firstName:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom"}),n.jsx("input",{type:"text",value:M.lastName,onChange:V=>k({...M,lastName:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",value:M.email,onChange:V=>k({...M,email:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone"}),n.jsx("input",{type:"tel",value:M.phone,onChange:V=>k({...M,phone:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse"}),n.jsx("textarea",{value:M.address,onChange:V=>k({...M,address:V.target.value}),rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none",placeholder:"Votre adresse complte"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:x,children:"Annuler"}),n.jsxs("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",disabled:x,children:[x&&n.jsx(sf,{className:"w-4 h-4 animate-spin"}),"Enregistrer"]})]})]}),y==="password"&&n.jsxs("form",{onSubmit:se,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe actuel"}),n.jsx("input",{type:"password",value:F.currentPassword,onChange:V=>D({...F,currentPassword:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouveau mot de passe"}),n.jsx("input",{type:"password",value:F.newPassword,onChange:V=>D({...F,newPassword:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,minLength:6}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 caractres"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmer le nouveau mot de passe"}),n.jsx("input",{type:"password",value:F.confirmPassword,onChange:V=>D({...F,confirmPassword:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,minLength:6})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:x,children:"Annuler"}),n.jsxs("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",disabled:x,children:[x&&n.jsx(sf,{className:"w-4 h-4 animate-spin"}),"Changer le mot de passe"]})]})]})]})]})})]})},Cs=({children:e})=>n.jsxs("div",{className:"flex h-screen bg-[#FAFAFA]",children:[n.jsx(B8,{}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(q8,{}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e})]})]}),Pd=()=>{const e=h.useRef({stats:!1,available:!1,my:!1,history:!1}),t=L=>new Promise(X=>setTimeout(X,L)),[r,s]=h.useState({totalDeliveries:0,completedDeliveries:0,pendingDeliveries:0,totalEarnings:0,averageRating:0}),[a,i]=h.useState([]),[o,l]=h.useState([]),[c,u]=h.useState([]),[d,m]=h.useState(!0),[f,p]=h.useState(null),[g,b]=h.useState({page:1,totalPages:1,total:0}),[x,v]=h.useState({page:1,totalPages:1,total:0}),[y,j]=h.useState({page:1,totalPages:1,total:0}),[w,N]=h.useState({}),[S,P]=h.useState({status:""}),[C,E]=h.useState({status:"",dateFrom:"",dateTo:""}),[O,I]=h.useState(null),[M,k]=h.useState(!1),[A,B]=h.useState(null),F=h.useCallback(async()=>{try{if(e.current.stats)return;e.current.stats=!0;const L=await ne.getDeliveryStats();L.status==="success"&&L.data&&s(L.data)}catch(L){console.error("Erreur lors du chargement des statistiques:",L),re.error("Erreur lors du chargement des statistiques")}finally{e.current.stats=!1}},[]),D=h.useCallback(async(L=1,X={})=>{try{if(m(!0),e.current.available)return;e.current.available=!0;const T=await ne.getAvailableDeliveries(L,10,X);if(T.status==="success"&&T.data){const Z=T.data.orders||T.data.deliveries||[],ue=Z.map(oe=>{var we,Ne,Le,ge,Pe,rt,Je,Ze,vt,R,pe,ke;return{id:oe.id||oe._id,productName:((Le=(Ne=(we=oe.items)==null?void 0:we[0])==null?void 0:Ne.product)==null?void 0:Le.name)||"Produit",quantity:((Pe=(ge=oe.items)==null?void 0:ge[0])==null?void 0:Pe.quantity)||1,amount:oe.totalPrice||0,customer:{name:(rt=oe.consumer)!=null&&rt.firstName?`${oe.consumer.firstName} ${oe.consumer.lastName||""}`:"Client",phone:((Je=oe.consumer)==null?void 0:Je.phone)||"+221 77 123 45 67"},orderDate:oe.createdAt||new Date().toISOString(),pickupAddress:{address:"Adresse du producteur"},deliveryAddress:((Ze=oe.deliveryInfo)==null?void 0:Ze.address)||{address:"Adresse non disponible"},instructions:oe.notes||"Aucune instruction",notes:oe.notes||"",productImage:((ke=(pe=(R=(vt=oe.items)==null?void 0:vt[0])==null?void 0:R.product)==null?void 0:pe.images)==null?void 0:ke[0])||"/api/placeholder/100"}});i(ue),b({page:T.data.currentPage||L,totalPages:T.data.totalPages||1,total:T.data.total||Z.length})}}catch(T){console.error("Erreur lors du chargement des livraisons disponibles:",T),p(T.message||"Erreur lors du chargement des livraisons disponibles"),re.error("Erreur lors du chargement des livraisons disponibles")}finally{m(!1),e.current.available=!1}},[]),$=h.useCallback(async(L=1,X={})=>{try{if(e.current.my)return;e.current.my=!0;const T=await ne.getMyDeliveries(L,10,X);if(T.status==="success"&&T.data){const Z=T.data.deliveries||[],ue=Z.map(oe=>{var ge,Pe,rt,Je,Ze,vt,R,pe,ke,ts,_i,Ri,Fi;const we=((ge=oe.order)==null?void 0:ge.status)||"",Ne=oe.status,Le=we==="cancelled"||Ne==="failed"?"cancelled":Ne;return{id:oe.id||oe._id,productName:((Ze=(Je=(rt=(Pe=oe.order)==null?void 0:Pe.items)==null?void 0:rt[0])==null?void 0:Je.product)==null?void 0:Ze.name)||"Produit",quantity:((pe=(R=(vt=oe.order)==null?void 0:vt.items)==null?void 0:R[0])==null?void 0:pe.quantity)||1,amount:((ke=oe.order)==null?void 0:ke.totalPrice)||0,customer:{name:(_i=(ts=oe.order)==null?void 0:ts.consumer)!=null&&_i.firstName?`${oe.order.consumer.firstName} ${oe.order.consumer.lastName||""}`:"Client",phone:((Fi=(Ri=oe.order)==null?void 0:Ri.consumer)==null?void 0:Fi.phone)||"+221 77 123 45 67"},status:Le,orderStatus:we,deliveryAddress:oe.deliveryLocation||{address:"Adresse non disponible"},orderDate:oe.createdAt||new Date().toISOString()}});l(ue),v({page:T.data.currentPage||L,totalPages:T.data.totalPages||1,total:T.data.total||Z.length})}}catch(T){console.error("Erreur lors du chargement de mes livraisons:",T),p(T.message||"Erreur lors du chargement de mes livraisons"),re.error("Erreur lors du chargement de mes livraisons")}finally{e.current.my=!1}},[]),z=h.useCallback(async(L=1,X={})=>{try{if(e.current.history)return;e.current.history=!0;const T=await ne.getDeliveryHistory(L,10,X);if(T.status==="success"&&T.data){const Z=T.data.history||[],ue=Z.map(oe=>{var we,Ne,Le,ge,Pe,rt,Je;return{id:oe.id||oe._id,productName:((ge=(Le=(Ne=(we=oe.order)==null?void 0:we.items)==null?void 0:Ne[0])==null?void 0:Le.product)==null?void 0:ge.name)||"Produit",customer:{name:(rt=(Pe=oe.order)==null?void 0:Pe.consumer)!=null&&rt.firstName?`${oe.order.consumer.firstName} ${oe.order.consumer.lastName||""}`:"Client"},amount:((Je=oe.order)==null?void 0:Je.totalPrice)||0,completedDate:oe.updatedAt||oe.createdAt}});u(ue),j({page:T.data.currentPage||L,totalPages:T.data.totalPages||1,total:T.data.total||Z.length})}}catch(T){console.error("Erreur lors du chargement de l'historique:",T),p(T.message||"Erreur lors du chargement de l'historique"),re.error("Erreur lors du chargement de l'historique")}finally{e.current.history=!1}},[]),K=async L=>{try{const X=await ne.acceptDelivery(L);if(X.status==="success")return re.success("Livraison accepte avec succs"),i(T=>T.filter(Z=>Z.id!==L)),await F(),await $(x.page,S),X.data;throw new Error(X.message||"Erreur lors de l'acceptation de la livraison")}catch(X){console.error("Erreur lors de l'acceptation:",X);const T=X.message||"Erreur lors de l'acceptation de la livraison";throw re.error(T),new Error(T)}},U=async(L,X,T="")=>{try{const Z=await ne.updateDeliveryStatus(L,X,T);if(Z.status==="success")return re.success("Statut de livraison mis  jour"),l(ue=>ue.map(oe=>oe.id===L?{...oe,status:X}:oe)),X==="completed"&&setTimeout(()=>{z(1,C),$(1,S),F()},1e3),Z.data;throw new Error(Z.message||"Erreur lors de la mise  jour du statut")}catch(Z){console.error("Erreur lors de la mise  jour du statut:",Z);const ue=Z.message||"Erreur lors de la mise  jour du statut";throw re.error(ue),new Error(ue)}},q=async(L,X="")=>{try{const T=await ne.completeDelivery(L,X);if(T.status==="success")return re.success("Livraison termine avec succs"),l(Z=>Z.map(ue=>ue.id===L?{...ue,status:"delivered"}:ue)),await Promise.all([$(x.page,S),z(1,C),F()]),T.data;throw new Error(T.message||"Erreur lors de la finalisation de la livraison")}catch(T){console.error("Erreur lors de la finalisation:",T);const Z=T.message||"Erreur lors de la finalisation de la livraison";throw re.error(Z),new Error(Z)}},te=async L=>{try{const X=await ne.getDeliveryDetails(L);if(X.status==="success")return X.data;throw new Error(X.message||"Erreur lors de la rcupration des dtails")}catch(X){console.error("Erreur lors de la rcupration des dtails:",X);const T=X.message||"Erreur lors de la rcupration des dtails";throw re.error(T),new Error(T)}},W=h.useCallback(L=>{const X={...S,status:L};P(X),$(1,X)},[S,$]),ie=h.useCallback((L,X,T="")=>{const Z={...C,dateFrom:L,dateTo:X,status:T};E(Z),z(1,Z)},[C,z]),le=h.useCallback(L=>{D(L,w)},[w,D]),se=h.useCallback(L=>{$(L,S)},[S,$]),V=h.useCallback(L=>{z(L,C)},[C,z]),_=h.useCallback(async()=>{m(!0);try{await F(),await t(150),await $(x.page,S),await t(150),await D(g.page,w),await t(150),await z(y.page,C)}catch(L){p(L.message)}finally{m(!1)}},[F,D,$,z,g.page,w,x.page,S,y.page,C]);h.useEffect(()=>{(async()=>{m(!0);try{await F(),await t(200),await $(1),await t(200),await D(1),await t(200),await z(1)}catch(X){p(X.message)}finally{m(!1)}})()},[F,D,$,z]),h.useEffect(()=>{const L=setInterval(()=>{_()},15e3);return()=>clearInterval(L)},[_]);const H=h.useCallback(async()=>{var L,X,T;k(!0),B(null);try{const Z=await ne.getMyProfile();Z.status==="success"&&((L=Z.data)!=null&&L.user)?I(Z.data.user):B("Erreur lors du chargement du profil")}catch(Z){console.error("Erreur profil:",Z),B(((T=(X=Z.response)==null?void 0:X.data)==null?void 0:T.message)||"Erreur lors du chargement du profil")}finally{k(!1)}},[]),J=h.useCallback(async L=>{var X,T;try{const Z=await ne.updateProfile(L);if(Z.status==="success")return await H(),re.success("Profil mis  jour avec succs"),Z;throw re.error(Z.message||"Erreur lors de la mise  jour du profil"),new Error(Z.message)}catch(Z){throw console.error("Erreur mise  jour profil:",Z),re.error(((T=(X=Z.response)==null?void 0:X.data)==null?void 0:T.message)||"Erreur lors de la mise  jour du profil"),Z}},[H]),G=h.useCallback(async L=>{var X,T;try{const Z=await ne.changePassword(L);if(Z.status==="success")return re.success("Mot de passe modifi avec succs"),Z;throw re.error(Z.message||"Erreur lors du changement de mot de passe"),new Error(Z.message)}catch(Z){throw console.error("Erreur changement mot de passe:",Z),re.error(((T=(X=Z.response)==null?void 0:X.data)==null?void 0:T.message)||"Erreur lors du changement de mot de passe"),Z}},[]),ce=h.useCallback(async()=>{await H()},[H]);return{stats:r,availableDeliveries:a,myDeliveries:o,deliveryHistory:c,loading:d,error:f,availablePagination:g,myDeliveriesPagination:x,historyPagination:y,availableFilters:w,myDeliveriesFilters:S,historyFilters:C,acceptDelivery:K,updateDeliveryStatus:U,completeDelivery:q,getDeliveryDetails:te,filterMyDeliveriesByStatus:W,filterHistoryByDateRange:ie,changeAvailablePage:le,changeMyDeliveriesPage:se,changeHistoryPage:V,refreshData:_,profile:O,profileLoading:M,profileError:A,updateProfile:J,changePassword:G,getProfile:H,refreshProfile:ce}};function n2(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=n2(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function dt(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=n2(e))&&(s&&(s+=" "),s+=t);return s}var V8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function S0(e){if(typeof e!="string")return!1;var t=V8;return t.includes(e)}var H8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function s2(e){if(typeof e!="string")return!1;var t=H8;return t.includes(e)}function a2(e){return typeof e=="string"&&e.startsWith("data-")}function fi(e){var t=Object.entries(e).filter(r=>{var[s]=r;return s2(s)||a2(s)});return Object.fromEntries(t)}function Mp(e){if(e==null)return null;if(h.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return fi(t)}return typeof e=="object"&&!Array.isArray(e)?fi(e):null}function zr(e){var t=Object.entries(e).filter(r=>{var[s]=r;return s2(s)||a2(s)||S0(s)});return Object.fromEntries(t)}var W8=["children","width","height","viewBox","className","style","title","desc"];function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Lp.apply(null,arguments)}function K8(e,t){if(e==null)return{};var r,s,a=G8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function G8(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var i2=h.forwardRef((e,t)=>{var{children:r,width:s,height:a,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=K8(e,W8),m=i||{width:s,height:a,x:0,y:0},f=dt("recharts-surface",o);return h.createElement("svg",Lp({},zr(d),{className:f,width:s,height:a,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),h.createElement("title",null,c),h.createElement("desc",null,u),r)}),Y8=["children","className"];function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ip.apply(null,arguments)}function Q8(e,t){if(e==null)return{};var r,s,a=X8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X8(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Os=h.forwardRef((e,t)=>{var{children:r,className:s}=e,a=Q8(e,Y8),i=dt("recharts-layer",s);return h.createElement("g",Ip({className:i},zr(a),{ref:t}),r)}),J8=h.createContext(null);function Re(e){return function(){return e}}const o2=Math.cos,yu=Math.sin,ln=Math.sqrt,bu=Math.PI,kd=2*bu,Dp=Math.PI,_p=2*Dp,Ks=1e-6,Z8=_p-Ks;function l2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function eO(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return l2;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class tO{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?l2:eO(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,u=a-r,d=o-t,m=l-r,f=d*d+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Ks)if(!(Math.abs(m*c-u*d)>Ks)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=s-o,g=a-l,b=c*c+u*u,x=p*p+g*g,v=Math.sqrt(b),y=Math.sqrt(f),j=i*Math.tan((Dp-Math.acos((b+f-x)/(2*v*y)))/2),w=j/y,N=j/v;Math.abs(w-1)>Ks&&this._append`L${t+w*d},${r+w*m}`,this._append`A${i},${i},0,0,${+(m*p>d*g)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),u=t+l,d=r+c,m=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ks||Math.abs(this._y1-d)>Ks)&&this._append`L${u},${d}`,s&&(f<0&&(f=f%_p+_p),f>Z8?this._append`A${s},${s},0,1,${m},${t-l},${r-c}A${s},${s},0,1,${m},${this._x1=u},${this._y1=d}`:f>Ks&&this._append`A${s},${s},0,${+(f>=Dp)},${m},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function C0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new tO(t)}function P0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function c2(e){this._context=e}c2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ad(e){return new c2(e)}function u2(e){return e[0]}function d2(e){return e[1]}function m2(e,t){var r=Re(!0),s=null,a=Ad,i=null,o=C0(l);e=typeof e=="function"?e:e===void 0?u2:Re(e),t=typeof t=="function"?t:t===void 0?d2:Re(t);function l(c){var u,d=(c=P0(c)).length,m,f=!1,p;for(s==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(m=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(m,u,c),+t(m,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Re(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Re(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Re(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function ic(e,t,r){var s=null,a=Re(!0),i=null,o=Ad,l=null,c=C0(u);e=typeof e=="function"?e:e===void 0?u2:Re(+e),t=typeof t=="function"?t:Re(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?d2:Re(+r);function u(m){var f,p,g,b=(m=P0(m)).length,x,v=!1,y,j=new Array(b),w=new Array(b);for(i==null&&(l=o(y=c())),f=0;f<=b;++f){if(!(f<b&&a(x=m[f],f,m))===v)if(v=!v)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=p;--g)l.point(j[g],w[g]);l.lineEnd(),l.areaEnd()}v&&(j[f]=+e(x,f,m),w[f]=+t(x,f,m),l.point(s?+s(x,f,m):j[f],r?+r(x,f,m):w[f]))}if(y)return l=null,y+""||null}function d(){return m2().defined(a).curve(o).context(i)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:Re(+m),s=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Re(+m),u):e},u.x1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:Re(+m),u):s},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:Re(+m),r=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Re(+m),u):t},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Re(+m),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(s).y(t)},u.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Re(!!m),u):a},u.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),u):o},u.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),u):i},u}class f2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function rO(e){return new f2(e,!0)}function nO(e){return new f2(e,!1)}const k0={draw(e,t){const r=ln(t/bu);e.moveTo(r,0),e.arc(0,0,r,0,kd)}},sO={draw(e,t){const r=ln(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},p2=ln(1/3),aO=p2*2,iO={draw(e,t){const r=ln(t/aO),s=r*p2;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},oO={draw(e,t){const r=ln(t),s=-r/2;e.rect(s,s,r,r)}},lO=.8908130915292852,h2=yu(bu/10)/yu(7*bu/10),cO=yu(kd/10)*h2,uO=-o2(kd/10)*h2,dO={draw(e,t){const r=ln(t*lO),s=cO*r,a=uO*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=kd*i/5,l=o2(o),c=yu(o);e.lineTo(c*r,-l*r),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},lf=ln(3),mO={draw(e,t){const r=-ln(t/(lf*3));e.moveTo(0,r*2),e.lineTo(-lf*r,-r),e.lineTo(lf*r,-r),e.closePath()}},Cr=-.5,Pr=ln(3)/2,Rp=1/ln(12),fO=(Rp/2+1)*3,pO={draw(e,t){const r=ln(t/fO),s=r/2,a=r*Rp,i=s,o=r*Rp+r,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Cr*s-Pr*a,Pr*s+Cr*a),e.lineTo(Cr*i-Pr*o,Pr*i+Cr*o),e.lineTo(Cr*l-Pr*c,Pr*l+Cr*c),e.lineTo(Cr*s+Pr*a,Cr*a-Pr*s),e.lineTo(Cr*i+Pr*o,Cr*o-Pr*i),e.lineTo(Cr*l+Pr*c,Cr*c-Pr*l),e.closePath()}};function hO(e,t){let r=null,s=C0(a);e=typeof e=="function"?e:Re(e||k0),t=typeof t=="function"?t:Re(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Re(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Re(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function ju(){}function wu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function g2(e){this._context=e}g2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gO(e){return new g2(e)}function x2(e){this._context=e}x2.prototype={areaStart:ju,areaEnd:ju,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xO(e){return new x2(e)}function v2(e){this._context=e}v2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:wu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vO(e){return new v2(e)}function y2(e){this._context=e}y2.prototype={areaStart:ju,areaEnd:ju,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yO(e){return new y2(e)}function vy(e){return e<0?-1:1}function yy(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(vy(i)+vy(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function by(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function cf(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*r,i,o)}function Nu(e){this._context=e}Nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cf(this,this._t0,by(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cf(this,by(this,r=yy(this,e,t)),r);break;default:cf(this,this._t0,r=yy(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function b2(e){this._context=new j2(e)}(b2.prototype=Object.create(Nu.prototype)).point=function(e,t){Nu.prototype.point.call(this,t,e)};function j2(e){this._context=e}j2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function bO(e){return new Nu(e)}function jO(e){return new b2(e)}function w2(e){this._context=e}w2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=jy(e),a=jy(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function jy(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function wO(e){return new w2(e)}function Ed(e,t){this._context=e,this._t=t}Ed.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function NO(e){return new Ed(e,.5)}function SO(e){return new Ed(e,0)}function CO(e){return new Ed(e,1)}function pi(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function Fp(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function PO(e,t){return e[t]}function kO(e){const t=[];return t.key=e,t}function AO(){var e=Re([]),t=Fp,r=pi,s=PO;function a(i){var o=Array.from(e.apply(this,arguments),kO),l,c=o.length,u=-1,d;for(const m of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+s(m,o[l].key,u,i)]).data=m;for(l=0,d=P0(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Re(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Re(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?Fp:typeof i=="function"?i:Re(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??pi,a):r},a}function EO(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}pi(e,t)}}function TO(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}pi(e,t)}}function OO(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],m=d[s][1]||0,f=d[s-1][1]||0,p=(m-f)/2,g=0;g<l;++g){var b=e[t[g]],x=b[s][1]||0,v=b[s-1][1]||0;p+=x-v}c+=m,u+=p*m}a[s-1][1]+=a[s-1][0]=r,c&&(r-=u/c)}a[s-1][1]+=a[s-1][0]=r,pi(e,t)}}var Td={},N2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(N2);var A0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(A0);var Od={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;return typeof r=="string"||typeof r=="symbol"?r:Object.is((s=r==null?void 0:r.valueOf)==null?void 0:s.call(r),-0)?"-0":String(r)}e.toKey=t})(Od);var Md={},S2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const s=String(r);return s==="0"&&Object.is(Number(r),-0)?"-0":s}e.toString=t})(S2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S2,r=Od;function s(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const m=a[l];u?m==="\\"&&l+1<o?(l++,c+=a[l]):m===u?u="":c+=m:d?m==='"'||m==="'"?u=m:m==="]"?(d=!1,i.push(c),c=""):c+=m:m==="["?(d=!0,c&&(i.push(c),c="")):m==="."?c&&(i.push(c),c=""):c+=m,l++}return c&&i.push(c),i}e.toPath=s})(Md);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N2,r=A0,s=Od,a=Md;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=s.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let m=0;m<c.length;m++){if(d==null||t.isUnsafeProperty(c[m]))return u;d=d[c[m]]}return d===void 0?u:d}e.get=i})(Td);var MO=Td.get;const Xo=Kn(MO);var Jt=e=>e===0?0:e>0?1:-1,Nn=e=>typeof e=="number"&&e!=+e,Un=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,je=e=>(typeof e=="number"||e instanceof Number)&&!Nn(e),Bn=e=>je(e)||typeof e=="string",LO=0,Jo=e=>{var t=++LO;return"".concat(e||"").concat(t)},xr=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&typeof t!="string")return s;var i;if(Un(t)){if(r==null)return s;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Nn(i)&&(i=s),a&&r!=null&&i>r&&(i=r),i},C2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},s=0;s<t;s++)if(!r[e[s]])r[e[s]]=!0;else return!0;return!1};function Xr(e,t,r){return je(e)&&je(t)?e+r*(t-e):t}function IO(e,t,r){if(!(!e||!e.length))return e.find(s=>s&&(typeof t=="function"?t(s):Xo(s,t))===r)}var br=e=>e===null||typeof e>"u",wl=e=>br(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),DO=["type","size","sizeType"];function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$p.apply(null,arguments)}function wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ny(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wy(Object(r),!0).forEach(function(s){_O(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wy(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function _O(e,t,r){return(t=RO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RO(e){var t=FO(e,"string");return typeof t=="symbol"?t:t+""}function FO(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $O(e,t){if(e==null)return{};var r,s,a=zO(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zO(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var P2={symbolCircle:k0,symbolCross:sO,symbolDiamond:iO,symbolSquare:oO,symbolStar:dO,symbolTriangle:mO,symbolWye:pO},UO=Math.PI/180,BO=e=>{var t="symbol".concat(wl(e));return P2[t]||k0},qO=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*UO;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.tan(s)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},VO=(e,t)=>{P2["symbol".concat(wl(e))]=t},k2=e=>{var{type:t="circle",size:r=64,sizeType:s="area"}=e,a=$O(e,DO),i=Ny(Ny({},a),{},{type:t,size:r,sizeType:s}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var f=BO(o),p=hO().type(f).size(qO(r,s,o)),g=p();if(g!==null)return g},{className:c,cx:u,cy:d}=i,m=zr(i);return u===+u&&d===+d&&r===+r?h.createElement("path",$p({},m,{className:dt("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};k2.registerSymbol=VO;var HO=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(h.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var s={};return Object.keys(r).forEach(a=>{S0(a)&&(s[a]=i=>r[a](r,i))}),s},WO=(e,t,r)=>s=>(e(t,r,s),null),KO=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var s=null;return Object.keys(e).forEach(a=>{var i=e[a];S0(a)&&typeof i=="function"&&(s||(s={}),s[a]=WO(i,t,r))}),s},A2={},E2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=s(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(E2);var E0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(E0);var T2={},Ld={},O2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(O2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O2;function r(s){return s!=null&&typeof s!="function"&&t.isLength(s.length)}e.isArrayLike=r})(Ld);var M2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(M2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ld,r=M2;function s(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=s})(T2);var L2={},I2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Td;function r(s){return function(a){return t.get(a,s)}}e.property=r})(I2);var D2={},T0={},_2={},O0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(O0);var M0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(M0);var L0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s){return r===s||Number.isNaN(r)&&Number.isNaN(s)}e.eq=t})(L0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O0,r=M0,s=L0;function a(d,m,f){return typeof f!="function"?a(d,m,()=>{}):i(d,m,function p(g,b,x,v,y,j){const w=f(g,b,x,v,y,j);return w!==void 0?!!w:i(g,b,p,j)},new Map)}function i(d,m,f,p){if(m===d)return!0;switch(typeof m){case"object":return o(d,m,f,p);case"function":return Object.keys(m).length>0?i(d,{...m},f,p):s.eq(d,m);default:return t.isObject(d)?typeof m=="string"?m==="":!0:s.eq(d,m)}}function o(d,m,f,p){if(m==null)return!0;if(Array.isArray(m))return c(d,m,f,p);if(m instanceof Map)return l(d,m,f,p);if(m instanceof Set)return u(d,m,f,p);const g=Object.keys(m);if(d==null)return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(m))return p.get(m)===d;p==null||p.set(m,d);try{for(let b=0;b<g.length;b++){const x=g[b];if(!r.isPrimitive(d)&&!(x in d)||m[x]===void 0&&d[x]!==void 0||m[x]===null&&d[x]!==null||!f(d[x],m[x],x,d,m,p))return!1}return!0}finally{p==null||p.delete(m)}}function l(d,m,f,p){if(m.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,b]of m.entries()){const x=d.get(g);if(f(x,b,g,d,m,p)===!1)return!1}return!0}function c(d,m,f,p){if(m.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let b=0;b<m.length;b++){const x=m[b];let v=!1;for(let y=0;y<d.length;y++){if(g.has(y))continue;const j=d[y];let w=!1;if(f(j,x,b,d,m,p)&&(w=!0),w){g.add(y),v=!0;break}}if(!v)return!1}return!0}function u(d,m,f,p){return m.size===0?!0:d instanceof Set?c([...d],[...m],f,p):!1}e.isMatchWith=a,e.isSetMatch=u})(_2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_2;function r(s,a){return t.isMatchWith(s,a,()=>{})}e.isMatch=r})(T0);var R2={},I0={},F2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(s=>Object.prototype.propertyIsEnumerable.call(r,s))}e.getSymbols=t})(F2);var D0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(D0);var _0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",s="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",m="[object Function]",f="[object ArrayBuffer]",p="[object Object]",g="[object Error]",b="[object DataView]",x="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",j="[object Uint32Array]",w="[object BigUint64Array]",N="[object Int8Array]",S="[object Int16Array]",P="[object Int32Array]",C="[object BigInt64Array]",E="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=f,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=w,e.booleanTag=a,e.dataViewTag=b,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=E,e.float64ArrayTag=O,e.functionTag=m,e.int16ArrayTag=S,e.int32ArrayTag=P,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=s,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=y,e.uint32ArrayTag=j,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=v})(_0);var $2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})($2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F2,r=D0,s=_0,a=M0,i=$2;function o(d,m){return l(d,void 0,d,new Map,m)}function l(d,m,f,p=new Map,g=void 0){const b=g==null?void 0:g(d,m,f,p);if(b!==void 0)return b;if(a.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const x=new Array(d.length);p.set(d,x);for(let v=0;v<d.length;v++)x[v]=l(d[v],v,f,p,g);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;p.set(d,x);for(const[v,y]of d)x.set(v,l(y,v,f,p,g));return x}if(d instanceof Set){const x=new Set;p.set(d,x);for(const v of d)x.add(l(v,void 0,f,p,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,x);for(let v=0;v<d.length;v++)x[v]=l(d[v],v,f,p,g);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,x),c(x,d,f,p,g),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return p.set(d,x),c(x,d,f,p,g),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return p.set(d,x),c(x,d,f,p,g),x}if(d instanceof Error){const x=new d.constructor;return p.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,f,p,g),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return p.set(d,x),c(x,d,f,p,g),x}if(d instanceof Number){const x=new Number(d.valueOf());return p.set(d,x),c(x,d,f,p,g),x}if(d instanceof String){const x=new String(d.valueOf());return p.set(d,x),c(x,d,f,p,g),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return p.set(d,x),c(x,d,f,p,g),x}return d}function c(d,m,f=d,p,g){const b=[...Object.keys(m),...t.getSymbols(m)];for(let x=0;x<b.length;x++){const v=b[x],y=Object.getOwnPropertyDescriptor(d,v);(y==null||y.writable)&&(d[v]=l(m[v],v,f,p,g))}}function u(d){switch(r.getTag(d)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(I0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I0;function r(s){return t.cloneDeepWithImpl(s,void 0,s,new Map,void 0)}e.cloneDeep=r})(R2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T0,r=R2;function s(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=s})(D2);var z2={},U2={},B2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I0,r=_0;function s(a,i){return t.cloneDeepWith(a,(o,l,c,u)=>{const d=i==null?void 0:i(o,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=s})(B2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B2;function r(s){return t.cloneDeepWith(s)}e.cloneDeep=r})(U2);var q2={},R0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(s,a=Number.MAX_SAFE_INTEGER){switch(typeof s){case"number":return Number.isInteger(s)&&s>=0&&s<a;case"symbol":return!1;case"string":return t.test(s)}}e.isIndex=r})(R0);var V2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D0;function r(s){return s!==null&&typeof s=="object"&&t.getTag(s)==="[object Arguments]"}e.isArguments=r})(V2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A0,r=R0,s=V2,a=Md;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const m=c[d];if((u==null||!Object.hasOwn(u,m))&&!((Array.isArray(u)||s.isArguments(u))&&r.isIndex(m)&&m<u.length))return!1;u=u[m]}return!0}e.has=i})(q2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T0,r=Od,s=U2,a=Td,i=q2;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=s.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(z2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E0,r=I2,s=D2,a=z2;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):s.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(L2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E2,r=E0,s=T2,a=L2;function i(o,l=r.identity){return s.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(A2);var GO=A2.uniqBy;const Sy=Kn(GO);function YO(e,t,r){return t===!0?Sy(e,r):typeof t=="function"?Sy(e,t):e}var H2={exports:{}},W2={},K2={exports:{}},G2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hi=h;function QO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XO=typeof Object.is=="function"?Object.is:QO,JO=hi.useState,ZO=hi.useEffect,eM=hi.useLayoutEffect,tM=hi.useDebugValue;function rM(e,t){var r=t(),s=JO({inst:{value:r,getSnapshot:t}}),a=s[0].inst,i=s[1];return eM(function(){a.value=r,a.getSnapshot=t,uf(a)&&i({inst:a})},[e,r,t]),ZO(function(){return uf(a)&&i({inst:a}),e(function(){uf(a)&&i({inst:a})})},[e]),tM(r),r}function uf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!XO(e,r)}catch{return!0}}function nM(e,t){return t()}var sM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nM:rM;G2.useSyncExternalStore=hi.useSyncExternalStore!==void 0?hi.useSyncExternalStore:sM;K2.exports=G2;var aM=K2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id=h,iM=aM;function oM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lM=typeof Object.is=="function"?Object.is:oM,cM=iM.useSyncExternalStore,uM=Id.useRef,dM=Id.useEffect,mM=Id.useMemo,fM=Id.useDebugValue;W2.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var i=uM(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=mM(function(){function c(p){if(!u){if(u=!0,d=p,p=s(p),a!==void 0&&o.hasValue){var g=o.value;if(a(g,p))return m=g}return m=p}if(g=m,lM(d,p))return g;var b=s(p);return a!==void 0&&a(g,b)?(d=p,g):(d=p,m=b)}var u=!1,d,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,s,a]);var l=cM(e,i[0],i[1]);return dM(function(){o.hasValue=!0,o.value=l},[l]),fM(l),l};H2.exports=W2;var pM=H2.exports,F0=h.createContext(null),hM=e=>e,Lt=()=>{var e=h.useContext(F0);return e?e.store.dispatch:hM},Uc=()=>{},gM=()=>Uc,xM=(e,t)=>e===t;function Se(e){var t=h.useContext(F0);return pM.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:gM,t?t.store.getState:Uc,t?t.store.getState:Uc,t?e:Uc,xM)}function vM(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function yM(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function bM(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${t}[${r}]`)}}var Cy=e=>Array.isArray(e)?e:[e];function jM(e){const t=Array.isArray(e[0])?e[0]:e;return bM(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function wM(e,t){const r=[],{length:s}=e;for(let a=0;a<s;a++)r.push(e[a].apply(null,t));return r}var NM=class{constructor(e){this.value=e}deref(){return this.value}},SM=typeof WeakRef<"u"?WeakRef:NM,CM=0,Py=1;function oc(){return{s:CM,v:void 0,o:null,p:null}}function Y2(e,t={}){let r=oc();const{resultEqualityCheck:s}=t;let a,i=0;function o(){var m;let l=r;const{length:c}=arguments;for(let f=0,p=c;f<p;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const x=b.get(g);x===void 0?(l=oc(),b.set(g,l)):l=x}else{let b=l.p;b===null&&(l.p=b=new Map);const x=b.get(g);x===void 0?(l=oc(),b.set(g,l)):l=x}}const u=l;let d;if(l.s===Py)d=l.v;else if(d=e.apply(null,arguments),i++,s){const f=((m=a==null?void 0:a.deref)==null?void 0:m.call(a))??a;f!=null&&s(f,d)&&(d=f,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new SM(d):d}return u.s=Py,u.v=d,d}return o.clearCache=()=>{r=oc(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function PM(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,s=(...a)=>{let i=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),vM(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:m,memoizeOptions:f=[],argsMemoize:p=Y2,argsMemoizeOptions:g=[]}=d,b=Cy(f),x=Cy(g),v=jM(a),y=m(function(){return i++,u.apply(null,arguments)},...b),j=p(function(){o++;const N=wM(v,arguments);return l=y.apply(null,N),l},...x);return Object.assign(j,{resultFunc:u,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:p})};return Object.assign(s,{withTypes:()=>s}),s}var Q=PM(Y2),kM=Object.assign((e,t=Q)=>{yM(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),s=r.map(i=>e[i]);return t(s,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>kM}),Q2={},X2={},J2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="symbol"?1:s===null?2:s===void 0?3:s!==s?4:0}const r=(s,a,i)=>{if(s!==a){const o=t(s),l=t(a);if(o===l&&o===0){if(s<a)return i==="desc"?1:-1;if(s>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(J2);var Z2={},$0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})($0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(s.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(Z2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J2,r=Z2,s=Md;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const u=(p,g)=>{let b=p;for(let x=0;x<g.length&&b!=null;++x)b=b[g[x]];return b},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,m=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:s.toPath(p)}));return i.map(p=>({original:p,criteria:m.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let b=0;b<m.length;b++){const x=t.compareValues(p.criteria[b],g.criteria[b],l[b]);if(x!==0)return x}return 0}).map(p=>p.original)}e.orderBy=a})(X2);var e4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s=1){const a=[],i=Math.floor(s),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(e4);var z0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R0,r=Ld,s=O0,a=L0;function i(o,l,c){return s.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=i})(z0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X2,r=e4,s=z0;function a(i,...o){const l=o.length;return l>1&&s.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&s.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(Q2);var AM=Q2.sortBy;const Dd=Kn(AM);var t4=e=>e.legend.settings,EM=e=>e.legend.size,TM=e=>e.legend.payload;Q([TM,t4],(e,t)=>{var{itemSorter:r}=t,s=e.flat(1);return r?Dd(s,r):s});var lc=1;function OM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=h.useState({height:0,left:0,top:0,width:0}),s=h.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>lc||Math.abs(o.left-t.left)>lc||Math.abs(o.top-t.top)>lc||Math.abs(o.width-t.width)>lc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,s]}function Ct(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var MM=typeof Symbol=="function"&&Symbol.observable||"@@observable",ky=MM,df=()=>Math.random().toString(36).substring(7).split("").join("."),LM={INIT:`@@redux/INIT${df()}`,REPLACE:`@@redux/REPLACE${df()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${df()}`},Su=LM;function U0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function r4(e,t,r){if(typeof e!="function")throw new Error(Ct(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ct(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ct(1));return r(r4)(e,t)}let s=e,a=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((x,v)=>{o.set(v,x)}))}function d(){if(c)throw new Error(Ct(3));return a}function m(x){if(typeof x!="function")throw new Error(Ct(4));if(c)throw new Error(Ct(5));let v=!0;u();const y=l++;return o.set(y,x),function(){if(v){if(c)throw new Error(Ct(6));v=!1,u(),o.delete(y),i=null}}}function f(x){if(!U0(x))throw new Error(Ct(7));if(typeof x.type>"u")throw new Error(Ct(8));if(typeof x.type!="string")throw new Error(Ct(17));if(c)throw new Error(Ct(9));try{c=!0,a=s(a,x)}finally{c=!1}return(i=o).forEach(y=>{y()}),x}function p(x){if(typeof x!="function")throw new Error(Ct(10));s=x,f({type:Su.REPLACE})}function g(){const x=m;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Ct(11));function y(){const w=v;w.next&&w.next(d())}return y(),{unsubscribe:x(y)}},[ky](){return this}}}return f({type:Su.INIT}),{dispatch:f,subscribe:m,getState:d,replaceReducer:p,[ky]:g}}function IM(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Su.INIT})>"u")throw new Error(Ct(12));if(typeof r(void 0,{type:Su.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ct(13))})}function n4(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const s=Object.keys(r);let a;try{IM(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<s.length;d++){const m=s[d],f=r[m],p=o[m],g=f(p,l);if(typeof g>"u")throw l&&l.type,new Error(Ct(14));u[m]=g,c=c||g!==p}return c=c||s.length!==Object.keys(o).length,c?u:o}}function Cu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...s)=>t(r(...s)))}function DM(...e){return t=>(r,s)=>{const a=t(r,s);let i=()=>{throw new Error(Ct(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=Cu(...l)(a.dispatch),{...a,dispatch:i}}}function s4(e){return U0(e)&&"type"in e&&typeof e.type=="string"}var a4=Symbol.for("immer-nothing"),Ay=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function Jr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zo=Object.getPrototypeOf;function ja(e){return!!e&&!!e[jr]}function qn(e){var t;return e?i4(e)||Array.isArray(e)||!!e[Ay]||!!((t=e.constructor)!=null&&t[Ay])||Nl(e)||Rd(e):!1}var _M=Object.prototype.constructor.toString(),Ey=new WeakMap;function i4(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let s=Ey.get(r);return s===void 0&&(s=Function.toString.call(r),Ey.set(r,s)),s===_M}function Pu(e,t,r=!0){_d(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((s,a)=>t(a,s,e))}function _d(e){const t=e[jr];return t?t.type_:Array.isArray(e)?1:Nl(e)?2:Rd(e)?3:0}function zp(e,t){return _d(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function o4(e,t,r){const s=_d(e);s===2?e.set(t,r):s===3?e.add(r):e[t]=r}function RM(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Nl(e){return e instanceof Map}function Rd(e){return e instanceof Set}function Gs(e){return e.copy_||e.base_}function Up(e,t){if(Nl(e))return new Map(e);if(Rd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=i4(e);if(t===!0||t==="class_only"&&!r){const s=Object.getOwnPropertyDescriptors(e);delete s[jr];let a=Reflect.ownKeys(s);for(let i=0;i<a.length;i++){const o=a[i],l=s[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(s[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Zo(e),s)}else{const s=Zo(e);if(s!==null&&r)return{...e};const a=Object.create(s);return Object.assign(a,e)}}function B0(e,t=!1){return Fd(e)||ja(e)||!qn(e)||(_d(e)>1&&Object.defineProperties(e,{set:cc,add:cc,clear:cc,delete:cc}),Object.freeze(e),t&&Object.values(e).forEach(r=>B0(r,!0))),e}function FM(){Jr(2)}var cc={value:FM};function Fd(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var $M={};function wa(e){const t=$M[e];return t||Jr(0,e),t}var el;function l4(){return el}function zM(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ty(e,t){t&&(wa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Bp(e){qp(e),e.drafts_.forEach(UM),e.drafts_=null}function qp(e){e===el&&(el=e.parent_)}function Oy(e){return el=zM(el,e)}function UM(e){const t=e[jr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function My(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[jr].modified_&&(Bp(t),Jr(4)),qn(e)&&(e=ku(t,e),t.parent_||Au(t,e)),t.patches_&&wa("Patches").generateReplacementPatches_(r[jr].base_,e,t.patches_,t.inversePatches_)):e=ku(t,r,[]),Bp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==a4?e:void 0}function ku(e,t,r){if(Fd(t))return t;const s=e.immer_.shouldUseStrictIteration(),a=t[jr];if(!a)return Pu(t,(i,o)=>Ly(e,a,t,i,o,r),s),t;if(a.scope_!==e)return t;if(!a.modified_)return Au(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),Pu(o,(c,u)=>Ly(e,a,i,c,u,r,l),s),Au(e,i,!1),r&&e.patches_&&wa("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function Ly(e,t,r,s,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=Fd(a);if(!(l&&!o)){if(ja(a)){const c=i&&t&&t.type_!==3&&!zp(t.assigned_,s)?i.concat(s):void 0,u=ku(e,a,c);if(o4(r,s,u),ja(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(qn(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[s]===a&&l)return;ku(e,a),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&(Nl(r)?r.has(s):Object.prototype.propertyIsEnumerable.call(r,s))&&Au(e,a)}}}function Au(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&B0(t,r)}function BM(e,t){const r=Array.isArray(e),s={type_:r?1:0,scope_:t?t.scope_:l4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,i=q0;r&&(a=[s],i=tl);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return s.draft_=l,s.revoke_=o,l}var q0={get(e,t){if(t===jr)return e;const r=Gs(e);if(!zp(r,t))return qM(e,r,t);const s=r[t];return e.finalized_||!qn(s)?s:s===mf(e.base_,t)?(ff(e),e.copy_[t]=Hp(s,e)):s},has(e,t){return t in Gs(e)},ownKeys(e){return Reflect.ownKeys(Gs(e))},set(e,t,r){const s=c4(Gs(e),t);if(s!=null&&s.set)return s.set.call(e.draft_,r),!0;if(!e.modified_){const a=mf(Gs(e),t),i=a==null?void 0:a[jr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(RM(r,a)&&(r!==void 0||zp(e.base_,t)))return!0;ff(e),Vp(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return mf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ff(e),Vp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Gs(e),s=Reflect.getOwnPropertyDescriptor(r,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:r[t]}},defineProperty(){Jr(11)},getPrototypeOf(e){return Zo(e.base_)},setPrototypeOf(){Jr(12)}},tl={};Pu(q0,(e,t)=>{tl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});tl.deleteProperty=function(e,t){return tl.set.call(this,e,t,void 0)};tl.set=function(e,t,r){return q0.set.call(this,e[0],t,r,e[0])};function mf(e,t){const r=e[jr];return(r?Gs(r):e)[t]}function qM(e,t,r){var a;const s=c4(t,r);return s?"value"in s?s.value:(a=s.get)==null?void 0:a.call(e.draft_):void 0}function c4(e,t){if(!(t in e))return;let r=Zo(e);for(;r;){const s=Object.getOwnPropertyDescriptor(r,t);if(s)return s;r=Zo(r)}}function Vp(e){e.modified_||(e.modified_=!0,e.parent_&&Vp(e.parent_))}function ff(e){e.copy_||(e.copy_=Up(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var VM=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,s)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Jr(6),s!==void 0&&typeof s!="function"&&Jr(7);let a;if(qn(t)){const i=Oy(this),o=Hp(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Bp(i):qp(i)}return Ty(i,s),My(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===a4&&(a=void 0),this.autoFreeze_&&B0(a,!0),s){const i=[],o=[];wa("Patches").generateReplacementPatches_(t,a,i,o),s(i,o)}return a}else Jr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let s,a;return[this.produce(t,r,(o,l)=>{s=o,a=l}),s,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){qn(e)||Jr(8),ja(e)&&(e=In(e));const t=Oy(this),r=Hp(e,void 0);return r[jr].isManual_=!0,qp(t),r}finishDraft(e,t){const r=e&&e[jr];(!r||!r.isManual_)&&Jr(9);const{scope_:s}=r;return Ty(s,t),My(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const s=wa("Patches").applyPatches_;return ja(e)?s(e,t):this.produce(e,a=>s(a,t))}};function Hp(e,t){const r=Nl(e)?wa("MapSet").proxyMap_(e,t):Rd(e)?wa("MapSet").proxySet_(e,t):BM(e,t);return(t?t.scope_:l4()).drafts_.push(r),r}function In(e){return ja(e)||Jr(10,e),u4(e)}function u4(e){if(!qn(e)||Fd(e))return e;const t=e[jr];let r,s=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Up(e,t.scope_.immer_.useStrictShallowCopy_),s=t.scope_.immer_.shouldUseStrictIteration()}else r=Up(e,!0);return Pu(r,(a,i)=>{o4(r,a,u4(i))},s),t&&(t.finalized_=!1),r}var HM=new VM,d4=HM.produce;function m4(e){return({dispatch:r,getState:s})=>a=>i=>typeof i=="function"?i(r,s,e):a(i)}var WM=m4(),KM=m4,GM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cu:Cu.apply(null,arguments)};function Ur(e,t){function r(...s){if(t){let a=t(...s);if(!a)throw new Error(vr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:s[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=s=>s4(s)&&s.type===e,r}var f4=class co extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,co.prototype)}static get[Symbol.species](){return co}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new co(...t[0].concat(this)):new co(...t.concat(this))}};function Iy(e){return qn(e)?d4(e,()=>{}):e}function uc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function YM(e){return typeof e=="boolean"}var QM=()=>function(t){const{thunk:r=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new f4;return r&&(YM(r)?o.push(WM):o.push(KM(r.extraArgument))),o},p4="RTK_autoBatch",Ut=()=>e=>({payload:e,meta:{[p4]:!0}}),Dy=e=>t=>{setTimeout(t,e)},h4=(e={type:"raf"})=>t=>(...r)=>{const s=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Dy(10):e.type==="callback"?e.queueNotification:Dy(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},s,{subscribe(d){const m=()=>a&&d(),f=s.subscribe(m);return l.add(d),()=>{f(),l.delete(d)}},dispatch(d){var m;try{return a=!((m=d==null?void 0:d.meta)!=null&&m[p4]),i=!a,i&&(o||(o=!0,c(u))),s.dispatch(d)}finally{a=!0}}})},XM=e=>function(r){const{autoBatch:s=!0}=r??{};let a=new f4(e);return s&&a.push(h4(typeof s=="object"?s:void 0)),a};function JM(e){const t=QM(),{reducer:r=void 0,middleware:s,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(U0(r))l=n4(r);else throw new Error(vr(1));let c;typeof s=="function"?c=s(t):c=t();let u=Cu;a&&(u=GM({trace:!1,...typeof a=="object"&&a}));const d=DM(...c),m=XM(d);let f=typeof o=="function"?o(m):m();const p=u(...f);return r4(l,i,p)}function g4(e){const t={},r=[];let s;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(vr(28));if(l in t)throw new Error(vr(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return s=i,a}};return e(a),[t,r,s]}function ZM(e){return typeof e=="function"}function eL(e,t){let[r,s,a]=g4(t),i;if(ZM(e))i=()=>Iy(e());else{const l=Iy(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...s.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,m)=>{if(m)if(ja(d)){const p=m(d,c);return p===void 0?d:p}else{if(qn(d))return d4(d,f=>m(f,c));{const f=m(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},l)}return o.getInitialState=i,o}var tL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rL=(e=21)=>{let t="",r=e;for(;r--;)t+=tL[Math.random()*64|0];return t},nL=Symbol.for("rtk-slice-createasyncthunk");function sL(e,t){return`${e}/${t}`}function aL({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[nL];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(vr(11));const l=(typeof a.reducers=="function"?a.reducers(oL()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,N){const S=typeof w=="string"?w:w.type;if(!S)throw new Error(vr(12));if(S in u.sliceCaseReducersByType)throw new Error(vr(13));return u.sliceCaseReducersByType[S]=N,d},addMatcher(w,N){return u.sliceMatchers.push({matcher:w,reducer:N}),d},exposeAction(w,N){return u.actionCreators[w]=N,d},exposeCaseReducer(w,N){return u.sliceCaseReducersByName[w]=N,d}};c.forEach(w=>{const N=l[w],S={reducerName:w,type:sL(i,w),createNotation:typeof a.reducers=="function"};cL(N)?dL(S,N,d,t):lL(S,N,d)});function m(){const[w={},N=[],S=void 0]=typeof a.extraReducers=="function"?g4(a.extraReducers):[a.extraReducers],P={...w,...u.sliceCaseReducersByType};return eL(a.initialState,C=>{for(let E in P)C.addCase(E,P[E]);for(let E of u.sliceMatchers)C.addMatcher(E.matcher,E.reducer);for(let E of N)C.addMatcher(E.matcher,E.reducer);S&&C.addDefaultCase(S)})}const f=w=>w,p=new Map,g=new WeakMap;let b;function x(w,N){return b||(b=m()),b(w,N)}function v(){return b||(b=m()),b.getInitialState()}function y(w,N=!1){function S(C){let E=C[w];return typeof E>"u"&&N&&(E=uc(g,S,v)),E}function P(C=f){const E=uc(p,N,()=>new WeakMap);return uc(E,C,()=>{const O={};for(const[I,M]of Object.entries(a.selectors??{}))O[I]=iL(M,C,()=>uc(g,C,v),N);return O})}return{reducerPath:w,getSelectors:P,get selectors(){return P(S)},selectSlice:S}}const j={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...y(o),injectInto(w,{reducerPath:N,...S}={}){const P=N??o;return w.inject({reducerPath:P,reducer:x},S),{...j,...y(P,!0)}}};return j}}function iL(e,t,r,s){function a(i,...o){let l=t(i);return typeof l>"u"&&s&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Sr=aL();function oL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function lL({type:e,reducerName:t,createNotation:r},s,a){let i,o;if("reducer"in s){if(r&&!uL(s))throw new Error(vr(17));i=s.reducer,o=s.prepare}else i=s;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Ur(e,o):Ur(e))}function cL(e){return e._reducerDefinitionType==="asyncThunk"}function uL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function dL({type:e,reducerName:t},r,s,a){if(!a)throw new Error(vr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,m=a(e,i,d);s.exposeAction(t,m),o&&s.addCase(m.fulfilled,o),l&&s.addCase(m.pending,l),c&&s.addCase(m.rejected,c),u&&s.addMatcher(m.settled,u),s.exposeCaseReducer(t,{fulfilled:o||dc,pending:l||dc,rejected:c||dc,settled:u||dc})}function dc(){}var mL="task",x4="listener",v4="completed",V0="cancelled",fL=`task-${V0}`,pL=`task-${v4}`,Wp=`${x4}-${V0}`,hL=`${x4}-${v4}`,$d=class{constructor(e){Sm(this,"name","TaskAbortError");Sm(this,"message");this.code=e,this.message=`${mL} ${V0} (reason: ${e})`}},H0=(e,t)=>{if(typeof e!="function")throw new TypeError(vr(32))},Eu=()=>{},y4=(e,t=Eu)=>(e.catch(t),e),b4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ia=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},oa=e=>{if(e.aborted){const{reason:t}=e;throw new $d(t)}};function j4(e,t){let r=Eu;return new Promise((s,a)=>{const i=()=>a(new $d(e.reason));if(e.aborted){i();return}r=b4(e,i),t.finally(()=>r()).then(s,a)}).finally(()=>{r=Eu})}var gL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof $d?"cancelled":"rejected",error:r}}finally{t==null||t()}},Tu=e=>t=>y4(j4(e,t).then(r=>(oa(e),r))),w4=e=>{const t=Tu(e);return r=>t(new Promise(s=>setTimeout(s,r)))},{assign:ti}=Object,_y={},zd="listenerMiddleware",xL=(e,t)=>{const r=s=>b4(e,()=>ia(s,e.reason));return(s,a)=>{H0(s);const i=new AbortController;r(i);const o=gL(async()=>{oa(e),oa(i.signal);const l=await s({pause:Tu(i.signal),delay:w4(i.signal),signal:i.signal});return oa(i.signal),l},()=>ia(i,pL));return a!=null&&a.autoJoin&&t.push(o.catch(Eu)),{result:Tu(e)(o),cancel(){ia(i,fL)}}}},vL=(e,t)=>{const r=async(s,a)=>{oa(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:s,effect:(m,f)=>{f.unsubscribe(),c([m,f.getState(),f.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await j4(t,Promise.race(l));return oa(t),c}finally{i()}};return(s,a)=>y4(r(s,a))},N4=e=>{let{type:t,actionCreator:r,matcher:s,predicate:a,effect:i}=e;if(t)a=Ur(t).match;else if(r)t=r.type,a=r.match;else if(s)a=s;else if(!a)throw new Error(vr(21));return H0(i),{predicate:a,type:t,effect:i}},S4=ti(e=>{const{type:t,predicate:r,effect:s}=N4(e);return{id:rL(),effect:s,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(vr(22))}}},{withTypes:()=>S4}),Ry=(e,t)=>{const{type:r,effect:s,predicate:a}=N4(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===s)},Kp=e=>{e.pending.forEach(t=>{ia(t,Wp)})},yL=(e,t)=>()=>{for(const r of t.keys())Kp(r);e.clear()},Fy=(e,t,r)=>{try{e(t,r)}catch(s){setTimeout(()=>{throw s},0)}},C4=ti(Ur(`${zd}/add`),{withTypes:()=>C4}),bL=Ur(`${zd}/removeAll`),P4=ti(Ur(`${zd}/remove`),{withTypes:()=>P4}),jL=(...e)=>{console.error(`${zd}/error`,...e)},Sl=(e={})=>{const t=new Map,r=new Map,s=p=>{const g=r.get(p)??0;r.set(p,g+1)},a=p=>{const g=r.get(p)??1;g===1?r.delete(p):r.set(p,g-1)},{extra:i,onError:o=jL}=e;H0(o);const l=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&Kp(p)}),c=p=>{const g=Ry(t,p)??S4(p);return l(g)};ti(c,{withTypes:()=>c});const u=p=>{const g=Ry(t,p);return g&&(g.unsubscribe(),p.cancelActive&&Kp(g)),!!g};ti(u,{withTypes:()=>u});const d=async(p,g,b,x)=>{const v=new AbortController,y=vL(c,v.signal),j=[];try{p.pending.add(v),s(p),await Promise.resolve(p.effect(g,ti({},b,{getOriginalState:x,condition:(w,N)=>y(w,N).then(Boolean),take:y,delay:w4(v.signal),pause:Tu(v.signal),extra:i,signal:v.signal,fork:xL(v.signal,j),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,N,S)=>{w!==v&&(ia(w,Wp),S.delete(w))})},cancel:()=>{ia(v,Wp),p.pending.delete(v)},throwIfCancelled:()=>{oa(v.signal)}})))}catch(w){w instanceof $d||Fy(o,w,{raisedBy:"effect"})}finally{await Promise.all(j),ia(v,hL),a(p),p.pending.delete(v)}},m=yL(t,r);return{middleware:p=>g=>b=>{if(!s4(b))return g(b);if(C4.match(b))return c(b.payload);if(bL.match(b)){m();return}if(P4.match(b))return u(b.payload);let x=p.getState();const v=()=>{if(x===_y)throw new Error(vr(23));return x};let y;try{if(y=g(b),t.size>0){const j=p.getState(),w=Array.from(t.values());for(const N of w){let S=!1;try{S=N.predicate(b,j,x)}catch(P){S=!1,Fy(o,P,{raisedBy:"predicate"})}S&&d(N,b,p,v)}}}finally{x=_y}return y},startListening:c,stopListening:u,clearListeners:m}};function vr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},k4=Sr({name:"chartLayout",initialState:wL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,s,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(s=t.payload.right)!==null&&s!==void 0?s:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:NL,setLayout:SL,setChartSize:CL,setScale:PL}=k4.actions,kL=k4.reducer;function $y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$y(Object(r),!0).forEach(function(s){AL(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$y(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function AL(e,t,r){return(t=EL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EL(e){var t=TL(e,"string");return typeof t=="symbol"?t:t+""}function TL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ou=Math.PI/180,OL=e=>e*180/Math.PI,lt=(e,t,r,s)=>({x:e+Math.cos(-Ou*s)*r,y:t+Math.sin(-Ou*s)*r}),A4=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},ML=(e,t)=>{var{x:r,y:s}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(s-i)**2)},LL=(e,t)=>{var{x:r,y:s}=e,{cx:a,cy:i}=t,o=ML({x:r,y:s},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return s>i&&(c=2*Math.PI-c),{radius:o,angle:OL(c),angleInRadian:c}},IL=e=>{var{startAngle:t,endAngle:r}=e,s=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(s,a);return{startAngle:t-i*360,endAngle:r-i*360}},DL=(e,t)=>{var{startAngle:r,endAngle:s}=t,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return e+o*360},_L=(e,t)=>{var{x:r,y:s}=e,{radius:a,angle:i}=LL({x:r,y:s},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=IL(t),d=i,m;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;m=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;m=d>=u&&d<=c}return m?zy(zy({},t),{},{radius:a,angle:DL(d,t)}):null};function E4(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Uy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uy(Object(r),!0).forEach(function(s){RL(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uy(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function RL(e,t,r){return(t=FL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FL(e){var t=$L(e,"string");return typeof t=="symbol"?t:t+""}function $L(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ct(e,t,r){return br(e)||br(t)?r:Bn(t)?Xo(e,t,r):typeof t=="function"?t(e):r}var zL=(e,t,r,s,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(s==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,m=c>=l-1?r[0].coordinate:r[c+1].coordinate,f=void 0;if(Jt(d-u)!==Jt(m-d)){var p=[];if(Jt(m-d)===Jt(a[1]-a[0])){f=m;var g=d+a[1]-a[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{f=u;var b=m+a[1]-a[0];p[0]=Math.min(d,(b+d)/2),p[1]=Math.max(d,(b+d)/2)}var x=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>x[0]&&e<=x[1]||e>=p[0]&&e<=p[1]){({index:o}=r[c]);break}}else{var v=Math.min(u,m),y=Math.max(u,m);if(e>(v+d)/2&&e<=(y+d)/2){({index:o}=r[c]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},UL=(e,t,r)=>{if(t&&r){var{width:s,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&je(e[i]))return Or(Or({},e),{},{[i]:e[i]+(s||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&je(e[o]))return Or(Or({},e),{},{[o]:e[o]+(a||0)})}return e},Ea=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",By=1e-4,BL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,s=e.range(),a=Math.min(s[0],s[1])-By,i=Math.max(s[0],s[1])+By,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},qL=e=>{var t=e.length;if(!(t<=0))for(var r=0,s=e[0].length;r<s;++r)for(var a=0,i=0,o=0;o<t;++o){var l=Nn(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},VL=e=>{var t=e.length;if(!(t<=0))for(var r=0,s=e[0].length;r<s;++r)for(var a=0,i=0;i<t;++i){var o=Nn(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},HL={sign:qL,expand:EO,none:pi,silhouette:TO,wiggle:OO,positive:VL},WL=(e,t,r)=>{var s=HL[r],a=AO().keys(t).value((i,o)=>+ct(i,o,0)).order(Fp).offset(s);return a(e)},KL=e=>{var t=e.flat(2).filter(je);return[Math.min(...t),Math.max(...t)]},GL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],YL=(e,t,r)=>{if(e!=null)return GL(Object.keys(e).reduce((s,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((c,u)=>{var d=E4(u,t,r),m=KL(d);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],s[0]),Math.max(l[1],s[1])]},[1/0,-1/0]))},qy=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vy=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QL=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();return s}if(e&&t&&t.length>=2){for(var a=Dd(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return 0};function Hy(e){var{tooltipEntrySettings:t,dataKey:r,payload:s,value:a,name:i}=e;return Or(Or({},t),{},{dataKey:r,payload:s,value:a,name:i})}function T4(e,t){if(e)return String(e);if(typeof t=="string")return t}function XL(e,t,r,s,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return s?_L({x:e,y:t},s):null}var JL=(e,t,r,s)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=s;return Or(Or(Or({},s),lt(s.cx,s.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=s;return Or(Or(Or({},s),lt(s.cx,s.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},ZL=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Qn=e=>e.layout.width,Xn=e=>e.layout.height,e7=e=>e.layout.scale,O4=e=>e.layout.margin,Ud=Q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Bd=Q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),M4="data-recharts-item-index",L4="data-recharts-item-data-key",Cl=60;function Wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wy(Object(r),!0).forEach(function(s){t7(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wy(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function t7(e,t,r){return(t=r7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r7(e){var t=n7(e,"string");return typeof t=="symbol"?t:t+""}function n7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s7=e=>e.brush.height;function a7(e){var t=Bd(e);return t.reduce((r,s)=>{if(s.orientation==="left"&&!s.mirror&&!s.hide){var a=typeof s.width=="number"?s.width:Cl;return r+a}return r},0)}function i7(e){var t=Bd(e);return t.reduce((r,s)=>{if(s.orientation==="right"&&!s.mirror&&!s.hide){var a=typeof s.width=="number"?s.width:Cl;return r+a}return r},0)}function o7(e){var t=Ud(e);return t.reduce((r,s)=>s.orientation==="top"&&!s.mirror&&!s.hide?r+s.height:r,0)}function l7(e){var t=Ud(e);return t.reduce((r,s)=>s.orientation==="bottom"&&!s.mirror&&!s.hide?r+s.height:r,0)}var wt=Q([Qn,Xn,O4,s7,a7,i7,o7,l7,t4,EM],(e,t,r,s,a,i,o,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+o,bottom:(r.bottom||0)+l},f=mc(mc({},m),d),p=f.bottom;f.bottom+=s,f=UL(f,c,u);var g=e-f.left-f.right,b=t-f.top-f.bottom;return mc(mc({brushBottom:p},f),{},{width:Math.max(g,0),height:Math.max(b,0)})}),c7=Q(wt,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));Q(Qn,Xn,(e,t)=>({x:0,y:0,width:e,height:t}));var u7=h.createContext(null),Ta=()=>h.useContext(u7)!=null,qd=e=>e.brush,Vd=Q([qd,wt,O4],(e,t,r)=>({height:e.height,x:je(e.x)?e.x:t.left,y:je(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:je(e.width)?e.width:t.width})),I4={},D4={},_4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},m=()=>{u&&d(),b()};let f=null;const p=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,m()},s)},g=()=>{f!==null&&(clearTimeout(f),f=null)},b=()=>{g(),o=void 0,l=null},x=()=>{d()},v=function(...y){if(a!=null&&a.aborted)return;o=this,l=y;const j=f==null;p(),c&&j&&d()};return v.schedule=p,v.cancel=b,v.flush=x,a==null||a.addEventListener("abort",b,{once:!0}),v}e.debounce=t})(_4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_4;function r(s,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,m=null;const f=t.debounce(function(...b){d=s.apply(this,b),m=null},a,{edges:u}),p=function(...b){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(d=s.apply(this,b),m=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,b),d)},g=()=>(f.flush(),d);return p.cancel=f.cancel,p.flush=g,p}e.debounce=r})(D4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D4;function r(s,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(s,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(I4);var d7=I4.throttle;const m7=Kn(d7);var Ky=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]},R4=(e,t,r)=>{var{width:s="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=Un(s)?e:Number(s),c=Un(a)?t:Number(a);return i&&i>0&&(l?c=l/i:c&&(l=c*i),o&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},f7={width:0,height:0,overflow:"visible"},p7={width:0,overflowX:"visible"},h7={height:0,overflowY:"visible"},g7={},x7=e=>{var{width:t,height:r}=e,s=Un(t),a=Un(r);return s&&a?f7:s?p7:a?h7:g7};function v7(e){var{width:t,height:r,aspect:s}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=s&&s>0?void 0:"100%":i===void 0&&(i=s&&s>0?void 0:"100%"),{width:a,height:i}}function lr(e){return Number.isFinite(e)}function gi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Gp.apply(null,arguments)}function Gy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Yy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gy(Object(r),!0).forEach(function(s){y7(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gy(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function y7(e,t,r){return(t=b7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b7(e){var t=j7(e,"string");return typeof t=="symbol"?t:t+""}function j7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F4=h.createContext({width:-1,height:-1});function $4(e){var{children:t,width:r,height:s}=e,a=h.useMemo(()=>({width:r,height:s}),[r,s]);return r<=0||s<=0?null:h.createElement(F4.Provider,{value:a},t)}var W0=()=>h.useContext(F4),w7=h.forwardRef((e,t)=>{var{aspect:r,initialDimension:s={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:m,className:f,onResize:p,style:g={}}=e,b=h.useRef(null),x=h.useRef();x.current=p,h.useImperativeHandle(t,()=>b.current);var[v,y]=h.useState({containerWidth:s.width,containerHeight:s.height}),j=h.useCallback((C,E)=>{y(O=>{var I=Math.round(C),M=Math.round(E);return O.containerWidth===I&&O.containerHeight===M?O:{containerWidth:I,containerHeight:M}})},[]);h.useEffect(()=>{var C=M=>{var k,{width:A,height:B}=M[0].contentRect;j(A,B),(k=x.current)===null||k===void 0||k.call(x,A,B)};d>0&&(C=m7(C,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(C),{width:O,height:I}=b.current.getBoundingClientRect();return j(O,I),E.observe(b.current),()=>{E.disconnect()}},[j,d]);var{containerWidth:w,containerHeight:N}=v;Ky(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:P}=R4(w,N,{width:a,height:i,aspect:r,maxHeight:c});return Ky(S>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,P,a,i,o,l,r),h.createElement("div",{id:m?"".concat(m):void 0,className:dt("recharts-responsive-container",f),style:Yy(Yy({},g),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:b},h.createElement("div",{style:x7({width:a,height:i})},h.createElement($4,{width:S,height:P},u)))}),N7=h.forwardRef((e,t)=>{var r=W0();if(gi(r.width)&&gi(r.height))return e.children;var{width:s,height:a}=v7({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=R4(void 0,void 0,{width:s,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return je(i)&&je(o)?h.createElement($4,{width:i,height:o},e.children):h.createElement(w7,Gp({},e,{width:s,height:a,ref:t}))}),Hd=()=>{var e,t=Ta(),r=Se(c7),s=Se(Vd),a=(e=Se(qd))===null||e===void 0?void 0:e.padding;return!t||!s||!a?r:{width:s.width-a.left-a.right,height:s.height-a.top-a.bottom,x:a.left,y:a.top}},S7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},C7=()=>{var e;return(e=Se(wt))!==null&&e!==void 0?e:S7},P7=()=>Se(Qn),k7=()=>Se(Xn),$e=e=>e.layout.layoutType,z4=()=>Se($e),Wd=e=>{var t=Lt(),r=Ta(),{width:s,height:a}=e,i=W0(),o=s,l=a;return i&&(o=i.width>0?i.width:s,l=i.height>0?i.height:a),h.useEffect(()=>{!r&&gi(o)&&gi(l)&&t(CL({width:o,height:l}))},[t,r,o,l]),null},A7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},U4=Sr({name:"legend",initialState:A7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ut()},removeLegendPayload:{reducer(e,t){var r=In(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ut()}}}),{setLegendSize:tV,setLegendSettings:rV,addLegendPayload:E7,removeLegendPayload:T7}=U4.actions,O7=U4.reducer;function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Yp.apply(null,arguments)}function Qy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qy(Object(r),!0).forEach(function(s){M7(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qy(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function M7(e,t,r){return(t=L7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L7(e){var t=I7(e,"string");return typeof t=="symbol"?t:t+""}function I7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D7(e){return Array.isArray(e)&&Bn(e[0])&&Bn(e[1])?e.join(" ~ "):e}var _7=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:s={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:m,accessibilityLayer:f=!1}=e,p=()=>{if(i&&i.length){var N={padding:0,margin:0},S=(l?Dd(i,l):i).map((P,C)=>{if(P.type==="none")return null;var E=P.formatter||o||D7,{value:O,name:I}=P,M=O,k=I;if(E){var A=E(O,I,P,C,i);if(Array.isArray(A))[M,k]=A;else if(A!=null)M=A;else return null}var B=pf({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},s);return h.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:B},Bn(k)?h.createElement("span",{className:"recharts-tooltip-item-name"},k):null,Bn(k)?h.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,h.createElement("span",{className:"recharts-tooltip-item-value"},M),h.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return h.createElement("ul",{className:"recharts-tooltip-item-list",style:N},S)}return null},g=pf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=pf({margin:0},a),x=!br(d),v=x?d:"",y=dt("recharts-default-tooltip",c),j=dt("recharts-tooltip-label",u);x&&m&&i!==void 0&&i!==null&&(v=m(d,i));var w=f?{role:"status","aria-live":"assertive"}:{};return h.createElement("div",Yp({className:y,style:g},w),h.createElement("p",{className:j,style:b},h.isValidElement(v)?v:"".concat(v)),p())},Xi="recharts-tooltip-wrapper",R7={visibility:"hidden"};function F7(e){var{coordinate:t,translateX:r,translateY:s}=e;return dt(Xi,{["".concat(Xi,"-right")]:je(r)&&t&&je(t.x)&&r>=t.x,["".concat(Xi,"-left")]:je(r)&&t&&je(t.x)&&r<t.x,["".concat(Xi,"-bottom")]:je(s)&&t&&je(t.y)&&s>=t.y,["".concat(Xi,"-top")]:je(s)&&t&&je(t.y)&&s<t.y})}function Xy(e){var{allowEscapeViewBox:t,coordinate:r,key:s,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&je(i[s]))return i[s];var d=r[s]-l-(a>0?a:0),m=r[s]+a;if(t[s])return o[s]?d:m;var f=c[s];if(f==null)return 0;if(o[s]){var p=d,g=f;return p<g?Math.max(m,f):Math.max(d,f)}if(u==null)return 0;var b=m+l,x=f+u;return b>x?Math.max(d,f):Math.max(m,f)}function $7(e){var{translateX:t,translateY:r,useTranslate3d:s}=e;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function z7(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:s,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,m;return o.height>0&&o.width>0&&r?(d=Xy({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=Xy({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=$7({translateX:d,translateY:m,useTranslate3d:l})):u=R7,{cssProperties:u,cssClasses:F7({translateX:d,translateY:m,coordinate:r})}}function Jy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jy(Object(r),!0).forEach(function(s){Qp(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jy(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Qp(e,t,r){return(t=U7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=B7(e,"string");return typeof t=="symbol"?t:t+""}function B7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class q7 extends h.PureComponent{constructor(){super(...arguments),Qp(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Qp(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,s,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:s,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:m,useTranslate3d:f,viewBox:p,wrapperStyle:g,lastBoundingBox:b,innerRef:x,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:j}=z7({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:m,tooltipBox:{height:b.height,width:b.width},useTranslate3d:f,viewBox:p}),w=v?{}:fc(fc({transition:c&&t?"transform ".concat(s,"ms ").concat(a):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=fc(fc({},w),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return h.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:N,ref:x},i)}}var V7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Pl={devToolsEnabled:!1,isSsr:V7()},B4=()=>Se(e=>e.rootProps.accessibilityLayer);function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xp.apply(null,arguments)}function Zy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zy(Object(r),!0).forEach(function(s){H7(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zy(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function H7(e,t,r){return(t=W7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W7(e){var t=K7(e,"string");return typeof t=="symbol"?t:t+""}function K7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tb={curveBasisClosed:xO,curveBasisOpen:vO,curveBasis:gO,curveBumpX:rO,curveBumpY:nO,curveLinearClosed:yO,curveLinear:Ad,curveMonotoneX:bO,curveMonotoneY:jO,curveNatural:wO,curveStep:NO,curveStepAfter:CO,curveStepBefore:SO},pc=e=>lr(e.x)&&lr(e.y),Ji=e=>e.x,Zi=e=>e.y,G7=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(wl(e));return(r==="curveMonotone"||r==="curveBump")&&t?tb["".concat(r).concat(t==="vertical"?"Y":"X")]:tb[r]||Ad},Y7=e=>{var{type:t="linear",points:r=[],baseLine:s,layout:a,connectNulls:i=!1}=e,o=G7(t,a),l=i?r.filter(pc):r,c;if(Array.isArray(s)){var u=i?s.filter(m=>pc(m)):s,d=l.map((m,f)=>eb(eb({},m),{},{base:u[f]}));return a==="vertical"?c=ic().y(Zi).x1(Ji).x0(m=>m.base.x):c=ic().x(Ji).y1(Zi).y0(m=>m.base.y),c.defined(pc).curve(o),c(d)}return a==="vertical"&&je(s)?c=ic().y(Zi).x1(Ji).x0(s):je(s)?c=ic().x(Ji).y1(Zi).y0(s):c=m2().x(Ji).y(Zi),c.defined(pc).curve(o),c(l)},q4=e=>{var{className:t,points:r,path:s,pathRef:a}=e;if((!r||!r.length)&&!s)return null;var i=r&&r.length?Y7(e):s;return h.createElement("path",Xp({},fi(e),HO(e),{className:dt("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Q7=["x","y","top","left","width","height","className"];function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Jp.apply(null,arguments)}function rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function X7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(r),!0).forEach(function(s){J7(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function J7(e,t,r){return(t=Z7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z7(e){var t=eI(e,"string");return typeof t=="symbol"?t:t+""}function eI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tI(e,t){if(e==null)return{};var r,s,a=rI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rI(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var nI=(e,t,r,s,a,i)=>"M".concat(e,",").concat(a,"v").concat(s,"M").concat(i,",").concat(t,"h").concat(r),sI=e=>{var{x:t=0,y:r=0,top:s=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=tI(e,Q7),u=X7({x:t,y:r,top:s,left:a,width:i,height:o},c);return!je(t)||!je(r)||!je(i)||!je(o)||!je(s)||!je(a)?null:h.createElement("path",Jp({},zr(u),{className:dt("recharts-cross",l),d:nI(t,r,i,o,s,a)}))};function aI(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function iI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nb(Object(r),!0).forEach(function(s){oI(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nb(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function oI(e,t,r){return(t=lI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lI(e){var t=cI(e,"string");return typeof t=="symbol"?t:t+""}function cI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jn(e,t){var r=iI({},e),s=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&s[l]!==void 0&&(o[l]=s[l]),o),r);return i}function uI(){}function dI(e){return e!=null}function sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ab(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sb(Object(r),!0).forEach(function(s){mI(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sb(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function mI(e,t,r){return(t=fI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fI(e){var t=pI(e,"string");return typeof t=="symbol"?t:t+""}function pI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hI=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),V4=(e,t,r)=>e.map(s=>"".concat(hI(s)," ").concat(t,"ms ").concat(r)).join(","),gI=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,s)=>r.filter(a=>s.includes(a))),rl=(e,t)=>Object.keys(t).reduce((r,s)=>ab(ab({},r),{},{[s]:e(s,t[s])}),{});function ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ib(Object(r),!0).forEach(function(s){xI(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ib(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function xI(e,t,r){return(t=vI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vI(e){var t=yI(e,"string");return typeof t=="symbol"?t:t+""}function yI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mu=(e,t,r)=>e+(t-e)*r,Zp=e=>{var{from:t,to:r}=e;return t!==r},H4=(e,t,r)=>{var s=rl((a,i)=>{if(Zp(i)){var[o,l]=e(i.from,i.to,i.velocity);return kt(kt({},i),{},{from:o,velocity:l})}return i},t);return r<1?rl((a,i)=>Zp(i)?kt(kt({},i),{},{velocity:Mu(i.velocity,s[a].velocity,r),from:Mu(i.from,s[a].from,r)}):i,t):H4(e,s,r-1)};function bI(e,t,r,s,a,i){var o,l=s.reduce((f,p)=>kt(kt({},f),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>rl((f,p)=>p.from,l),u=()=>!Object.values(l).filter(Zp).length,d=null,m=f=>{o||(o=f);var p=f-o,g=p/r.dt;l=H4(r,l,g),a(kt(kt(kt({},e),t),c())),o=f,u()||(d=i.setTimeout(m))};return()=>(d=i.setTimeout(m),()=>{d()})}function jI(e,t,r,s,a,i,o){var l=null,c=a.reduce((m,f)=>kt(kt({},m),{},{[f]:[e[f],t[f]]}),{}),u,d=m=>{u||(u=m);var f=(m-u)/s,p=rl((b,x)=>Mu(...x,r(f)),c);if(i(kt(kt(kt({},e),t),p)),f<1)l=o.setTimeout(d);else{var g=rl((b,x)=>Mu(...x,r(1)),c);i(kt(kt(kt({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{l()})}const wI=(e,t,r,s,a,i)=>{var o=gI(e,t);return r.isStepper===!0?bI(e,t,r,o,a,i):jI(e,t,r,s,o,a,i)};var Lu=1e-4,W4=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],K4=(e,t)=>e.map((r,s)=>r*t**s).reduce((r,s)=>r+s),ob=(e,t)=>r=>{var s=W4(e,t);return K4(s,r)},NI=(e,t)=>r=>{var s=W4(e,t),a=[...s.map((i,o)=>i*o).slice(1),0];return K4(a,r)},lb=function(){for(var t,r,s,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,s,r,a]=[0,0,1,1];break;case"ease":[t,s,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,s,r,a]=[.42,0,1,1];break;case"ease-out":[t,s,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,s,r,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,s,r,a]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else o.length===4&&([t,s,r,a]=o);var u=ob(t,r),d=ob(s,a),m=NI(t,r),f=g=>g>1?1:g<0?0:g,p=g=>{for(var b=g>1?1:g,x=b,v=0;v<8;++v){var y=u(x)-b,j=m(x);if(Math.abs(y-b)<Lu||j<Lu)return d(x);x=f(x-y/j)}return d(x)};return p.isStepper=!1,p},SI=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:s=8,dt:a=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*s,m=c+(u-d)*a/1e3,f=c*a/1e3+o;return Math.abs(f-l)<Lu&&Math.abs(m)<Lu?[l,0]:[f,m]};return i.isStepper=!0,i.dt=a,i},CI=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lb(e);case"spring":return SI();default:if(e.split("(")[0]==="cubic-bezier")return lb(e)}return typeof e=="function"?e:null};function PI(e){var t,r=()=>null,s=!1,a=null,i=o=>{if(!s){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{s=!0},start:o=>{s=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class kI{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=performance.now(),a=null,i=o=>{o-s>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function AI(){return PI(new kI)}var EI=h.createContext(AI);function TI(e,t){var r=h.useContext(EI);return h.useMemo(()=>t??r(e),[e,t,r])}var OI={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},cb={t:0},hf={t:1};function K0(e){var t=Jn(e,OI),{isActive:r,canBegin:s,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=TI(t.animationId,t.animationManager),[m,f]=h.useState(r?cb:hf),p=h.useRef(null);return h.useEffect(()=>{r||f(hf)},[r]),h.useEffect(()=>{if(!r||!s)return uI;var g=wI(cb,hf,CI(i),a,f,d.getTimeoutController()),b=()=>{p.current=g()};return d.start([c,o,b,a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[r,s,a,i,o,c,l,d]),u(m.t)}function G0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=h.useRef(Jo(t)),s=h.useRef(e);return s.current!==e&&(r.current=Jo(t),s.current=e),r.current}var MI=["radius"],LI=["radius"];function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function db(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ub(Object(r),!0).forEach(function(s){II(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function II(e,t,r){return(t=DI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DI(e){var t=_I(e,"string");return typeof t=="symbol"?t:t+""}function _I(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Iu.apply(null,arguments)}function mb(e,t){if(e==null)return{};var r,s,a=RI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RI(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var fb=(e,t,r,s,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(s)/2),o=s>=0?1:-1,l=r>=0?1:-1,c=s>=0&&r>=0||s<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],m=0,f=4;m<f;m++)d[m]=a[m]>i?i:a[m];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+s-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+s)),u+="L ".concat(e+l*d[3],",").concat(t+s),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+s-o*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);u="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,`
            L `).concat(e+r-l*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*p,`
            L `).concat(e+r,",").concat(t+s-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-l*p,",").concat(t+s,`
            L `).concat(e+l*p,",").concat(t+s,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+s-o*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return u},FI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G4=e=>{var t=Jn(e,FI),r=h.useRef(null),[s,a]=h.useState(-1);h.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&a(D)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:m,animationDuration:f,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:b}=t,x=h.useRef(l),v=h.useRef(c),y=h.useRef(i),j=h.useRef(o),w=h.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),N=G0(w,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var S=dt("recharts-rectangle",d);if(!b){var P=zr(t),{radius:C}=P,E=mb(P,MI);return h.createElement("path",Iu({},E,{radius:typeof u=="number"?u:void 0,className:S,d:fb(i,o,l,c,u)}))}var O=x.current,I=v.current,M=y.current,k=j.current,A="0px ".concat(s===-1?1:s,"px"),B="".concat(s,"px 0px"),F=V4(["strokeDasharray"],f,typeof m=="string"?m:void 0);return h.createElement(K0,{animationId:N,key:N,canBegin:s>0,duration:f,easing:m,isActive:b,begin:p},D=>{var $=Xr(O,l,D),z=Xr(I,c,D),K=Xr(M,i,D),U=Xr(k,o,D);r.current&&(x.current=$,v.current=z,y.current=K,j.current=U);var q;g?D>0?q={transition:F,strokeDasharray:B}:q={strokeDasharray:A}:q={strokeDasharray:B};var te=zr(t),{radius:W}=te,ie=mb(te,LI);return h.createElement("path",Iu({},ie,{radius:typeof u=="number"?u:void 0,className:S,d:fb(K,U,$,z,u),ref:r,style:db(db({},q),t.style)}))})};function Y4(e){var{cx:t,cy:r,radius:s,startAngle:a,endAngle:i}=e,o=lt(t,r,s,a),l=lt(t,r,s,i);return{points:[o,l],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},eh.apply(null,arguments)}var $I=(e,t)=>{var r=Jt(t-e),s=Math.min(Math.abs(t-e),359.999);return r*s},hc=e=>{var{cx:t,cy:r,radius:s,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+s,d=Math.asin(l/u)/Ou,m=c?a:a+i*d,f=lt(t,r,u,m),p=lt(t,r,s,m),g=c?a-i*d:a,b=lt(t,r,u*Math.cos(d*Ou),g);return{center:f,circleTangency:p,lineTangency:b,theta:d}},Q4=e=>{var{cx:t,cy:r,innerRadius:s,outerRadius:a,startAngle:i,endAngle:o}=e,l=$I(i,o),c=i+l,u=lt(t,r,a,i),d=lt(t,r,a,c),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(s>0){var f=lt(t,r,s,i),p=lt(t,r,s,c);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},zI=e=>{var{cx:t,cy:r,innerRadius:s,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=Jt(u-c),{circleTangency:m,lineTangency:f,theta:p}=hc({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:g,lineTangency:b,theta:x}=hc({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),v=l?Math.abs(c-u):Math.abs(c-u)-p-x;if(v<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):Q4({cx:t,cy:r,innerRadius:s,outerRadius:a,startAngle:c,endAngle:u});var y="M ".concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var{circleTangency:j,lineTangency:w,theta:N}=hc({cx:t,cy:r,radius:s,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:P,theta:C}=hc({cx:t,cy:r,radius:s,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),E=l?Math.abs(c-u):Math.abs(c-u)-N-C;if(E<0&&i===0)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,"Z")}else y+="L".concat(t,",").concat(r,"Z");return y},UI={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},X4=e=>{var t=Jn(e,UI),{cx:r,cy:s,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:m}=t;if(i<a||u===d)return null;var f=dt("recharts-sector",m),p=i-a,g=xr(o,p,0,!0),b;return g>0&&Math.abs(u-d)<360?b=zI({cx:r,cy:s,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):b=Q4({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),h.createElement("path",eh({},zr(t),{className:f,d:b}))};function BI(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:m}=t,f=lt(l,c,u,m),p=lt(l,c,d,m);s=f.x,a=f.y,i=p.x,o=p.y}else return Y4(t);return[{x:s,y:a},{x:i,y:o}]}var J4={},Z4={},eS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$0;function r(s){return t.isSymbol(s)?NaN:Number(s)}e.toNumber=r})(eS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eS;function r(s){return s?(s=t.toNumber(s),s===1/0||s===-1/0?(s<0?-1:1)*Number.MAX_VALUE:s===s?s:0):s===0?s:0}e.toFinite=r})(Z4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z0,r=Z4;function s(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=s})(J4);var qI=J4.range;const tS=Kn(qI);function Ps(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VI(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Y0(e){let t,r,s;e.length!==2?(t=Ps,r=(l,c)=>Ps(e(l),c),s=(l,c)=>e(l)-c):(t=e===Ps||e===VI?e:HI,r=e,s=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;r(l[m],c)<0?u=m+1:d=m}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;r(l[m],c)<=0?u=m+1:d=m}while(u<d)}return u}function o(l,c,u=0,d=l.length){const m=a(l,c,u,d-1);return m>u&&s(l[m-1],c)>-s(l[m],c)?m-1:m}return{left:a,center:o,right:i}}function HI(){return 0}function rS(e){return e===null?NaN:+e}function*WI(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const KI=Y0(Ps),kl=KI.right;Y0(rS).center;class pb extends Map{constructor(t,r=QI){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(hb(this,t))}has(t){return super.has(hb(this,t))}set(t,r){return super.set(GI(this,t),r)}delete(t){return super.delete(YI(this,t))}}function hb({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function GI({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function YI({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function QI(e){return e!==null&&typeof e=="object"?e.valueOf():e}function XI(e=Ps){if(e===Ps)return nS;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function nS(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const JI=Math.sqrt(50),ZI=Math.sqrt(10),eD=Math.sqrt(2);function Du(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=JI?10:i>=ZI?5:i>=eD?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Du(e,t,r*2):[l,c,u]}function th(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?Du(t,e,r):Du(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function rh(e,t,r){return t=+t,e=+e,r=+r,Du(e,t,r)[2]}function nh(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?rh(t,e,r):rh(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function gb(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function xb(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function sS(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?nS:XI(a);s>r;){if(s-r>600){const c=s-r+1,u=t-r+1,d=Math.log(c),m=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*m*(c-m)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*m/c+f)),g=Math.min(s,Math.floor(t+(c-u)*m/c+f));sS(e,t,p,g,a)}const i=e[t];let o=r,l=s;for(eo(e,r,t),a(e[s],i)>0&&eo(e,r,s);o<l;){for(eo(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?eo(e,r,l):(++l,eo(e,l,s)),l<=t&&(r=l+1),t<=l&&(s=l-1)}return e}function eo(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function tD(e,t,r){if(e=Float64Array.from(WI(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return xb(e);if(t>=1)return gb(e);var s,a=(s-1)*t,i=Math.floor(a),o=gb(sS(e,i).subarray(0,i+1)),l=xb(e.subarray(i+1));return o+(l-o)*(a-i)}}function rD(e,t,r=rS){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function nD(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function Hr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sh=Symbol("implicit");function Q0(){var e=new pb,t=[],r=[],s=sh;function a(i){let o=e.get(i);if(o===void 0){if(s!==sh)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new pb;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return Q0(t,r).unknown(s)},Hr.apply(a,arguments),a}function X0(){var e=Q0().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function m(){var f=t().length,p=a<s,g=p?a:s,b=p?s:a;i=(b-g)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),g+=(b-g-i*(f-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=nD(f).map(function(v){return g+i*v});return r(p?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),m()):t()},e.range=function(f){return arguments.length?([s,a]=f,s=+s,a=+a,m()):[s,a]},e.rangeRound=function(f){return[s,a]=f,s=+s,a=+a,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,m()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),m()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),m()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,m()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),m()):d},e.copy=function(){return X0(t(),[s,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Hr.apply(m(),arguments)}function aS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aS(t())},e}function sD(){return aS(X0.apply(null,arguments).paddingInner(1))}function J0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function iS(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function Al(){}var nl=.7,_u=1/nl,ri="\\s*([+-]?\\d+)\\s*",sl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aD=/^#([0-9a-f]{3,8})$/,iD=new RegExp(`^rgb\\(${ri},${ri},${ri}\\)$`),oD=new RegExp(`^rgb\\(${jn},${jn},${jn}\\)$`),lD=new RegExp(`^rgba\\(${ri},${ri},${ri},${sl}\\)$`),cD=new RegExp(`^rgba\\(${jn},${jn},${jn},${sl}\\)$`),uD=new RegExp(`^hsl\\(${sl},${jn},${jn}\\)$`),dD=new RegExp(`^hsla\\(${sl},${jn},${jn},${sl}\\)$`),vb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};J0(Al,al,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yb,formatHex:yb,formatHex8:mD,formatHsl:fD,formatRgb:bb,toString:bb});function yb(){return this.rgb().formatHex()}function mD(){return this.rgb().formatHex8()}function fD(){return oS(this).formatHsl()}function bb(){return this.rgb().formatRgb()}function al(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=aD.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?jb(t):r===3?new Zt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?gc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?gc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iD.exec(e))?new Zt(t[1],t[2],t[3],1):(t=oD.exec(e))?new Zt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lD.exec(e))?gc(t[1],t[2],t[3],t[4]):(t=cD.exec(e))?gc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uD.exec(e))?Sb(t[1],t[2]/100,t[3]/100,1):(t=dD.exec(e))?Sb(t[1],t[2]/100,t[3]/100,t[4]):vb.hasOwnProperty(e)?jb(vb[e]):e==="transparent"?new Zt(NaN,NaN,NaN,0):null}function jb(e){return new Zt(e>>16&255,e>>8&255,e&255,1)}function gc(e,t,r,s){return s<=0&&(e=t=r=NaN),new Zt(e,t,r,s)}function pD(e){return e instanceof Al||(e=al(e)),e?(e=e.rgb(),new Zt(e.r,e.g,e.b,e.opacity)):new Zt}function ah(e,t,r,s){return arguments.length===1?pD(e):new Zt(e,t,r,s??1)}function Zt(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}J0(Zt,ah,iS(Al,{brighter(e){return e=e==null?_u:Math.pow(_u,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nl:Math.pow(nl,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zt(la(this.r),la(this.g),la(this.b),Ru(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wb,formatHex:wb,formatHex8:hD,formatRgb:Nb,toString:Nb}));function wb(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}`}function hD(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}${ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nb(){const e=Ru(this.opacity);return`${e===1?"rgb(":"rgba("}${la(this.r)}, ${la(this.g)}, ${la(this.b)}${e===1?")":`, ${e})`}`}function Ru(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function la(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ta(e){return e=la(e),(e<16?"0":"")+e.toString(16)}function Sb(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zr(e,t,r,s)}function oS(e){if(e instanceof Zr)return new Zr(e.h,e.s,e.l,e.opacity);if(e instanceof Al||(e=al(e)),!e)return new Zr;if(e instanceof Zr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Zr(o,l,c,e.opacity)}function gD(e,t,r,s){return arguments.length===1?oS(e):new Zr(e,t,r,s??1)}function Zr(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}J0(Zr,gD,iS(Al,{brighter(e){return e=e==null?_u:Math.pow(_u,e),new Zr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nl:Math.pow(nl,e),new Zr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new Zt(gf(e>=240?e-240:e+120,a,s),gf(e,a,s),gf(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Zr(Cb(this.h),xc(this.s),xc(this.l),Ru(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ru(this.opacity);return`${e===1?"hsl(":"hsla("}${Cb(this.h)}, ${xc(this.s)*100}%, ${xc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Cb(e){return e=(e||0)%360,e<0?e+360:e}function xc(e){return Math.max(0,Math.min(1,e||0))}function gf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Z0=e=>()=>e;function xD(e,t){return function(r){return e+r*t}}function vD(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function yD(e){return(e=+e)==1?lS:function(t,r){return r-t?vD(t,r,e):Z0(isNaN(t)?r:t)}}function lS(e,t){var r=t-e;return r?xD(e,r):Z0(isNaN(e)?t:e)}const Pb=function e(t){var r=yD(t);function s(a,i){var o=r((a=ah(a)).r,(i=ah(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=lS(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return s.gamma=e,s}(1);function bD(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function jD(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wD(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=ki(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function ND(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function Fu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function SD(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ki(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var ih=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xf=new RegExp(ih.source,"g");function CD(e){return function(){return e}}function PD(e){return function(t){return e(t)+""}}function kD(e,t){var r=ih.lastIndex=xf.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=ih.exec(e))&&(a=xf.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Fu(s,a)})),r=xf.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?PD(c[0].x):CD(t):(t=c.length,function(u){for(var d=0,m;d<t;++d)l[(m=c[d]).i]=m.x(u);return l.join("")})}function ki(e,t){var r=typeof t,s;return t==null||r==="boolean"?Z0(t):(r==="number"?Fu:r==="string"?(s=al(t))?(t=s,Pb):kD:t instanceof al?Pb:t instanceof Date?ND:jD(t)?bD:Array.isArray(t)?wD:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SD:Fu)(e,t)}function eg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function AD(e,t){t===void 0&&(t=e,e=ki);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function ED(e){return function(){return e}}function $u(e){return+e}var kb=[0,1];function Bt(e){return e}function oh(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ED(isNaN(t)?NaN:.5)}function TD(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function OD(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=oh(a,s),i=r(o,i)):(s=oh(s,a),i=r(i,o)),function(l){return i(s(l))}}function MD(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=oh(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=kl(e,l,1,s)-1;return i[c](a[c](l))}}function El(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kd(){var e=kb,t=kb,r=ki,s,a,i,o=Bt,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==Bt&&(o=TD(e[0],e[f-1])),l=f>2?MD:OD,c=u=null,m}function m(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(s),t,r)))(s(o(f)))}return m.invert=function(f){return o(a((u||(u=l(t,e.map(s),Fu)))(f)))},m.domain=function(f){return arguments.length?(e=Array.from(f,$u),d()):e.slice()},m.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},m.rangeRound=function(f){return t=Array.from(f),r=eg,d()},m.clamp=function(f){return arguments.length?(o=f?!0:Bt,d()):o!==Bt},m.interpolate=function(f){return arguments.length?(r=f,d()):r},m.unknown=function(f){return arguments.length?(i=f,m):i},function(f,p){return s=f,a=p,d()}}function tg(){return Kd()(Bt,Bt)}function LD(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function xi(e){return e=zu(Math.abs(e)),e?e[1]:NaN}function ID(e,t){return function(r,s){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function DD(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var _D=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function il(e){if(!(t=_D.exec(e)))throw new Error("invalid format: "+e);var t;return new rg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}il.prototype=rg.prototype;function rg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}rg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function RD(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var cS;function FD(e,t){var r=zu(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(cS=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+zu(e,Math.max(0,t+i-1))[0]}function Ab(e,t){var r=zu(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const Eb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:LD,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ab(e*100,t),r:Ab,s:FD,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Tb(e){return e}var Ob=Array.prototype.map,Mb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $D(e){var t=e.grouping===void 0||e.thousands===void 0?Tb:ID(Ob.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Tb:DD(Ob.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(m){m=il(m);var f=m.fill,p=m.align,g=m.sign,b=m.symbol,x=m.zero,v=m.width,y=m.comma,j=m.precision,w=m.trim,N=m.type;N==="n"?(y=!0,N="g"):Eb[N]||(j===void 0&&(j=12),w=!0,N="g"),(x||f==="0"&&p==="=")&&(x=!0,f="0",p="=");var S=b==="$"?r:b==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=b==="$"?s:/[%p]/.test(N)?o:"",C=Eb[N],E=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function O(I){var M=S,k=P,A,B,F;if(N==="c")k=C(I)+k,I="";else{I=+I;var D=I<0||1/I<0;if(I=isNaN(I)?c:C(Math.abs(I),j),w&&(I=RD(I)),D&&+I==0&&g!=="+"&&(D=!1),M=(D?g==="("?g:l:g==="-"||g==="("?"":g)+M,k=(N==="s"?Mb[8+cS/3]:"")+k+(D&&g==="("?")":""),E){for(A=-1,B=I.length;++A<B;)if(F=I.charCodeAt(A),48>F||F>57){k=(F===46?a+I.slice(A+1):I.slice(A))+k,I=I.slice(0,A);break}}}y&&!x&&(I=t(I,1/0));var $=M.length+I.length+k.length,z=$<v?new Array(v-$+1).join(f):"";switch(y&&x&&(I=t(z+I,z.length?v-k.length:1/0),z=""),p){case"<":I=M+I+k+z;break;case"=":I=M+z+I+k;break;case"^":I=z.slice(0,$=z.length>>1)+M+I+k+z.slice($);break;default:I=z+M+I+k;break}return i(I)}return O.toString=function(){return m+""},O}function d(m,f){var p=u((m=il(m),m.type="f",m)),g=Math.max(-8,Math.min(8,Math.floor(xi(f)/3)))*3,b=Math.pow(10,-g),x=Mb[8+g/3];return function(v){return p(b*v)+x}}return{format:u,formatPrefix:d}}var vc,ng,uS;zD({thousands:",",grouping:[3],currency:["$",""]});function zD(e){return vc=$D(e),ng=vc.format,uS=vc.formatPrefix,vc}function UD(e){return Math.max(0,-xi(Math.abs(e)))}function BD(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xi(t)/3)))*3-xi(Math.abs(e)))}function qD(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xi(t)-xi(e))+1}function dS(e,t,r,s){var a=nh(e,t,r),i;switch(s=il(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=BD(a,o))&&(s.precision=i),uS(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=qD(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=UD(a))&&(s.precision=i-(s.type==="%")*2);break}}return ng(s)}function Fs(e){var t=e.domain;return e.ticks=function(r){var s=t();return th(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return dS(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=rh(o,l,r),u===c)return s[a]=o,s[i]=l,t(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function mS(){var e=tg();return e.copy=function(){return El(e,mS())},Hr.apply(e,arguments),Fs(e)}function fS(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,$u),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return fS(e).unknown(t)},e=arguments.length?Array.from(e,$u):[0,1],Fs(r)}function pS(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function Lb(e){return Math.log(e)}function Ib(e){return Math.exp(e)}function VD(e){return-Math.log(-e)}function HD(e){return-Math.exp(-e)}function WD(e){return isFinite(e)?+("1e"+e):e<0?0:e}function KD(e){return e===10?WD:e===Math.E?Math.exp:t=>Math.pow(e,t)}function GD(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Db(e){return(t,r)=>-e(-t,r)}function sg(e){const t=e(Lb,Ib),r=t.domain;let s=10,a,i;function o(){return a=GD(s),i=KD(s),r()[0]<0?(a=Db(a),i=Db(i),e(VD,HD)):e(Lb,Ib),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const m=d<u;m&&([u,d]=[d,u]);let f=a(u),p=a(d),g,b;const x=l==null?10:+l;let v=[];if(!(s%1)&&p-f<x){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(g=1;g<s;++g)if(b=f<0?g/i(-f):g*i(f),!(b<u)){if(b>d)break;v.push(b)}}else for(;f<=p;++f)for(g=s-1;g>=1;--g)if(b=f>0?g/i(-f):g*i(f),!(b<u)){if(b>d)break;v.push(b)}v.length*2<x&&(v=th(u,d,x))}else v=th(f,p,Math.min(p-f,x)).map(i);return m?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=il(c)).precision==null&&(c.trim=!0),c=ng(c)),l===1/0)return c;const u=Math.max(1,s*l/t.ticks().length);return d=>{let m=d/i(Math.round(a(d)));return m*s<s-.5&&(m*=s),m<=u?c(d):""}},t.nice=()=>r(pS(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function hS(){const e=sg(Kd()).domain([1,10]);return e.copy=()=>El(e,hS()).base(e.base()),Hr.apply(e,arguments),e}function _b(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Rb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ag(e){var t=1,r=e(_b(t),Rb(t));return r.constant=function(s){return arguments.length?e(_b(t=+s),Rb(t)):t},Fs(r)}function gS(){var e=ag(Kd());return e.copy=function(){return El(e,gS()).constant(e.constant())},Hr.apply(e,arguments)}function Fb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function YD(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function QD(e){return e<0?-e*e:e*e}function ig(e){var t=e(Bt,Bt),r=1;function s(){return r===1?e(Bt,Bt):r===.5?e(YD,QD):e(Fb(r),Fb(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},Fs(t)}function og(){var e=ig(Kd());return e.copy=function(){return El(e,og()).exponent(e.exponent())},Hr.apply(e,arguments),e}function XD(){return og.apply(null,arguments).exponent(.5)}function $b(e){return Math.sign(e)*e*e}function JD(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xS(){var e=tg(),t=[0,1],r=!1,s;function a(i){var o=JD(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert($b(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,$u)).map($b)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return xS(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},Hr.apply(a,arguments),Fs(a)}function vS(){var e=[],t=[],r=[],s;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=rD(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[kl(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ps),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return vS().domain(e).range(t).unknown(s)},Hr.apply(i,arguments)}function yS(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[kl(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=r?[s[r-1],t]:[s[u-1],s[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return yS().domain([e,t]).range(a).unknown(i)},Hr.apply(Fs(o),arguments)}function bS(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[kl(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return bS().domain(e).range(t).unknown(r)},Hr.apply(a,arguments)}const vf=new Date,yf=new Date;function ht(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>ht(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(vf.setTime(+i),yf.setTime(+o),e(vf),e(yf),Math.floor(r(vf,yf))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Uu=ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Uu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Uu);Uu.range;const On=1e3,Ir=On*60,Mn=Ir*60,Vn=Mn*24,lg=Vn*7,zb=Vn*30,bf=Vn*365,ra=ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*On)},(e,t)=>(t-e)/On,e=>e.getUTCSeconds());ra.range;const cg=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*On)},(e,t)=>{e.setTime(+e+t*Ir)},(e,t)=>(t-e)/Ir,e=>e.getMinutes());cg.range;const ug=ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ir)},(e,t)=>(t-e)/Ir,e=>e.getUTCMinutes());ug.range;const dg=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*On-e.getMinutes()*Ir)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getHours());dg.range;const mg=ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getUTCHours());mg.range;const Tl=ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ir)/Vn,e=>e.getDate()-1);Tl.range;const Gd=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>e.getUTCDate()-1);Gd.range;const jS=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>Math.floor(e/Vn));jS.range;function Oa(e){return ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ir)/lg)}const Yd=Oa(0),Bu=Oa(1),ZD=Oa(2),e_=Oa(3),vi=Oa(4),t_=Oa(5),r_=Oa(6);Yd.range;Bu.range;ZD.range;e_.range;vi.range;t_.range;r_.range;function Ma(e){return ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/lg)}const Qd=Ma(0),qu=Ma(1),n_=Ma(2),s_=Ma(3),yi=Ma(4),a_=Ma(5),i_=Ma(6);Qd.range;qu.range;n_.range;s_.range;yi.range;a_.range;i_.range;const fg=ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());fg.range;const pg=ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pg.range;const Hn=ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Hn.range;const Wn=ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Wn.range;function wS(e,t,r,s,a,i){const o=[[ra,1,On],[ra,5,5*On],[ra,15,15*On],[ra,30,30*On],[i,1,Ir],[i,5,5*Ir],[i,15,15*Ir],[i,30,30*Ir],[a,1,Mn],[a,3,3*Mn],[a,6,6*Mn],[a,12,12*Mn],[s,1,Vn],[s,2,2*Vn],[r,1,lg],[t,1,zb],[t,3,3*zb],[e,1,bf]];function l(u,d,m){const f=d<u;f&&([u,d]=[d,u]);const p=m&&typeof m.range=="function"?m:c(u,d,m),g=p?p.range(u,+d+1):[];return f?g.reverse():g}function c(u,d,m){const f=Math.abs(d-u)/m,p=Y0(([,,x])=>x).right(o,f);if(p===o.length)return e.every(nh(u/bf,d/bf,m));if(p===0)return Uu.every(Math.max(nh(u,d,m),1));const[g,b]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return g.every(b)}return[l,c]}const[o_,l_]=wS(Wn,pg,Qd,jS,mg,ug),[c_,u_]=wS(Hn,fg,Yd,Tl,dg,cg);function jf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function to(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function d_(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ro(a),d=no(a),m=ro(i),f=no(i),p=ro(o),g=no(o),b=ro(l),x=no(l),v=ro(c),y=no(c),j={a:D,A:$,b:z,B:K,c:null,d:Wb,e:Wb,f:I_,g:V_,G:W_,H:O_,I:M_,j:L_,L:NS,m:D_,M:__,p:U,q,Q:Yb,s:Qb,S:R_,u:F_,U:$_,V:z_,w:U_,W:B_,x:null,X:null,y:q_,Y:H_,Z:K_,"%":Gb},w={a:te,A:W,b:ie,B:le,c:null,d:Kb,e:Kb,f:X_,g:o9,G:c9,H:G_,I:Y_,j:Q_,L:CS,m:J_,M:Z_,p:se,q:V,Q:Yb,s:Qb,S:e9,u:t9,U:r9,V:n9,w:s9,W:a9,x:null,X:null,y:i9,Y:l9,Z:u9,"%":Gb},N={a:O,A:I,b:M,B:k,c:A,d:Vb,e:Vb,f:k_,g:qb,G:Bb,H:Hb,I:Hb,j:N_,L:P_,m:w_,M:S_,p:E,q:j_,Q:E_,s:T_,S:C_,u:g_,U:x_,V:v_,w:h_,W:y_,x:B,X:F,y:qb,Y:Bb,Z:b_,"%":A_};j.x=S(r,j),j.X=S(s,j),j.c=S(t,j),w.x=S(r,w),w.X=S(s,w),w.c=S(t,w);function S(_,H){return function(J){var G=[],ce=-1,L=0,X=_.length,T,Z,ue;for(J instanceof Date||(J=new Date(+J));++ce<X;)_.charCodeAt(ce)===37&&(G.push(_.slice(L,ce)),(Z=Ub[T=_.charAt(++ce)])!=null?T=_.charAt(++ce):Z=T==="e"?" ":"0",(ue=H[T])&&(T=ue(J,Z)),G.push(T),L=ce+1);return G.push(_.slice(L,ce)),G.join("")}}function P(_,H){return function(J){var G=to(1900,void 0,1),ce=C(G,_,J+="",0),L,X;if(ce!=J.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(H&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(L=wf(to(G.y,0,1)),X=L.getUTCDay(),L=X>4||X===0?qu.ceil(L):qu(L),L=Gd.offset(L,(G.V-1)*7),G.y=L.getUTCFullYear(),G.m=L.getUTCMonth(),G.d=L.getUTCDate()+(G.w+6)%7):(L=jf(to(G.y,0,1)),X=L.getDay(),L=X>4||X===0?Bu.ceil(L):Bu(L),L=Tl.offset(L,(G.V-1)*7),G.y=L.getFullYear(),G.m=L.getMonth(),G.d=L.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),X="Z"in G?wf(to(G.y,0,1)).getUTCDay():jf(to(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(X+5)%7:G.w+G.U*7-(X+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,wf(G)):jf(G)}}function C(_,H,J,G){for(var ce=0,L=H.length,X=J.length,T,Z;ce<L;){if(G>=X)return-1;if(T=H.charCodeAt(ce++),T===37){if(T=H.charAt(ce++),Z=N[T in Ub?H.charAt(ce++):T],!Z||(G=Z(_,J,G))<0)return-1}else if(T!=J.charCodeAt(G++))return-1}return G}function E(_,H,J){var G=u.exec(H.slice(J));return G?(_.p=d.get(G[0].toLowerCase()),J+G[0].length):-1}function O(_,H,J){var G=p.exec(H.slice(J));return G?(_.w=g.get(G[0].toLowerCase()),J+G[0].length):-1}function I(_,H,J){var G=m.exec(H.slice(J));return G?(_.w=f.get(G[0].toLowerCase()),J+G[0].length):-1}function M(_,H,J){var G=v.exec(H.slice(J));return G?(_.m=y.get(G[0].toLowerCase()),J+G[0].length):-1}function k(_,H,J){var G=b.exec(H.slice(J));return G?(_.m=x.get(G[0].toLowerCase()),J+G[0].length):-1}function A(_,H,J){return C(_,t,H,J)}function B(_,H,J){return C(_,r,H,J)}function F(_,H,J){return C(_,s,H,J)}function D(_){return o[_.getDay()]}function $(_){return i[_.getDay()]}function z(_){return c[_.getMonth()]}function K(_){return l[_.getMonth()]}function U(_){return a[+(_.getHours()>=12)]}function q(_){return 1+~~(_.getMonth()/3)}function te(_){return o[_.getUTCDay()]}function W(_){return i[_.getUTCDay()]}function ie(_){return c[_.getUTCMonth()]}function le(_){return l[_.getUTCMonth()]}function se(_){return a[+(_.getUTCHours()>=12)]}function V(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var H=S(_+="",j);return H.toString=function(){return _},H},parse:function(_){var H=P(_+="",!1);return H.toString=function(){return _},H},utcFormat:function(_){var H=S(_+="",w);return H.toString=function(){return _},H},utcParse:function(_){var H=P(_+="",!0);return H.toString=function(){return _},H}}}var Ub={"-":"",_:" ",0:"0"},Nt=/^\s*\d+/,m_=/^%/,f_=/[\\^$*+?|[\]().{}]/g;function Ee(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function p_(e){return e.replace(f_,"\\$&")}function ro(e){return new RegExp("^(?:"+e.map(p_).join("|")+")","i")}function no(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function h_(e,t,r){var s=Nt.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function g_(e,t,r){var s=Nt.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function x_(e,t,r){var s=Nt.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function v_(e,t,r){var s=Nt.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function y_(e,t,r){var s=Nt.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function Bb(e,t,r){var s=Nt.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function qb(e,t,r){var s=Nt.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function b_(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function j_(e,t,r){var s=Nt.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function w_(e,t,r){var s=Nt.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function Vb(e,t,r){var s=Nt.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function N_(e,t,r){var s=Nt.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function Hb(e,t,r){var s=Nt.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function S_(e,t,r){var s=Nt.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function C_(e,t,r){var s=Nt.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function P_(e,t,r){var s=Nt.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function k_(e,t,r){var s=Nt.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function A_(e,t,r){var s=m_.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function E_(e,t,r){var s=Nt.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function T_(e,t,r){var s=Nt.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function Wb(e,t){return Ee(e.getDate(),t,2)}function O_(e,t){return Ee(e.getHours(),t,2)}function M_(e,t){return Ee(e.getHours()%12||12,t,2)}function L_(e,t){return Ee(1+Tl.count(Hn(e),e),t,3)}function NS(e,t){return Ee(e.getMilliseconds(),t,3)}function I_(e,t){return NS(e,t)+"000"}function D_(e,t){return Ee(e.getMonth()+1,t,2)}function __(e,t){return Ee(e.getMinutes(),t,2)}function R_(e,t){return Ee(e.getSeconds(),t,2)}function F_(e){var t=e.getDay();return t===0?7:t}function $_(e,t){return Ee(Yd.count(Hn(e)-1,e),t,2)}function SS(e){var t=e.getDay();return t>=4||t===0?vi(e):vi.ceil(e)}function z_(e,t){return e=SS(e),Ee(vi.count(Hn(e),e)+(Hn(e).getDay()===4),t,2)}function U_(e){return e.getDay()}function B_(e,t){return Ee(Bu.count(Hn(e)-1,e),t,2)}function q_(e,t){return Ee(e.getFullYear()%100,t,2)}function V_(e,t){return e=SS(e),Ee(e.getFullYear()%100,t,2)}function H_(e,t){return Ee(e.getFullYear()%1e4,t,4)}function W_(e,t){var r=e.getDay();return e=r>=4||r===0?vi(e):vi.ceil(e),Ee(e.getFullYear()%1e4,t,4)}function K_(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ee(t/60|0,"0",2)+Ee(t%60,"0",2)}function Kb(e,t){return Ee(e.getUTCDate(),t,2)}function G_(e,t){return Ee(e.getUTCHours(),t,2)}function Y_(e,t){return Ee(e.getUTCHours()%12||12,t,2)}function Q_(e,t){return Ee(1+Gd.count(Wn(e),e),t,3)}function CS(e,t){return Ee(e.getUTCMilliseconds(),t,3)}function X_(e,t){return CS(e,t)+"000"}function J_(e,t){return Ee(e.getUTCMonth()+1,t,2)}function Z_(e,t){return Ee(e.getUTCMinutes(),t,2)}function e9(e,t){return Ee(e.getUTCSeconds(),t,2)}function t9(e){var t=e.getUTCDay();return t===0?7:t}function r9(e,t){return Ee(Qd.count(Wn(e)-1,e),t,2)}function PS(e){var t=e.getUTCDay();return t>=4||t===0?yi(e):yi.ceil(e)}function n9(e,t){return e=PS(e),Ee(yi.count(Wn(e),e)+(Wn(e).getUTCDay()===4),t,2)}function s9(e){return e.getUTCDay()}function a9(e,t){return Ee(qu.count(Wn(e)-1,e),t,2)}function i9(e,t){return Ee(e.getUTCFullYear()%100,t,2)}function o9(e,t){return e=PS(e),Ee(e.getUTCFullYear()%100,t,2)}function l9(e,t){return Ee(e.getUTCFullYear()%1e4,t,4)}function c9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?yi(e):yi.ceil(e),Ee(e.getUTCFullYear()%1e4,t,4)}function u9(){return"+0000"}function Gb(){return"%"}function Yb(e){return+e}function Qb(e){return Math.floor(+e/1e3)}var Ia,kS,AS;d9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function d9(e){return Ia=d_(e),kS=Ia.format,Ia.parse,AS=Ia.utcFormat,Ia.utcParse,Ia}function m9(e){return new Date(e)}function f9(e){return e instanceof Date?+e:+new Date(+e)}function hg(e,t,r,s,a,i,o,l,c,u){var d=tg(),m=d.invert,f=d.domain,p=u(".%L"),g=u(":%S"),b=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),y=u("%b %d"),j=u("%B"),w=u("%Y");function N(S){return(c(S)<S?p:l(S)<S?g:o(S)<S?b:i(S)<S?x:s(S)<S?a(S)<S?v:y:r(S)<S?j:w)(S)}return d.invert=function(S){return new Date(m(S))},d.domain=function(S){return arguments.length?f(Array.from(S,f9)):f().map(m9)},d.ticks=function(S){var P=f();return e(P[0],P[P.length-1],S??10)},d.tickFormat=function(S,P){return P==null?N:u(P)},d.nice=function(S){var P=f();return(!S||typeof S.range!="function")&&(S=t(P[0],P[P.length-1],S??10)),S?f(pS(P,S)):d},d.copy=function(){return El(d,hg(e,t,r,s,a,i,o,l,c,u))},d}function p9(){return Hr.apply(hg(c_,u_,Hn,fg,Yd,Tl,dg,cg,ra,kS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function h9(){return Hr.apply(hg(o_,l_,Wn,pg,Qd,Gd,mg,ug,ra,AS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xd(){var e=0,t=1,r,s,a,i,o=Bt,l=!1,c;function u(m){return m==null||isNaN(m=+m)?c:o(a===0?.5:(m=(i(m)-r)*a,l?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),u):[e,t]},u.clamp=function(m){return arguments.length?(l=!!m,u):l},u.interpolator=function(m){return arguments.length?(o=m,u):o};function d(m){return function(f){var p,g;return arguments.length?([p,g]=f,o=m(p,g),u):[o(0),o(1)]}}return u.range=d(ki),u.rangeRound=d(eg),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return i=m,r=m(e),s=m(t),a=r===s?0:1/(s-r),u}}function $s(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ES(){var e=Fs(Xd()(Bt));return e.copy=function(){return $s(e,ES())},Zn.apply(e,arguments)}function TS(){var e=sg(Xd()).domain([1,10]);return e.copy=function(){return $s(e,TS()).base(e.base())},Zn.apply(e,arguments)}function OS(){var e=ag(Xd());return e.copy=function(){return $s(e,OS()).constant(e.constant())},Zn.apply(e,arguments)}function gg(){var e=ig(Xd());return e.copy=function(){return $s(e,gg()).exponent(e.exponent())},Zn.apply(e,arguments)}function g9(){return gg.apply(null,arguments).exponent(.5)}function MS(){var e=[],t=Bt;function r(s){if(s!=null&&!isNaN(s=+s))return t((kl(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ps),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>tD(e,i/s))},r.copy=function(){return MS(t).domain(e)},Zn.apply(r,arguments)}function Jd(){var e=0,t=.5,r=1,s=1,a,i,o,l,c,u=Bt,d,m=!1,f;function p(b){return isNaN(b=+b)?f:(b=.5+((b=+d(b))-i)*(s*b<s*i?l:c),u(m?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([e,t,r]=b,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,p):[e,t,r]},p.clamp=function(b){return arguments.length?(m=!!b,p):m},p.interpolator=function(b){return arguments.length?(u=b,p):u};function g(b){return function(x){var v,y,j;return arguments.length?([v,y,j]=x,u=AD(b,[v,y,j]),p):[u(0),u(.5),u(1)]}}return p.range=g(ki),p.rangeRound=g(eg),p.unknown=function(b){return arguments.length?(f=b,p):f},function(b){return d=b,a=b(e),i=b(t),o=b(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,p}}function LS(){var e=Fs(Jd()(Bt));return e.copy=function(){return $s(e,LS())},Zn.apply(e,arguments)}function IS(){var e=sg(Jd()).domain([.1,1,10]);return e.copy=function(){return $s(e,IS()).base(e.base())},Zn.apply(e,arguments)}function DS(){var e=ag(Jd());return e.copy=function(){return $s(e,DS()).constant(e.constant())},Zn.apply(e,arguments)}function xg(){var e=ig(Jd());return e.copy=function(){return $s(e,xg()).exponent(e.exponent())},Zn.apply(e,arguments)}function x9(){return xg.apply(null,arguments).exponent(.5)}const uo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:X0,scaleDiverging:LS,scaleDivergingLog:IS,scaleDivergingPow:xg,scaleDivergingSqrt:x9,scaleDivergingSymlog:DS,scaleIdentity:fS,scaleImplicit:sh,scaleLinear:mS,scaleLog:hS,scaleOrdinal:Q0,scalePoint:sD,scalePow:og,scaleQuantile:vS,scaleQuantize:yS,scaleRadial:xS,scaleSequential:ES,scaleSequentialLog:TS,scaleSequentialPow:gg,scaleSequentialQuantile:MS,scaleSequentialSqrt:g9,scaleSequentialSymlog:OS,scaleSqrt:XD,scaleSymlog:gS,scaleThreshold:bS,scaleTime:p9,scaleUtc:h9,tickFormat:dS},Symbol.toStringTag,{value:"Module"}));var zs=e=>e.chartData,vg=Q([zs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),_S=(e,t,r,s)=>s?vg(e):zs(e);function Na(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(lr(t)&&lr(r))return!0}return!1}function Xb(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function RS(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,s]=e,a,i;if(lr(r))a=r;else if(typeof r=="function")return;if(lr(s))i=s;else if(typeof s=="function")return;var o=[a,i];if(Na(o))return o}}function v9(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var s=e(t,r);if(Na(s))return Xb(s,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(je(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&qy.test(a)){var c=qy.exec(a);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(je(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Vy.test(i)){var d=Vy.exec(i);if(d==null||t==null)l=void 0;else{var m=+d[1];l=t[1]+m}}else l=t==null?void 0:t[1];var f=[o,l];if(Na(f))return t==null?f:Xb(f,t,r)}}}var Ai=1e9,y9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bg,We=!0,Br="[DecimalError] ",ca=Br+"Invalid argument: ",yg=Br+"Exponent out of range: ",Ei=Math.floor,Ys=Math.pow,b9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mr,yt=1e7,Ue=7,FS=9007199254740991,Vu=Ei(FS/Ue),fe={};fe.absoluteValue=fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};fe.comparedTo=fe.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ue;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};fe.dividedBy=fe.div=function(e){return Dn(this,new this.constructor(e))};fe.dividedToIntegerBy=fe.idiv=function(e){var t=this,r=t.constructor;return Ie(Dn(t,new r(e),0,1),r.precision)};fe.equals=fe.eq=function(e){return!this.cmp(e)};fe.exponent=function(){return ut(this)};fe.greaterThan=fe.gt=function(e){return this.cmp(e)>0};fe.greaterThanOrEqualTo=fe.gte=function(e){return this.cmp(e)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(e){return this.cmp(e)<0};fe.lessThanOrEqualTo=fe.lte=function(e){return this.cmp(e)<1};fe.logarithm=fe.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(mr))throw Error(Br+"NaN");if(r.s<1)throw Error(Br+(r.s?"NaN":"-Infinity"));return r.eq(mr)?new s(0):(We=!1,t=Dn(ol(r,i),ol(e,i),i),We=!0,Ie(t,a))};fe.minus=fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?US(t,e):$S(t,(e.s=-e.s,e))};fe.modulo=fe.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(Br+"NaN");return r.s?(We=!1,t=Dn(r,e,0,1).times(e),We=!0,r.minus(t)):Ie(new s(r),a)};fe.naturalExponential=fe.exp=function(){return zS(this)};fe.naturalLogarithm=fe.ln=function(){return ol(this)};fe.negated=fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};fe.plus=fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$S(t,e):US(t,(e.s=-e.s,e))};fe.precision=fe.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ca+e);if(t=ut(a)+1,s=a.d.length-1,r=s*Ue+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};fe.squareRoot=fe.sqrt=function(){var e,t,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Br+"NaN")}for(e=ut(l),We=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=hn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ei((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(Dn(l,i,o+2)).times(.5),hn(i.d).slice(0,o)===(t=hn(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ie(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return We=!0,Ie(s,r)};fe.times=fe.mul=function(e){var t,r,s,a,i,o,l,c,u,d=this,m=d.constructor,f=d.d,p=(e=new m(e)).d;if(!d.s||!e.s)return new m(0);for(e.s*=d.s,r=d.e+e.e,c=f.length,u=p.length,c<u&&(i=f,f=p,p=i,o=c,c=u,u=o),i=[],o=c+u,s=o;s--;)i.push(0);for(s=u;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+p[s]*f[a-s-1]+t,i[a--]=l%yt|0,t=l/yt|0;i[a]=(i[a]+t)%yt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,We?Ie(e,m.precision):e};fe.toDecimalPlaces=fe.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(Sn(e,0,Ai),t===void 0?t=s.rounding:Sn(t,0,8),Ie(r,e+ut(r)+1,t))};fe.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=Sa(s,!0):(Sn(e,0,Ai),t===void 0?t=a.rounding:Sn(t,0,8),s=Ie(new a(s),e+1,t),r=Sa(s,!0,e+1)),r};fe.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?Sa(a):(Sn(e,0,Ai),t===void 0?t=i.rounding:Sn(t,0,8),s=Ie(new i(a),e+ut(a)+1,t),r=Sa(s.abs(),!1,e+ut(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};fe.toInteger=fe.toint=function(){var e=this,t=e.constructor;return Ie(new t(e),ut(e)+1,t.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(e){var t,r,s,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(mr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Br+"Infinity");return l}if(l.eq(mr))return l;if(s=c.precision,e.eq(mr))return Ie(l,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=FS){for(a=new c(mr),t=Math.ceil(s/Ue+4),We=!1;r%2&&(a=a.times(l),Zb(a.d,t)),r=Ei(r/2),r!==0;)l=l.times(l),Zb(l.d,t);return We=!0,e.s<0?new c(mr).div(a):Ie(a,s)}}else if(i<0)throw Error(Br+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,We=!1,a=e.times(ol(l,s+u)),We=!0,a=zS(a),a.s=i,a};fe.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=ut(a),s=Sa(a,r<=i.toExpNeg||r>=i.toExpPos)):(Sn(e,1,Ai),t===void 0?t=i.rounding:Sn(t,0,8),a=Ie(new i(a),e,t),r=ut(a),s=Sa(a,e<=r||r<=i.toExpNeg,e)),s};fe.toSignificantDigits=fe.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Sn(e,1,Ai),t===void 0?t=s.rounding:Sn(t,0,8)),Ie(new s(r),e,t)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ut(e),r=e.constructor;return Sa(e,t<=r.toExpNeg||t>=r.toExpPos)};function $S(e,t){var r,s,a,i,o,l,c,u,d=e.constructor,m=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),We?Ie(t,m):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=u.length):(s=u,a=o,l=c.length),o=Math.ceil(m/Ue),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,s=u,u=c,c=s),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/yt|0,c[i]%=yt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,We?Ie(t,m):t}function Sn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ca+e)}function hn(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=Ue-s.length,r&&(i+=is(r)),i+=s;o=e[t],s=o+"",r=Ue-s.length,r&&(i+=is(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Dn=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%yt|0,o=i/yt|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*yt+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,u,d,m,f,p,g,b,x,v,y,j,w,N,S,P,C,E=s.constructor,O=s.s==a.s?1:-1,I=s.d,M=a.d;if(!s.s)return new E(s);if(!a.s)throw Error(Br+"Division by zero");for(c=s.e-a.e,P=M.length,N=I.length,p=new E(O),g=p.d=[],u=0;M[u]==(I[u]||0);)++u;if(M[u]>(I[u]||0)&&--c,i==null?y=i=E.precision:o?y=i+(ut(s)-ut(a))+1:y=i,y<0)return new E(0);if(y=y/Ue+2|0,u=0,P==1)for(d=0,M=M[0],y++;(u<N||d)&&y--;u++)j=d*yt+(I[u]||0),g[u]=j/M|0,d=j%M|0;else{for(d=yt/(M[0]+1)|0,d>1&&(M=e(M,d),I=e(I,d),P=M.length,N=I.length),w=P,b=I.slice(0,P),x=b.length;x<P;)b[x++]=0;C=M.slice(),C.unshift(0),S=M[0],M[1]>=yt/2&&++S;do d=0,l=t(M,b,P,x),l<0?(v=b[0],P!=x&&(v=v*yt+(b[1]||0)),d=v/S|0,d>1?(d>=yt&&(d=yt-1),m=e(M,d),f=m.length,x=b.length,l=t(m,b,f,x),l==1&&(d--,r(m,P<f?C:M,f))):(d==0&&(l=d=1),m=M.slice()),f=m.length,f<x&&m.unshift(0),r(b,m,x),l==-1&&(x=b.length,l=t(M,b,P,x),l<1&&(d++,r(b,P<x?C:M,x))),x=b.length):l===0&&(d++,b=[0]),g[u++]=d,l&&b[0]?b[x++]=I[w]||0:(b=[I[w]],x=1);while((w++<N||b[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,Ie(p,o?i+ut(p)+1:i)}}();function zS(e,t){var r,s,a,i,o,l,c=0,u=0,d=e.constructor,m=d.precision;if(ut(e)>16)throw Error(yg+ut(e));if(!e.s)return new d(mr);for(We=!1,l=m,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(Ys(2,u))/Math.LN10*2+5|0,l+=s,r=a=i=new d(mr),d.precision=l;;){if(a=Ie(a.times(e),l),r=r.times(++c),o=i.plus(Dn(a,r,l)),hn(o.d).slice(0,l)===hn(i.d).slice(0,l)){for(;u--;)i=Ie(i.times(i),l);return d.precision=m,t==null?(We=!0,Ie(i,m)):i}i=o}}function ut(e){for(var t=e.e*Ue,r=e.d[0];r>=10;r/=10)t++;return t}function Nf(e,t,r){if(t>e.LN10.sd())throw We=!0,r&&(e.precision=r),Error(Br+"LN10 precision limit exceeded");return Ie(new e(e.LN10),t)}function is(e){for(var t="";e--;)t+="0";return t}function ol(e,t){var r,s,a,i,o,l,c,u,d,m=1,f=10,p=e,g=p.d,b=p.constructor,x=b.precision;if(p.s<1)throw Error(Br+(p.s?"NaN":"-Infinity"));if(p.eq(mr))return new b(0);if(t==null?(We=!1,u=x):u=t,p.eq(10))return t==null&&(We=!0),Nf(b,u);if(u+=f,b.precision=u,r=hn(g),s=r.charAt(0),i=ut(p),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)p=p.times(e),r=hn(p.d),s=r.charAt(0),m++;i=ut(p),s>1?(p=new b("0."+r),i++):p=new b(s+"."+r.slice(1))}else return c=Nf(b,u+2,x).times(i+""),p=ol(new b(s+"."+r.slice(1)),u-f).plus(c),b.precision=x,t==null?(We=!0,Ie(p,x)):p;for(l=o=p=Dn(p.minus(mr),p.plus(mr),u),d=Ie(p.times(p),u),a=3;;){if(o=Ie(o.times(d),u),c=l.plus(Dn(o,new b(a),u)),hn(c.d).slice(0,u)===hn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Nf(b,u+2,x).times(i+""))),l=Dn(l,new b(m),u),b.precision=x,t==null?(We=!0,Ie(l,x)):l;l=c,a+=2}}function Jb(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=Ei(r/Ue),e.d=[],s=(r+1)%Ue,r<0&&(s+=Ue),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=Ue;s<a;)e.d.push(+t.slice(s,s+=Ue));t=t.slice(s),s=Ue-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),We&&(e.e>Vu||e.e<-Vu))throw Error(yg+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ie(e,t,r){var s,a,i,o,l,c,u,d,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=Ue,a=t,u=m[d=0];else{if(d=Math.ceil((s+1)/Ue),i=m.length,d>=i)return e;for(u=i=m[d],o=1;i>=10;i/=10)o++;s%=Ue,a=s-Ue+o}if(r!==void 0&&(i=Ys(10,o-a-1),l=u/i%10|0,c=t<0||m[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?u/Ys(10,o-a):0:m[d-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=ut(e),m.length=1,t=t-i-1,m[0]=Ys(10,(Ue-t%Ue)%Ue),e.e=Ei(-t/Ue)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(s==0?(m.length=d,i=1,d--):(m.length=d+1,i=Ys(10,Ue-s),m[d]=a>0?(u/Ys(10,o-a)%Ys(10,a)|0)*i:0),c)for(;;)if(d==0){(m[0]+=i)==yt&&(m[0]=1,++e.e);break}else{if(m[d]+=i,m[d]!=yt)break;m[d--]=0,i=1}for(s=m.length;m[--s]===0;)m.pop();if(We&&(e.e>Vu||e.e<-Vu))throw Error(yg+ut(e));return e}function US(e,t){var r,s,a,i,o,l,c,u,d,m,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),We?Ie(t,p):t;if(c=e.d,m=t.d,s=t.e,u=e.e,c=c.slice(),o=u-s,o){for(d=o<0,d?(r=c,o=-o,l=m.length):(r=m,s=u,l=c.length),a=Math.max(Math.ceil(p/Ue),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=m.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=m[a]){d=c[a]<m[a];break}o=0}for(d&&(r=c,c=m,m=r,t.s=-t.s),l=c.length,a=m.length-l;a>0;--a)c[l++]=0;for(a=m.length;a>o;){if(c[--a]<m[a]){for(i=a;i&&c[--i]===0;)c[i]=yt-1;--c[i],c[a]+=yt}c[a]-=m[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,We?Ie(t,p):t):new f(0)}function Sa(e,t,r){var s,a=ut(e),i=hn(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+is(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+is(-a-1)+i,r&&(s=r-o)>0&&(i+=is(s))):a>=o?(i+=is(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+is(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=is(s))),e.s<0?"-"+i:i}function Zb(e,t){if(e.length>t)return e.length=t,!0}function BS(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ca+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Jb(o,i.toString())}else if(typeof i!="string")throw Error(ca+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,b9.test(i))Jb(o,i);else throw Error(ca+i)}if(a.prototype=fe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=BS,a.config=a.set=j9,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function j9(e){if(!e||typeof e!="object")throw Error(Br+"Object expected");var t,r,s,a=["precision",1,Ai,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(Ei(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(ca+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(ca+r+": "+s);return this}var bg=BS(y9);mr=new bg(1);const Te=bg;var w9=e=>e,qS={},VS=e=>e===qS,e1=e=>function t(){return arguments.length===0||arguments.length===1&&VS(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},HS=(e,t)=>e===1?t:e1(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var i=s.filter(o=>o!==qS).length;return i>=e?t(...s):HS(e-i,e1(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=s.map(d=>VS(d)?l.shift():d);return t(...u,...l)}))}),Zd=e=>HS(e.length,e),lh=(e,t)=>{for(var r=[],s=e;s<t;++s)r[s-e]=s;return r},N9=Zd((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),S9=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return w9;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},ch=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),WS=e=>{var t=null,r=null;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,r=e(...a)),r}};function KS(e){var t;return e===0?t=1:t=Math.floor(new Te(e).abs().log(10).toNumber())+1,t}function GS(e,t,r){for(var s=new Te(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}Zd((e,t,r)=>{var s=+e,a=+t;return s+r*(a-s)});Zd((e,t,r)=>{var s=t-+e;return s=s||1/0,(r-e)/s});Zd((e,t,r)=>{var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});var YS=e=>{var[t,r]=e,[s,a]=[t,r];return t>r&&([s,a]=[r,t]),[s,a]},QS=(e,t,r)=>{if(e.lte(0))return new Te(0);var s=KS(e.toNumber()),a=new Te(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new Te(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new Te(c.toNumber()):new Te(Math.ceil(c.toNumber()))},C9=(e,t,r)=>{var s=new Te(1),a=new Te(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new Te(10).pow(KS(e)-1),a=new Te(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Te(Math.floor(e)))}else e===0?a=new Te(Math.floor((t-1)/2)):r||(a=new Te(Math.floor(e)));var o=Math.floor((t-1)/2),l=S9(N9(c=>a.add(new Te(c-o).mul(s)).toNumber()),lh);return l(0,t)},XS=function(t,r,s,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(s-1)))return{step:new Te(0),tickMin:new Te(0),tickMax:new Te(0)};var o=QS(new Te(r).sub(t).div(s-1),a,i),l;t<=0&&r>=0?l=new Te(0):(l=new Te(t).add(r).div(2),l=l.sub(new Te(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new Te(r).sub(l).div(o).toNumber()),d=c+u+1;return d>s?XS(t,r,s,a,i+1):(d<s&&(u=r>0?u+(s-d):u,c=r>0?c:c+(s-d)),{step:o,tickMin:l.sub(new Te(c).mul(o)),tickMax:l.add(new Te(u).mul(o))})};function P9(e){var[t,r]=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),[o,l]=YS([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...lh(0,s-1).map(()=>1/0)]:[...lh(0,s-1).map(()=>-1/0),l];return t>r?ch(c):c}if(o===l)return C9(o,s,a);var{step:u,tickMin:d,tickMax:m}=XS(o,l,i,a,0),f=GS(d,m.add(new Te(.1).mul(u)),u);return t>r?ch(f):f}function k9(e,t){var[r,s]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=YS([r,s]);if(i===-1/0||o===1/0)return[r,s];if(i===o)return[i];var l=Math.max(t,2),c=QS(new Te(o).sub(i).div(l-1),a,0),u=[...GS(new Te(i),new Te(o),c),o];return a===!1&&(u=u.map(d=>Math.round(d))),r>s?ch(u):u}var A9=WS(P9),E9=WS(k9),T9=e=>e.rootProps.barCategoryGap,Ol=e=>e.rootProps.stackOffset,jg=e=>e.options.chartName,wg=e=>e.rootProps.syncId,JS=e=>e.rootProps.syncMethod,Ng=e=>e.options.eventEmitter,An={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ur={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},em=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},O9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:An.angleAxisId,includeHidden:!1,name:void 0,reversed:An.reversed,scale:An.scale,tick:An.tick,tickCount:void 0,ticks:void 0,type:An.type,unit:void 0},M9={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:ur.type,unit:void 0},L9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:An.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:An.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:An.scale,tick:An.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},I9={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:"category",unit:void 0},Sg=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?L9:O9,Cg=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?I9:M9,tm=e=>e.polarOptions,Pg=Q([Qn,Xn,wt],A4),ZS=Q([tm,Pg],(e,t)=>{if(e!=null)return xr(e.innerRadius,t,0)}),e5=Q([tm,Pg],(e,t)=>{if(e!=null)return xr(e.outerRadius,t,t*.8)}),D9=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},t5=Q([tm],D9);Q([Sg,t5],em);var r5=Q([Pg,ZS,e5],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Q([Cg,r5],em);var n5=Q([$e,tm,ZS,e5,Qn,Xn],(e,t,r,s,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||s==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:xr(o,a,a/2),cy:xr(l,i,i/2),innerRadius:r,outerRadius:s,startAngle:c,endAngle:u,clockWise:!1}}}),Ke=(e,t)=>t,Ml=(e,t,r)=>r;function s5(e){return e==null?void 0:e.id}var gt=e=>{var t=$e(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ti=e=>e.tooltip.settings.axisId,xt=e=>{var t=gt(e),r=Ti(e);return Ll(e,t,r)},a5=Q([xt],e=>e==null?void 0:e.dataKey);function i5(e,t,r){var{chartData:s=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:s;if(!(u==null||u.length===0)){var d=s5(l);u.forEach((m,f)=>{var p=i==null||a?f:String(ct(m,i,null)),g=ct(m,l.dataKey,0),b;o.has(p)?b=o.get(p):b={},Object.assign(b,{[d]:g}),o.set(p,b)})}}),Array.from(o.values())}function kg(e){return e.stackId!=null&&e.dataKey!=null}var rm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function nm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function t1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t1(Object(r),!0).forEach(function(s){_9(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function _9(e,t,r){return(t=R9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R9(e){var t=F9(e,"string");return typeof t=="symbol"?t:t+""}function F9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uh=[0,"auto"],$9={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},z9=(e,t)=>e.cartesianAxis.xAxis[t],Us=(e,t)=>{var r=z9(e,t);return r??$9},U9={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:uh,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Cl},B9=(e,t)=>e.cartesianAxis.yAxis[t],Bs=(e,t)=>{var r=B9(e,t);return r??U9},q9={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ag=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??q9},Xe=(e,t,r)=>{switch(t){case"xAxis":return Us(e,r);case"yAxis":return Bs(e,r);case"zAxis":return Ag(e,r);case"angleAxis":return Sg(e,r);case"radiusAxis":return Cg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},V9=(e,t,r)=>{switch(t){case"xAxis":return Us(e,r);case"yAxis":return Bs(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ll=(e,t,r)=>{switch(t){case"xAxis":return Us(e,r);case"yAxis":return Bs(e,r);case"angleAxis":return Sg(e,r);case"radiusAxis":return Cg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},o5=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Eg(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var H9=e=>e.graphicalItems.cartesianItems,W9=Q([Ke,Ml],Eg),Tg=(e,t,r)=>e.filter(r).filter(s=>(t==null?void 0:t.includeHidden)===!0?!0:!s.hide),Il=Q([H9,Xe,W9],Tg,{memoizeOptions:{resultEqualityCheck:nm}}),l5=Q([Il],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(kg)),c5=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),K9=Q([Il],c5),Og=e=>e.map(t=>t.data).filter(Boolean).flat(1),G9=Q([Il],Og,{memoizeOptions:{resultEqualityCheck:nm}}),Mg=(e,t)=>{var{chartData:r=[],dataStartIndex:s,dataEndIndex:a}=t;return e.length>0?e:r.slice(s,a+1)},Lg=Q([G9,_S],Mg),Ig=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:ct(s,t.dataKey)})):r.length>0?r.map(s=>s.dataKey).flatMap(s=>e.map(a=>({value:ct(a,s)}))):e.map(s=>({value:s})),sm=Q([Lg,Xe,Il],Ig);function u5(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Bc(e){if(Bn(e)||e instanceof Date){var t=Number(e);if(lr(t))return t}}function r1(e){if(Array.isArray(e)){var t=[Bc(e[0]),Bc(e[1])];return Na(t)?t:void 0}var r=Bc(e);if(r!=null)return[r,r]}function Oi(e){return e.map(Bc).filter(dI)}function Y9(e,t,r){return!r||typeof t!="number"||Nn(t)?[]:r.length?Oi(r.flatMap(s=>{var a=ct(e,s.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!lr(i)||!lr(o)))return[t-i,t+o]})):[]}var Q9=Q([l5,_S,xt],i5),d5=(e,t,r)=>{var s={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),s);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,c=l.map(s5);return[o,{stackedData:WL(e,c,r),graphicalItems:l}]}))},X9=Q([Q9,l5,Ol],d5),m5=(e,t,r,s)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(s==null&&r!=="zAxis"){var o=YL(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},J9=Q([Xe],e=>e.allowDataOverflow),Dg=e=>{var t;if(e==null||!("domain"in e))return uh;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Oi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:uh},_g=Q([Xe],Dg),Rg=Q([_g,J9],RS),Z9=Q([X9,zs,Ke,Rg],m5,{memoizeOptions:{resultEqualityCheck:rm}}),am=e=>e.errorBars,eR=(e,t,r)=>e.flatMap(s=>t[s.id]).filter(Boolean).filter(s=>u5(r,s)),Wu=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},Fg=(e,t,r,s,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,m=(u=s[c.id])===null||u===void 0?void 0:u.filter(v=>u5(a,v)),f=ct(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),p=Y9(l,f,m);if(p.length>=2){var g=Math.min(...p),b=Math.max(...p);(i==null||g<i)&&(i=g),(o==null||b>o)&&(o=b)}var x=r1(f);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=r1(ct(l,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),lr(i)&&lr(o))return[i,o]},tR=Q([Lg,Xe,K9,am,Ke],Fg,{memoizeOptions:{resultEqualityCheck:rm}});function rR(e){var{value:t}=e;if(Bn(t)||t instanceof Date)return t}var nR=(e,t,r)=>{var s=e.map(rR).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&C2(s))?tS(0,e.length):t.allowDuplicatedCategory?s:Array.from(new Set(s))},f5=e=>e.referenceElements.dots,Mi=(e,t,r)=>e.filter(s=>s.ifOverflow==="extendDomain").filter(s=>t==="xAxis"?s.xAxisId===r:s.yAxisId===r),sR=Q([f5,Ke,Ml],Mi),p5=e=>e.referenceElements.areas,aR=Q([p5,Ke,Ml],Mi),h5=e=>e.referenceElements.lines,iR=Q([h5,Ke,Ml],Mi),g5=(e,t)=>{var r=Oi(e.map(s=>t==="xAxis"?s.x:s.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},oR=Q(sR,Ke,g5),x5=(e,t)=>{var r=Oi(e.flatMap(s=>[t==="xAxis"?s.x1:s.y1,t==="xAxis"?s.x2:s.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lR=Q([aR,Ke],x5),v5=(e,t)=>{var r=Oi(e.map(s=>t==="xAxis"?s.x:s.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},cR=Q(iR,Ke,v5),uR=Q(oR,cR,lR,(e,t,r)=>Wu(e,r,t)),$g=(e,t,r,s,a,i,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?Wu(s,i,a):Wu(i,a);return v9(t,u,e.allowDataOverflow)},dR=Q([Xe,_g,Rg,Z9,tR,uR,$e,Ke],$g,{memoizeOptions:{resultEqualityCheck:rm}}),mR=[0,1],zg=(e,t,r,s,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=Ea(t,i);return u&&l==null?tS(0,r.length):c==="category"?nR(s,e,u):a==="expand"?mR:o}},Ug=Q([Xe,$e,Lg,sm,Ol,Ke,dR],zg),y5=(e,t,r,s,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(wl(i));return l in uo?l:"point"}}},Li=Q([Xe,$e,o5,jg,Ke],y5);function fR(e){if(e!=null){if(e in uo)return uo[e]();var t="scale".concat(wl(e));if(t in uo)return uo[t]()}}function Bg(e,t,r,s){if(!(r==null||s==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(s);var a=fR(t);if(a!=null){var i=a.domain(r).range(s);return BL(i),i}}}var qg=(e,t,r)=>{var s=Dg(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(s)&&(s[0]==="auto"||s[1]==="auto")&&Na(e))return A9(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Na(e))return E9(e,t.tickCount,t.allowDecimals)}},Vg=Q([Ug,Ll,Li],qg),Hg=(e,t,r,s)=>{if(s!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Na(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},pR=Q([Xe,Ug,Vg,Ke],Hg),hR=Q(sm,Xe,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,s=Array.from(Oi(e.map(l=>l.value))).sort((l,c)=>l-c);if(s.length<2)return 1/0;var a=s[s.length-1]-s[0];if(a===0)return 1/0;for(var i=0;i<s.length-1;i++){var o=s[i+1]-s[i];r=Math.min(r,o)}return r/a}}),b5=Q(hR,$e,T9,wt,(e,t,r,s)=>s,(e,t,r,s,a)=>{if(!lr(e))return 0;var i=t==="vertical"?s.height:s.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=xr(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),gR=(e,t)=>{var r=Us(e,t);return r==null||typeof r.padding!="string"?0:b5(e,"xAxis",t,r.padding)},xR=(e,t)=>{var r=Bs(e,t);return r==null||typeof r.padding!="string"?0:b5(e,"yAxis",t,r.padding)},vR=Q(Us,gR,(e,t)=>{var r,s;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((s=a.right)!==null&&s!==void 0?s:0)+t}}),yR=Q(Bs,xR,(e,t)=>{var r,s;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((s=a.bottom)!==null&&s!==void 0?s:0)+t}}),bR=Q([wt,vR,Vd,qd,(e,t,r)=>r],(e,t,r,s,a)=>{var{padding:i}=s;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),jR=Q([wt,$e,yR,Vd,qd,(e,t,r)=>r],(e,t,r,s,a,i)=>{var{padding:o}=a;return i?[s.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Dl=(e,t,r,s)=>{var a;switch(t){case"xAxis":return bR(e,r,s);case"yAxis":return jR(e,r,s);case"zAxis":return(a=Ag(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return t5(e);case"radiusAxis":return r5(e,r);default:return}},j5=Q([Xe,Dl],em),im=Q([Xe,Li,pR,j5],Bg);Q([Il,am,Ke],eR);function w5(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var om=(e,t)=>t,lm=(e,t,r)=>r,wR=Q(Ud,om,lm,(e,t,r)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===r).sort(w5)),NR=Q(Bd,om,lm,(e,t,r)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===r).sort(w5)),N5=(e,t)=>({width:e.width,height:t.height}),SR=(e,t)=>{var r=typeof t.width=="number"?t.width:Cl;return{width:r,height:e.height}};Q(wt,Us,N5);var CR=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},PR=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},kR=Q(Xn,wt,wR,om,lm,(e,t,r,s,a)=>{var i={},o;return r.forEach(l=>{var c=N5(t,l);o==null&&(o=CR(t,s,e));var u=s==="top"&&!a||s==="bottom"&&a;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),AR=Q(Qn,wt,NR,om,lm,(e,t,r,s,a)=>{var i={},o;return r.forEach(l=>{var c=SR(t,l);o==null&&(o=PR(t,s,e));var u=s==="left"&&!a||s==="right"&&a;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),ER=(e,t)=>{var r=Us(e,t);if(r!=null)return kR(e,r.orientation,r.mirror)};Q([wt,Us,ER,(e,t)=>t],(e,t,r,s)=>{if(t!=null){var a=r==null?void 0:r[s];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}});var TR=(e,t)=>{var r=Bs(e,t);if(r!=null)return AR(e,r.orientation,r.mirror)};Q([wt,Bs,TR,(e,t)=>t],(e,t,r,s)=>{if(t!=null){var a=r==null?void 0:r[s];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}});Q(wt,Bs,(e,t)=>{var r=typeof t.width=="number"?t.width:Cl;return{width:r,height:e.height}});var S5=(e,t,r,s)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=Ea(e,s),c=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&C2(c))return c}},Wg=Q([$e,sm,Xe,Ke],S5),C5=(e,t,r,s)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Ea(e,s);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},Kg=Q([$e,sm,Ll,Ke],C5);Q([$e,V9,Li,im,Wg,Kg,Dl,Vg,Ke],(e,t,r,s,a,i,o,l,c)=>{if(t==null)return null;var u=Ea(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:s}});var OR=(e,t,r,s,a,i,o,l,c)=>{if(!(t==null||s==null)){var u=Ea(e,c),{type:d,ticks:m,tickCount:f}=t,p=r==="scaleBand"&&typeof s.bandwidth=="function"?s.bandwidth()/2:2,g=d==="category"&&s.bandwidth?s.bandwidth()/p:0;g=c==="angleAxis"&&i!=null&&i.length>=2?Jt(i[0]-i[1])*2*g:g;var b=m||a;if(b){var x=b.map((v,y)=>{var j=o?o.indexOf(v):v;return{index:y,coordinate:s(j)+g,value:v,offset:g}});return x.filter(v=>!Nn(v.coordinate))}return u&&l?l.map((v,y)=>({coordinate:s(v)+g,value:v,index:y,offset:g})):s.ticks?s.ticks(f).map(v=>({coordinate:s(v)+g,value:v,offset:g})):s.domain().map((v,y)=>({coordinate:s(v)+g,value:o?o[v]:v,index:y,offset:g}))}};Q([$e,Ll,Li,im,Vg,Dl,Wg,Kg,Ke],OR);var MR=(e,t,r,s,a,i,o)=>{if(!(t==null||r==null||s==null||s[0]===s[1])){var l=Ea(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(s==null?void 0:s.length)>=2?Jt(s[0]-s[1])*2*u:u,l&&i?i.map((d,m)=>({coordinate:r(d)+u,value:d,index:m,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,m)=>({coordinate:r(d)+u,value:a?a[d]:d,index:m,offset:u}))}};Q([$e,Ll,im,Dl,Wg,Kg,Ke],MR);Q(Xe,im,(e,t)=>{if(!(e==null||t==null))return Hu(Hu({},e),{},{scale:t})});var LR=Q([Xe,Li,Ug,j5],Bg);Q((e,t,r)=>Ag(e,r),LR,(e,t)=>{if(!(e==null||t==null))return Hu(Hu({},e),{},{scale:t})});var IR=Q([$e,Ud,Bd],(e,t,r)=>{switch(e){case"horizontal":return t.some(s=>s.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(s=>s.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),P5=e=>e.options.defaultTooltipEventType,k5=e=>e.options.validateTooltipEventTypes;function A5(e,t,r){if(e==null)return t;var s=e?"axis":"item";return r==null?t:r.includes(s)?s:t}function Gg(e,t){var r=P5(e),s=k5(e);return A5(t,r,s)}function DR(e){return Se(t=>Gg(t,e))}var E5=(e,t)=>{var r,s=Number(t);if(!(Nn(s)||t==null))return s>=0?e==null||(r=e[s])===null||r===void 0?void 0:r.value:void 0},_R=e=>e.tooltip.settings,cs={active:!1,index:null,dataKey:void 0,coordinate:void 0},RR={itemInteraction:{click:cs,hover:cs},axisInteraction:{click:cs,hover:cs},keyboardInteraction:cs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},T5=Sr({name:"tooltip",initialState:RR,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ut()},removeTooltipEntrySettings:{reducer(e,t){var r=In(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ut()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:FR,removeTooltipEntrySettings:$R,setTooltipSettingsState:zR,setActiveMouseOverItemIndex:O5,mouseLeaveItem:UR,mouseLeaveChart:M5,setActiveClickItemIndex:BR,setMouseOverAxisIndex:L5,setMouseClickAxisIndex:qR,setSyncInteraction:dh,setKeyboardInteraction:mh}=T5.actions,VR=T5.reducer;function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(s){HR(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function HR(e,t,r){return(t=WR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WR(e){var t=KR(e,"string");return typeof t=="symbol"?t:t+""}function KR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GR(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function YR(e){return e.index!=null}var I5=(e,t,r,s)=>{if(t==null)return cs;var a=GR(e,t,r);if(a==null)return cs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(YR(a)){if(i)return yc(yc({},a),{},{active:!0})}else if(s!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:s};return yc(yc({},cs),{},{coordinate:a.coordinate})},Yg=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var s=Number(r);if(!lr(s))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(s,i)))},D5=(e,t,r,s,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(s.top+t)/2};default:return{x:(s.left+e)/2,y:d.coordinate}}}},_5=(e,t,r,s)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&s!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},_l=e=>e.options.tooltipPayloadSearcher,Ii=e=>e.tooltip;function s1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function a1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(r),!0).forEach(function(s){QR(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function QR(e,t,r){return(t=XR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XR(e){var t=JR(e,"string");return typeof t=="symbol"?t:t+""}function JR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZR(e,t){return e??t}var R5=(e,t,r,s,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,m=[];return e.reduce((f,p)=>{var g,{dataDefinedOnItem:b,settings:x}=p,v=ZR(b,l),y=Array.isArray(v)?E4(v,u,d):v,j=(g=x==null?void 0:x.dataKey)!==null&&g!==void 0?g:s,w=x==null?void 0:x.nameKey,N;if(s&&Array.isArray(y)&&!Array.isArray(y[0])&&o==="axis"?N=IO(y,s,a):N=i(y,t,c,w),Array.isArray(N))N.forEach(P=>{var C=a1(a1({},x),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});f.push(Hy({tooltipEntrySettings:C,dataKey:P.dataKey,payload:P.payload,value:ct(P.payload,P.dataKey),name:P.name}))});else{var S;f.push(Hy({tooltipEntrySettings:x,dataKey:j,payload:N,value:ct(N,j),name:(S=ct(N,w))!==null&&S!==void 0?S:x==null?void 0:x.name}))}return f},m)}},Qg=Q([xt,$e,o5,jg,gt],y5),eF=Q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),tF=Q([gt,Ti],Eg),Rl=Q([eF,xt,tF],Tg,{memoizeOptions:{resultEqualityCheck:nm}}),rF=Q([Rl],e=>e.filter(kg)),nF=Q([Rl],Og,{memoizeOptions:{resultEqualityCheck:nm}}),Di=Q([nF,zs],Mg),sF=Q([rF,zs,xt],i5),Xg=Q([Di,xt,Rl],Ig),F5=Q([xt],Dg),aF=Q([xt],e=>e.allowDataOverflow),$5=Q([F5,aF],RS),iF=Q([Rl],e=>e.filter(kg)),oF=Q([sF,iF,Ol],d5),lF=Q([oF,zs,gt,$5],m5),cF=Q([Rl],c5),uF=Q([Di,xt,cF,am,gt],Fg,{memoizeOptions:{resultEqualityCheck:rm}}),dF=Q([f5,gt,Ti],Mi),mF=Q([dF,gt],g5),fF=Q([p5,gt,Ti],Mi),pF=Q([fF,gt],x5),hF=Q([h5,gt,Ti],Mi),gF=Q([hF,gt],v5),xF=Q([mF,gF,pF],Wu),vF=Q([xt,F5,$5,lF,uF,xF,$e,gt],$g),z5=Q([xt,$e,Di,Xg,Ol,gt,vF],zg),yF=Q([z5,xt,Qg],qg),bF=Q([xt,z5,yF,gt],Hg),U5=e=>{var t=gt(e),r=Ti(e),s=!1;return Dl(e,t,r,s)},B5=Q([xt,U5],em),q5=Q([xt,Qg,bF,B5],Bg),jF=Q([$e,Xg,xt,gt],S5),wF=Q([$e,Xg,xt,gt],C5),NF=(e,t,r,s,a,i,o,l)=>{if(t){var{type:c}=t,u=Ea(e,l);if(s){var d=r==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,m=c==="category"&&s.bandwidth?s.bandwidth()/d:0;return m=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Jt(a[0]-a[1])*2*m:m,u&&o?o.map((f,p)=>({coordinate:s(f)+m,value:f,index:p,offset:m})):s.domain().map((f,p)=>({coordinate:s(f)+m,value:i?i[f]:f,index:p,offset:m}))}}},es=Q([$e,xt,Qg,q5,U5,jF,wF,gt],NF),Jg=Q([P5,k5,_R],(e,t,r)=>A5(r.shared,e,t)),V5=e=>e.tooltip.settings.trigger,Zg=e=>e.tooltip.settings.defaultIndex,cm=Q([Ii,Jg,V5,Zg],I5),ll=Q([cm,Di],Yg),H5=Q([es,ll],E5),SF=Q([cm],e=>{if(e)return e.dataKey}),W5=Q([Ii,Jg,V5,Zg],_5),CF=Q([Qn,Xn,$e,wt,es,Zg,W5,_l],D5),PF=Q([cm,CF],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),kF=Q([cm],e=>e.active),AF=Q([W5,ll,zs,a5,H5,_l,Jg],R5);Q([AF],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function o1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(s){EF(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function EF(e,t,r){return(t=TF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TF(e){var t=OF(e,"string");return typeof t=="symbol"?t:t+""}function OF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MF=()=>Se(xt),LF=()=>{var e=MF(),t=Se(es),r=Se(q5);return QL(o1(o1({},e),{},{scale:r}),t)},IF=()=>Se(jg),ex=(e,t)=>t,K5=(e,t,r)=>r,tx=(e,t,r,s)=>s,DF=Q(es,e=>Dd(e,t=>t.coordinate)),rx=Q([Ii,ex,K5,tx],I5),G5=Q([rx,Di],Yg),_F=(e,t,r)=>{if(t!=null){var s=Ii(e);return t==="axis"?r==="hover"?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:r==="hover"?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}},Y5=Q([Ii,ex,K5,tx],_5),Ku=Q([Qn,Xn,$e,wt,es,tx,Y5,_l],D5),RF=Q([rx,Ku],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Q5=Q(es,G5,E5),FF=Q([Y5,G5,zs,a5,Q5,_l,ex],R5),$F=Q([rx],e=>({isActive:e.active,activeIndex:e.index})),zF=(e,t,r,s,a,i,o,l)=>{if(!(!e||!t||!s||!a||!i)){var c=XL(e.chartX,e.chartY,t,r,l);if(c){var u=ZL(c,t),d=zL(u,o,i,s,a),m=JL(t,i,d,c);return{activeIndex:String(d),activeCoordinate:m}}}};function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},fh.apply(null,arguments)}function l1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l1(Object(r),!0).forEach(function(s){UF(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function UF(e,t,r){return(t=BF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BF(e){var t=qF(e,"string");return typeof t=="symbol"?t:t+""}function qF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VF(e){var{coordinate:t,payload:r,index:s,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,m=r,f=s;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var p,g;if(u==="ScatterChart")p=d,g=sI;else if(u==="BarChart")p=aI(o,d,a,i),g=G4;else if(o==="radial"){var{cx:b,cy:x,radius:v,startAngle:y,endAngle:j}=Y4(d);p={cx:b,cy:x,startAngle:y,endAngle:j,innerRadius:v,outerRadius:v},g=X4}else p={points:BI(o,d,a)},g=q4;var w=typeof l=="object"&&"className"in l?l.className:void 0,N=bc(bc(bc(bc({stroke:"#ccc",pointerEvents:"none"},a),p),Mp(l)),{},{payload:m,payloadIndex:f,className:dt("recharts-tooltip-cursor",w)});return h.isValidElement(l)?h.cloneElement(l,N):h.createElement(g,N)}function HF(e){var t=LF(),r=C7(),s=z4(),a=IF();return h.createElement(VF,fh({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:s,tooltipAxisBandSize:t,chartName:a}))}var X5=h.createContext(null),WF=()=>h.useContext(X5),J5={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,m,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,m||c,f),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,m;if(this._eventsCount===0)return u;for(m in d=this._events)t.call(d,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var f=0,p=m.length,g=new Array(p);f<p;f++)g[f]=m[f].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,m=this._events[d];return m?m.fn?1:m.length:0},l.prototype.emit=function(u,d,m,f,p,g){var b=r?r+u:u;if(!this._events[b])return!1;var x=this._events[b],v=arguments.length,y,j;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,m),!0;case 4:return x.fn.call(x.context,d,m,f),!0;case 5:return x.fn.call(x.context,d,m,f,p),!0;case 6:return x.fn.call(x.context,d,m,f,p,g),!0}for(j=1,y=new Array(v-1);j<v;j++)y[j-1]=arguments[j];x.fn.apply(x.context,y)}else{var w=x.length,N;for(j=0;j<w;j++)switch(x[j].once&&this.removeListener(u,x[j].fn,void 0,!0),v){case 1:x[j].fn.call(x[j].context);break;case 2:x[j].fn.call(x[j].context,d);break;case 3:x[j].fn.call(x[j].context,d,m);break;case 4:x[j].fn.call(x[j].context,d,m,f);break;default:if(!y)for(N=1,y=new Array(v-1);N<v;N++)y[N-1]=arguments[N];x[j].fn.apply(x[j].context,y)}}return!0},l.prototype.on=function(u,d,m){return i(this,u,d,m,!1)},l.prototype.once=function(u,d,m){return i(this,u,d,m,!0)},l.prototype.removeListener=function(u,d,m,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!f||g.once)&&(!m||g.context===m)&&o(this,p);else{for(var b=0,x=[],v=g.length;b<v;b++)(g[b].fn!==d||f&&!g[b].once||m&&g[b].context!==m)&&x.push(g[b]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(J5);var KF=J5.exports;const GF=Kn(KF);var cl=new GF,ph="recharts.syncEvent.tooltip",c1="recharts.syncEvent.brush";function YF(e,t){if(t){var r=Number.parseInt(t,10);if(!Nn(r))return e==null?void 0:e[r]}}var QF={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Z5=Sr({name:"options",initialState:QF,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),XF=Z5.reducer,{createEventEmitter:JF}=Z5.actions;function ZF(e){return e.tooltip.syncInteraction}var e$={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},eC=Sr({name:"chartData",initialState:e$,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:s}=t.payload;r!=null&&(e.dataStartIndex=r),s!=null&&(e.dataEndIndex=s)}}}),{setChartData:u1,setDataStartEndIndexes:t$,setComputedData:nV}=eC.actions,r$=eC.reducer,n$=["x","y"];function d1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d1(Object(r),!0).forEach(function(s){s$(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function s$(e,t,r){return(t=a$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a$(e){var t=i$(e,"string");return typeof t=="symbol"?t:t+""}function i$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o$(e,t){if(e==null)return{};var r,s,a=l$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function l$(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var tC=()=>{};function c$(){var e=Se(wg),t=Se(Ng),r=Lt(),s=Se(JS),a=Se(es),i=z4(),o=Hd(),l=Se(c=>c.rootProps.className);h.useEffect(()=>{if(e==null)return tC;var c=(u,d,m)=>{if(t!==m&&e===u){if(s==="index"){var f;if(o&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:g,y:b}=p,x=o$(p,n$),{x:v,y,width:j,height:w}=d.payload.sourceViewBox,N=Da(Da({},x),{},{x:o.x+(j?(g-v)/j:0)*o.width,y:o.y+(w?(b-y)/w:0)*o.height});r(Da(Da({},d),{},{payload:Da(Da({},d.payload),{},{coordinate:N})}))}else r(d);return}if(a!=null){var S;if(typeof s=="function"){var P={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},C=s(a,P);S=a[C]}else s==="value"&&(S=a.find(F=>String(F.value)===d.payload.label));var{coordinate:E}=d.payload;if(S==null||d.payload.active===!1||E==null||o==null){r(dh({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:O,y:I}=E,M=Math.min(O,o.x+o.width),k=Math.min(I,o.y+o.height),A={x:i==="horizontal"?S.coordinate:M,y:i==="horizontal"?k:S.coordinate},B=dh({active:d.payload.active,coordinate:A,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(B)}}};return cl.on(ph,c),()=>{cl.off(ph,c)}},[l,r,t,e,s,a,i,o])}function u$(){var e=Se(wg),t=Se(Ng),r=Lt();h.useEffect(()=>{if(e==null)return tC;var s=(a,i,o)=>{t!==o&&e===a&&r(t$(i))};return cl.on(c1,s),()=>{cl.off(c1,s)}},[r,t,e])}function d$(){var e=Lt();h.useEffect(()=>{e(JF())},[e]),c$(),u$()}function m$(e,t,r,s,a,i){var o=Se(p=>_F(p,e,t)),l=Se(Ng),c=Se(wg),u=Se(JS),d=Se(ZF),m=d==null?void 0:d.active,f=Hd();h.useEffect(()=>{if(!m&&c!=null&&l!=null){var p=dh({active:i,coordinate:r,dataKey:o,index:a,label:typeof s=="number"?String(s):s,sourceViewBox:f});cl.emit(ph,c,p,l)}},[m,r,o,a,s,l,c,u,i,f])}function m1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function f1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(r),!0).forEach(function(s){f$(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function f$(e,t,r){return(t=p$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p$(e){var t=h$(e,"string");return typeof t=="symbol"?t:t+""}function h$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g$(e){return e.dataKey}function x$(e,t){return h.isValidElement(e)?h.cloneElement(e,t):typeof e=="function"?h.createElement(e,t):h.createElement(_7,t)}var p1=[],v$={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Pl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function y$(e){var t=Jn(e,v$),{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:m,reverseDirection:f,useTranslate3d:p,wrapperStyle:g,cursor:b,shared:x,trigger:v,defaultIndex:y,portal:j,axisId:w}=t,N=Lt(),S=typeof y=="number"?String(y):y;h.useEffect(()=>{N(zR({shared:x,trigger:v,axisId:w,active:r,defaultIndex:S}))},[N,x,v,w,r,S]);var P=Hd(),C=B4(),E=DR(x),{activeIndex:O,isActive:I}=Se(ie=>$F(ie,E,v,S)),M=Se(ie=>FF(ie,E,v,S)),k=Se(ie=>Q5(ie,E,v,S)),A=Se(ie=>RF(ie,E,v,S)),B=M,F=WF(),D=r??I,[$,z]=OM([B,D]),K=E==="axis"?k:void 0;m$(E,v,A,K,O,D);var U=j??F;if(U==null)return null;var q=B??p1;D||(q=p1),l&&q.length&&(q=YO(B.filter(ie=>ie.value!=null&&(ie.hide!==!0||t.includeHidden)),d,g$));var te=q.length>0,W=h.createElement(q7,{allowEscapeViewBox:s,animationDuration:a,animationEasing:i,isAnimationActive:c,active:D,coordinate:A,hasPayload:te,offset:u,position:m,reverseDirection:f,useTranslate3d:p,viewBox:P,wrapperStyle:g,lastBoundingBox:$,innerRef:z,hasPortalFromProps:!!j},x$(o,f1(f1({},t),{},{payload:q,label:K,active:D,coordinate:A,accessibilityLayer:C})));return h.createElement(h.Fragment,null,lN.createPortal(W,U),D&&h.createElement(HF,{cursor:b,tooltipEventType:E,coordinate:A,payload:B,index:O}))}var um=e=>null;um.displayName="Cell";function b$(e,t,r){return(t=j$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j$(e){var t=w$(e,"string");return typeof t=="symbol"?t:t+""}function w$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class N${constructor(t){b$(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function h1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function S$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(r),!0).forEach(function(s){C$(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function C$(e,t,r){return(t=P$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P$(e){var t=k$(e,"string");return typeof t=="symbol"?t:t+""}function k$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A$={cacheSize:2e3,enableCache:!0},rC=S$({},A$),g1=new N$(rC.cacheSize),E$={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},x1="recharts_measurement_span";function T$(e,t){var r=t.fontSize||"",s=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(s,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var v1=(e,t)=>{try{var r=document.getElementById(x1);r||(r=document.createElement("span"),r.setAttribute("id",x1),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,E$,t),r.textContent="".concat(e);var s=r.getBoundingClientRect();return{width:s.width,height:s.height}}catch{return{width:0,height:0}}},y1=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Pl.isSsr)return{width:0,height:0};if(!rC.enableCache)return v1(t,r);var s=T$(t,r),a=g1.get(s);if(a)return a;var i=v1(t,r);return g1.set(s,i),i},b1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,j1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,O$=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,M$=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},L$=Object.keys(nC),Ga="NaN";function I$(e,t){return e*nC[t]}class Kt{static parse(t){var r,[,s,a]=(r=M$.exec(t))!==null&&r!==void 0?r:[];return new Kt(parseFloat(s),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Nn(t)&&(this.unit=""),r!==""&&!O$.test(r)&&(this.num=NaN,this.unit=""),L$.includes(r)&&(this.num=I$(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Kt(NaN,""):new Kt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Kt(NaN,""):new Kt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Kt(NaN,""):new Kt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Kt(NaN,""):new Kt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Nn(this.num)}}function sC(e){if(e.includes(Ga))return Ga;for(var t=e;t.includes("*")||t.includes("/");){var r,[,s,a,i]=(r=b1.exec(t))!==null&&r!==void 0?r:[],o=Kt.parse(s??""),l=Kt.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Ga;t=t.replace(b1,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,m,f]=(u=j1.exec(t))!==null&&u!==void 0?u:[],p=Kt.parse(d??""),g=Kt.parse(f??""),b=m==="+"?p.add(g):p.subtract(g);if(b.isNaN())return Ga;t=t.replace(j1,b.toString())}return t}var w1=/\(([^()]*)\)/;function D$(e){for(var t=e,r;(r=w1.exec(t))!=null;){var[,s]=r;t=t.replace(w1,sC(s))}return t}function _$(e){var t=e.replace(/\s+/g,"");return t=D$(t),t=sC(t),t}function R$(e){try{return _$(e)}catch{return Ga}}function Sf(e){var t=R$(e.slice(5,-1));return t===Ga?"":t}var F$=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$$=["dx","dy","angle","className","breakAll"];function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},hh.apply(null,arguments)}function N1(e,t){if(e==null)return{};var r,s,a=z$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function z$(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var aC=/[ \f\n\r\t\v\u2028\u2029]+/,iC=e=>{var{children:t,breakAll:r,style:s}=e;try{var a=[];br(t)||(r?a=t.toString().split(""):a=t.toString().split(aC));var i=a.map(l=>({word:l,width:y1(l,s).width})),o=r?0:y1("",s).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},U$=(e,t,r,s,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=je(i),d=o,m=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce((M,k)=>{var{word:A,width:B}=k,F=M[M.length-1];if(F&&(s==null||a||F.width+B+r<Number(s)))F.words.push(A),F.width+=B+r;else{var D={words:[A],width:B};M.push(D)}return M},[])},f=m(t),p=O=>O.reduce((I,M)=>I.width>M.width?I:M);if(!u||a)return f;var g=f.length>i||p(f).width>Number(s);if(!g)return f;for(var b="",x=O=>{var I=d.slice(0,O),M=iC({breakAll:c,style:l,children:I+b}).wordsWithComputedWidth,k=m(M),A=k.length>i||p(k).width>Number(s);return[A,k]},v=0,y=d.length-1,j=0,w;v<=y&&j<=d.length-1;){var N=Math.floor((v+y)/2),S=N-1,[P,C]=x(S),[E]=x(N);if(!P&&!E&&(v=N+1),P&&E&&(y=N-1),!P&&E){w=C;break}j++}return w||f},S1=e=>{var t=br(e)?[]:e.toString().split(aC);return[{words:t}]},B$=e=>{var{width:t,scaleToFit:r,children:s,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Pl.isSsr){var l,c,u=iC({breakAll:i,children:s,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:m}=u;l=d,c=m}else return S1(s);return U$({breakAll:i,children:s,maxLines:o,style:a},l,c,t,r)}return S1(s)},C1="#808080",nx=h.forwardRef((e,t)=>{var{x:r=0,y:s=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=C1}=e,d=N1(e,F$),m=h.useMemo(()=>B$({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:f,dy:p,angle:g,className:b,breakAll:x}=d,v=N1(d,$$);if(!Bn(r)||!Bn(s)||m.length===0)return null;var y=r+(je(f)?f:0),j=s+(je(p)?p:0),w;switch(c){case"start":w=Sf("calc(".concat(i,")"));break;case"middle":w=Sf("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:w=Sf("calc(".concat(m.length-1," * -").concat(a,")"));break}var N=[];if(o){var S=m[0].width,{width:P}=d;N.push("scale(".concat(je(P)?P/S:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(y,", ").concat(j,")")),N.length&&(v.transform=N.join(" ")),h.createElement("text",hh({},zr(v),{ref:t,x:y,y:j,className:dt("recharts-text",b),textAnchor:l,fill:u.includes("url")?C1:u}),m.map((C,E)=>{var O=C.words.join(x?"":" ");return h.createElement("tspan",{x:y,dy:E===0?w:a,key:"".concat(O,"-").concat(E)},O)}))});nx.displayName="Text";var q$=["labelRef"];function V$(e,t){if(e==null)return{};var r,s,a=H$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function H$(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function P1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(r),!0).forEach(function(s){W$(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function W$(e,t,r){return(t=K$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K$(e){var t=G$(e,"string");return typeof t=="symbol"?t:t+""}function G$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Gu.apply(null,arguments)}var Y$=h.createContext(null),Q$=()=>{var e=h.useContext(Y$),t=Hd();return e||t},X$=h.createContext(null),J$=()=>{var e=h.useContext(X$),t=Se(n5);return e||t},Z$=e=>{var{value:t,formatter:r}=e,s=br(e.children)?t:e.children;return typeof r=="function"?r(s):s},ez=e=>e!=null&&typeof e=="function",tz=(e,t)=>{var r=Jt(t-e),s=Math.min(Math.abs(t-e),360);return r*s},rz=(e,t,r,s,a)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:m,endAngle:f,clockWise:p}=a,g=(u+d)/2,b=tz(m,f),x=b>=0?1:-1,v,y;switch(t){case"insideStart":v=m+x*i,y=p;break;case"insideEnd":v=f-x*i,y=!p;break;case"end":v=f+x*i,y=p;break;default:throw new Error("Unsupported position ".concat(t))}y=b<=0?y:!y;var j=lt(l,c,g,v),w=lt(l,c,g,v+(y?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(y?0:1,`,
    `).concat(w.x,",").concat(w.y),S=br(e.id)?Jo("recharts-radial-line-"):e.id;return h.createElement("text",Gu({},s,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",o)}),h.createElement("defs",null,h.createElement("path",{id:S,d:N})),h.createElement("textPath",{xlinkHref:"#".concat(S)},r))},nz=(e,t,r)=>{var{cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:m}=lt(s,a,o+t,u);return{x:d,y:m,textAnchor:d>=s?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var f=(i+o)/2,{x:p,y:g}=lt(s,a,f,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},oC=e=>"cx"in e&&je(e.cx),sz=(e,t)=>{var{parentViewBox:r,offset:s,position:a}=e,i;r!=null&&!oC(r)&&(i=r);var{x:o,y:l,width:c,height:u}=t,d=u>=0?1:-1,m=d*s,f=d>0?"end":"start",p=d>0?"start":"end",g=c>=0?1:-1,b=g*s,x=g>0?"end":"start",v=g>0?"start":"end";if(a==="top"){var y={x:o+c/2,y:l-d*s,textAnchor:"middle",verticalAnchor:f};return it(it({},y),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var j={x:o+c/2,y:l+u+m,textAnchor:"middle",verticalAnchor:p};return it(it({},j),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(a==="left"){var w={x:o-b,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return it(it({},w),i?{width:Math.max(w.x-i.x,0),height:u}:{})}if(a==="right"){var N={x:o+c+b,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return it(it({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:u}:{})}var S=i?{width:c,height:u}:{};return a==="insideLeft"?it({x:o+b,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},S):a==="insideRight"?it({x:o+c-b,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},S):a==="insideTop"?it({x:o+c/2,y:l+m,textAnchor:"middle",verticalAnchor:p},S):a==="insideBottom"?it({x:o+c/2,y:l+u-m,textAnchor:"middle",verticalAnchor:f},S):a==="insideTopLeft"?it({x:o+b,y:l+m,textAnchor:v,verticalAnchor:p},S):a==="insideTopRight"?it({x:o+c-b,y:l+m,textAnchor:x,verticalAnchor:p},S):a==="insideBottomLeft"?it({x:o+b,y:l+u-m,textAnchor:v,verticalAnchor:f},S):a==="insideBottomRight"?it({x:o+c-b,y:l+u-m,textAnchor:x,verticalAnchor:f},S):a&&typeof a=="object"&&(je(a.x)||Un(a.x))&&(je(a.y)||Un(a.y))?it({x:o+xr(a.x,c),y:l+xr(a.y,u),textAnchor:"end",verticalAnchor:"end"},S):it({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},az={offset:5};function lC(e){var t=Jn(e,az),{viewBox:r,position:s,value:a,children:i,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=J$(),m=Q$(),f=s==="center"?m:d??m,p=r||f;if(!p||br(a)&&br(i)&&!h.isValidElement(o)&&typeof o!="function")return null;var g=it(it({},t),{},{viewBox:p});if(h.isValidElement(o)){var{labelRef:b}=g,x=V$(g,q$);return h.cloneElement(o,x)}var v;if(typeof o=="function"){if(v=h.createElement(o,g),h.isValidElement(v))return v}else v=Z$(t);var y=oC(p),j=zr(t);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return rz(t,s,v,j,p);var w=y?nz(p,t.offset,t.position):sz(t,p);return h.createElement(nx,Gu({ref:u,className:dt("recharts-label",l)},j,w,{breakAll:c}),v)}lC.displayName="Label";var cC={},uC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(uC);var dC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(dC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uC,r=dC,s=Ld;function a(i){if(s.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(cC);var iz=cC.last;const oz=Kn(iz);var lz=["valueAccessor"],cz=["dataKey","clockWise","id","textBreakAll"];function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Yu.apply(null,arguments)}function k1(e,t){if(e==null)return{};var r,s,a=uz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uz(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var dz=e=>Array.isArray(e.value)?oz(e.value):e.value,mC=h.createContext(void 0);mC.Provider;var fC=h.createContext(void 0),mz=fC.Provider;function fz(){return h.useContext(mC)}function pz(){return h.useContext(fC)}function qc(e){var{valueAccessor:t=dz}=e,r=k1(e,lz),{dataKey:s,clockWise:a,id:i,textBreakAll:o}=r,l=k1(r,cz),c=fz(),u=pz(),d=c||u;return!d||!d.length?null:h.createElement(Os,{className:"recharts-label-list"},d.map((m,f)=>{var p,g=br(s)?t(m,f):ct(m&&m.payload,s),b=br(i)?{}:{id:"".concat(i,"-").concat(f)};return h.createElement(lC,Yu({key:"label-".concat(f)},zr(m),l,b,{fill:(p=r.fill)!==null&&p!==void 0?p:m.fill,parentViewBox:m.parentViewBox,value:g,textBreakAll:o,viewBox:m.viewBox,index:f}))}))}qc.displayName="LabelList";function hz(e){var{label:t}=e;return t?t===!0?h.createElement(qc,{key:"labelList-implicit"}):h.isValidElement(t)||ez(t)?h.createElement(qc,{key:"labelList-implicit",content:t}):typeof t=="object"?h.createElement(qc,Yu({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var pC=e=>e.graphicalItems.polarItems,gz=Q([Ke,Ml],Eg),dm=Q([pC,Xe,gz],Tg),xz=Q([dm],Og),mm=Q([xz,vg],Mg),vz=Q([mm,Xe,dm],Ig);Q([mm,Xe,dm],(e,t,r)=>r.length>0?e.flatMap(s=>r.flatMap(a=>{var i,o=ct(s,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:ct(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})));var A1=()=>{},yz=Q([mm,Xe,dm,am,Ke],Fg),bz=Q([Xe,_g,Rg,A1,yz,A1,$e,Ke],$g),hC=Q([Xe,$e,mm,vz,Ol,Ke,bz],zg),jz=Q([hC,Xe,Li],qg);Q([Xe,hC,jz,Ke],Hg);var wz={radiusAxis:{},angleAxis:{}},gC=Sr({name:"polarAxis",initialState:wz,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:sV,removeRadiusAxis:aV,addAngleAxis:iV,removeAngleAxis:oV}=gC.actions,Nz=gC.reducer;function E1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function T1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E1(Object(r),!0).forEach(function(s){Sz(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Sz(e,t,r){return(t=Cz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cz(e){var t=Pz(e,"string");return typeof t=="symbol"?t:t+""}function Pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kz=(e,t)=>t,sx=Q([pC,kz],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Az=[],ax=(e,t,r)=>(r==null?void 0:r.length)===0?Az:r,xC=Q([vg,sx,ax],(e,t,r)=>{var{chartData:s}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=s,(!a||!a.length)&&r!=null&&(a=r.map(i=>T1(T1({},t.presentationProps),i.props))),a!=null)return a}}),Ez=Q([xC,sx,ax],(e,t,r)=>{if(!(e==null||t==null))return e.map((s,a)=>{var i,o=ct(s,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof s=="object"&&s!=null&&"fill"in s?l=s.fill:l=t.fill,{value:T4(o,t.dataKey),color:l,payload:s,type:t.legendType}})}),Tz=Q([xC,sx,ax,wt],(e,t,r,s)=>{if(!(t==null||e==null))return MU({offset:s,pieSettings:t,displayedData:e,cells:r})}),vC={exports:{}},De={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix=Symbol.for("react.transitional.element"),ox=Symbol.for("react.portal"),fm=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),hm=Symbol.for("react.profiler"),gm=Symbol.for("react.consumer"),xm=Symbol.for("react.context"),vm=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),bm=Symbol.for("react.suspense_list"),jm=Symbol.for("react.memo"),wm=Symbol.for("react.lazy"),Oz=Symbol.for("react.view_transition"),Mz=Symbol.for("react.client.reference");function Wr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ix:switch(e=e.type,e){case fm:case hm:case pm:case ym:case bm:case Oz:return e;default:switch(e=e&&e.$$typeof,e){case xm:case vm:case wm:case jm:return e;case gm:return e;default:return t}}case ox:return t}}}De.ContextConsumer=gm;De.ContextProvider=xm;De.Element=ix;De.ForwardRef=vm;De.Fragment=fm;De.Lazy=wm;De.Memo=jm;De.Portal=ox;De.Profiler=hm;De.StrictMode=pm;De.Suspense=ym;De.SuspenseList=bm;De.isContextConsumer=function(e){return Wr(e)===gm};De.isContextProvider=function(e){return Wr(e)===xm};De.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ix};De.isForwardRef=function(e){return Wr(e)===vm};De.isFragment=function(e){return Wr(e)===fm};De.isLazy=function(e){return Wr(e)===wm};De.isMemo=function(e){return Wr(e)===jm};De.isPortal=function(e){return Wr(e)===ox};De.isProfiler=function(e){return Wr(e)===hm};De.isStrictMode=function(e){return Wr(e)===pm};De.isSuspense=function(e){return Wr(e)===ym};De.isSuspenseList=function(e){return Wr(e)===bm};De.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fm||e===hm||e===pm||e===ym||e===bm||typeof e=="object"&&e!==null&&(e.$$typeof===wm||e.$$typeof===jm||e.$$typeof===xm||e.$$typeof===gm||e.$$typeof===vm||e.$$typeof===Mz||e.getModuleId!==void 0)};De.typeOf=Wr;vC.exports=De;var Lz=vC.exports,O1=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",M1=null,Cf=null,yC=e=>{if(e===M1&&Array.isArray(Cf))return Cf;var t=[];return h.Children.forEach(e,r=>{br(r)||(Lz.isFragment(r)?t=t.concat(yC(r.props.children)):t.push(r))}),Cf=t,M1=e,t};function bC(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(a=>O1(a)):s=[O1(t)],yC(e).forEach(a=>{var i=Xo(a,"type.displayName")||Xo(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}var jC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let s=r;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(r)===s}e.isPlainObject=t})(jC);var Iz=jC.isPlainObject;const Dz=Kn(Iz);function L1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function I1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(r),!0).forEach(function(s){_z(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function _z(e,t,r){return(t=Rz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rz(e){var t=Fz(e,"string");return typeof t=="symbol"?t:t+""}function Fz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Qu.apply(null,arguments)}var D1=(e,t,r,s,a)=>{var i=r-s,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-s,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},$z={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zz=e=>{var t=Jn(e,$z),{x:r,y:s,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:m}=t,f=h.useRef(null),[p,g]=h.useState(-1),b=h.useRef(a),x=h.useRef(i),v=h.useRef(o),y=h.useRef(r),j=h.useRef(s),w=G0(e,"trapezoid-");if(h.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var A=f.current.getTotalLength();A&&g(A)}catch{}},[]),r!==+r||s!==+s||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var N=dt("recharts-trapezoid",l);if(!m)return h.createElement("g",null,h.createElement("path",Qu({},zr(t),{className:N,d:D1(r,s,a,i,o)})));var S=b.current,P=x.current,C=v.current,E=y.current,O=j.current,I="0px ".concat(p===-1?1:p,"px"),M="".concat(p,"px 0px"),k=V4(["strokeDasharray"],u,c);return h.createElement(K0,{animationId:w,key:w,canBegin:p>0,duration:u,easing:c,isActive:m,begin:d},A=>{var B=Xr(S,a,A),F=Xr(P,i,A),D=Xr(C,o,A),$=Xr(E,r,A),z=Xr(O,s,A);f.current&&(b.current=B,x.current=F,v.current=D,y.current=$,j.current=z);var K=A>0?{transition:k,strokeDasharray:M}:{strokeDasharray:I};return h.createElement("path",Qu({},zr(t),{className:N,d:D1($,z,B,F,D),ref:f,style:I1(I1({},K),t.style)}))})},Uz=["option","shapeType","propTransformer","activeClassName","isActive"];function Bz(e,t){if(e==null)return{};var r,s,a=qz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qz(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(s){Vz(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Vz(e,t,r){return(t=Hz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hz(e){var t=Wz(e,"string");return typeof t=="symbol"?t:t+""}function Wz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kz(e,t){return Xu(Xu({},t),e)}function Gz(e,t){return e==="symbols"}function R1(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return h.createElement(G4,r);case"trapezoid":return h.createElement(zz,r);case"sector":return h.createElement(X4,r);case"symbols":if(Gz(t))return h.createElement(k2,r);break;default:return null}}function Yz(e){return h.isValidElement(e)?e.props:e}function Qz(e){var{option:t,shapeType:r,propTransformer:s=Kz,activeClassName:a="recharts-active-shape",isActive:i}=e,o=Bz(e,Uz),l;if(h.isValidElement(t))l=h.cloneElement(t,Xu(Xu({},o),Yz(t)));else if(typeof t=="function")l=t(o);else if(Dz(t)&&typeof t!="boolean"){var c=s(t,o);l=h.createElement(R1,{shapeType:r,elementProps:c})}else{var u=o;l=h.createElement(R1,{shapeType:r,elementProps:u})}return i?h.createElement(Os,{className:a},l):l}var Xz=(e,t)=>{var r=Lt();return(s,a)=>i=>{e==null||e(s,a,i),r(O5({activeIndex:String(a),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}},Jz=e=>{var t=Lt();return(r,s)=>a=>{e==null||e(r,s,a),t(UR())}},Zz=(e,t)=>{var r=Lt();return(s,a)=>i=>{e==null||e(s,a,i),r(BR({activeIndex:String(a),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}};function eU(e){var{fn:t,args:r}=e,s=Lt(),a=Ta();return h.useLayoutEffect(()=>{if(!a){var i=t(r);return s(FR(i)),()=>{s($R(i))}}},[t,r,s,a]),null}var tU=()=>{};function rU(e){var{legendPayload:t}=e,r=Lt(),s=Se($e);return h.useLayoutEffect(()=>s!=="centric"&&s!=="radial"?tU:(r(E7(t)),()=>{r(T7(t))}),[r,s,t]),null}var Pf,nU=()=>{var[e]=h.useState(()=>Jo("uid-"));return e},sU=(Pf=aj.useId)!==null&&Pf!==void 0?Pf:nU;function aU(e,t){var r=sU();return t||(e?"".concat(e,"-").concat(r):r)}var iU=h.createContext(void 0),oU=e=>{var{id:t,type:r,children:s}=e,a=aU("recharts-".concat(r),t);return h.createElement(iU.Provider,{value:a},s(a))},lU={cartesianItems:[],polarItems:[]},wC=Sr({name:"graphicalItems",initialState:lU,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ut()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:s}=t.payload,a=In(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=s)},prepare:Ut()},removeCartesianGraphicalItem:{reducer(e,t){var r=In(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ut()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ut()},removePolarGraphicalItem:{reducer(e,t){var r=In(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ut()}}}),{addCartesianGraphicalItem:lV,replaceCartesianGraphicalItem:cV,removeCartesianGraphicalItem:uV,addPolarGraphicalItem:cU,removePolarGraphicalItem:uU}=wC.actions,dU=wC.reducer;function mU(e){var t=Lt();return h.useLayoutEffect(()=>(t(cU(e)),()=>{t(uU(e))}),[t,e]),null}var fU=["onMouseEnter","onClick","onMouseLeave"],pU=["id"],hU=["id"];function lx(e,t){if(e==null)return{};var r,s,a=gU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gU(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function F1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(r),!0).forEach(function(s){xU(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function xU(e,t,r){return(t=vU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=yU(e,"string");return typeof t=="symbol"?t:t+""}function yU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ms.apply(null,arguments)}function bU(e){var t=h.useMemo(()=>bC(e.children,um),[e.children]),r=Se(s=>Ez(s,e.id,t));return r==null?null:h.createElement(rU,{legendPayload:r})}function jU(e){var{dataKey:t,nameKey:r,sectors:s,stroke:a,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:s.map(d=>d.tooltipPayload),positions:s.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:T4(l,t),hide:c,type:u,color:o,unit:""}}}var wU=(e,t)=>e>t?"start":e<t?"end":"middle",NU=(e,t,r)=>xr(typeof t=="function"?t(e):t,r,r*.8),SU=(e,t,r)=>{var{top:s,left:a,width:i,height:o}=t,l=A4(i,o),c=a+xr(e.cx,i,i/2),u=s+xr(e.cy,o,o/2),d=xr(e.innerRadius,l,0),m=NU(r,e.outerRadius,l),f=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:m,maxRadius:f}},CU=(e,t)=>{var r=Jt(t-e),s=Math.min(Math.abs(t-e),360);return r*s};function PU(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var kU=(e,t)=>{if(h.isValidElement(e))return h.cloneElement(e,t);if(typeof e=="function")return e(t);var r=dt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return h.createElement(q4,Ms({},t,{type:"linear",className:r}))},AU=(e,t,r)=>{if(h.isValidElement(e))return h.cloneElement(e,t);var s=r;if(typeof e=="function"&&(s=e(t),h.isValidElement(s)))return s;var a=dt("recharts-pie-label-text",PU(e));return h.createElement(nx,Ms({},t,{alignmentBaseline:"middle",className:a}),s)};function EU(e){var{sectors:t,props:r,showLabels:s}=e,{label:a,labelLine:i,dataKey:o}=r;if(!s||!a||!t)return null;var l=fi(r),c=Mp(a),u=Mp(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((f,p)=>{var g=(f.startAngle+f.endAngle)/2,b=lt(f.cx,f.cy,f.outerRadius+d,g),x=Ve(Ve(Ve(Ve({},l),f),{},{stroke:"none"},c),{},{index:p,textAnchor:wU(b.x,f.cx)},b),v=Ve(Ve(Ve(Ve({},l),f),{},{fill:"none",stroke:f.fill},u),{},{index:p,points:[lt(f.cx,f.cy,f.outerRadius,g),b],key:"line"});return h.createElement(Os,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(p)},i&&kU(i,v),AU(a,x,ct(f,o)))});return h.createElement(Os,{className:"recharts-pie-labels"},m)}function TU(e){var{sectors:t,props:r,showLabels:s}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?h.createElement(hz,{label:a}):h.createElement(EU,{sectors:t,props:r,showLabels:s})}function OU(e){var{sectors:t,activeShape:r,inactiveShape:s,allOtherPieProps:a}=e,i=Se(ll),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,u=lx(a,fU),d=Xz(o,a.dataKey),m=Jz(c),f=Zz(l,a.dataKey);return t==null||t.length===0?null:h.createElement(h.Fragment,null,t.map((p,g)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var b=r&&String(g)===i,x=i?s:null,v=b?r:x,y=Ve(Ve({},p),{},{stroke:p.stroke,tabIndex:-1,[M4]:g,[L4]:a.dataKey});return h.createElement(Os,Ms({key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(g),tabIndex:-1,className:"recharts-pie-sector"},KO(u,p,g),{onMouseEnter:d(p,g),onMouseLeave:m(p,g),onClick:f(p,g)}),h.createElement(Qz,Ms({option:v,isActive:b,shapeType:"sector"},y)))}))}function MU(e){var t,{pieSettings:r,displayedData:s,cells:a,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:m}=r,f=Math.abs(r.minAngle),p=CU(l,c),g=Math.abs(p),b=s.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=s.filter(S=>ct(S,u,0)!==0).length,v=(g>=360?x:x-1)*b,y=g-x*f-v,j=s.reduce((S,P)=>{var C=ct(P,u,0);return S+(je(C)?C:0)},0),w;if(j>0){var N;w=s.map((S,P)=>{var C=ct(S,u,0),E=ct(S,d,P),O=SU(r,i,S),I=(je(C)?C:0)/j,M,k=Ve(Ve({},S),a&&a[P]&&a[P].props);P?M=N.endAngle+Jt(p)*b*(C!==0?1:0):M=l;var A=M+Jt(p)*((C!==0?f:0)+I*y),B=(M+A)/2,F=(O.innerRadius+O.outerRadius)/2,D=[{name:E,value:C,payload:k,dataKey:u,type:m}],$=lt(O.cx,O.cy,F,B);return N=Ve(Ve(Ve(Ve({},r.presentationProps),{},{percent:I,cornerRadius:o,name:E,tooltipPayload:D,midAngle:B,middleRadius:F,tooltipPosition:$},k),O),{},{value:C,startAngle:M,endAngle:A,payload:k,paddingAngle:Jt(p)*b}),N})}return w}function LU(e){var{showLabels:t,sectors:r,children:s}=e,a=h.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return h.createElement(mz,{value:t?a:void 0},s)}function IU(e){var{props:t,previousSectorsRef:r}=e,{sectors:s,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:m}=t,f=G0(t,"recharts-pie-"),p=r.current,[g,b]=h.useState(!1),x=h.useCallback(()=>{typeof m=="function"&&m(),b(!1)},[m]),v=h.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return h.createElement(LU,{showLabels:!g,sectors:s},h.createElement(K0,{animationId:f,begin:i,duration:o,isActive:a,easing:l,onAnimationStart:v,onAnimationEnd:x,key:f},y=>{var j=[],w=s&&s[0],N=w==null?void 0:w.startAngle;return s==null||s.forEach((S,P)=>{var C=p&&p[P],E=P>0?Xo(S,"paddingAngle",0):0;if(C){var O=Xr(C.endAngle-C.startAngle,S.endAngle-S.startAngle,y),I=Ve(Ve({},S),{},{startAngle:N+E,endAngle:N+O+E});j.push(I),N=I.endAngle}else{var{endAngle:M,startAngle:k}=S,A=Xr(0,M-k,y),B=Ve(Ve({},S),{},{startAngle:N+E,endAngle:N+A+E});j.push(B),N=B.endAngle}}),r.current=j,h.createElement(Os,null,h.createElement(OU,{sectors:j,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),h.createElement(TU,{showLabels:!g,sectors:s,props:t}),t.children)}var DU={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Pl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function _U(e){var{id:t}=e,r=lx(e,pU),{hide:s,className:a,rootTabIndex:i}=e,o=h.useMemo(()=>bC(e.children,um),[e.children]),l=Se(d=>Tz(d,t,o)),c=h.useRef(null),u=dt("recharts-pie",a);return s||l==null?(c.current=null,h.createElement(Os,{tabIndex:i,className:u})):h.createElement(h.Fragment,null,h.createElement(eU,{fn:jU,args:Ve(Ve({},e),{},{sectors:l})}),h.createElement(Os,{tabIndex:i,className:u},h.createElement(IU,{props:Ve(Ve({},r),{},{sectors:l}),previousSectorsRef:c})))}function NC(e){var t=Jn(e,DU),{id:r}=t,s=lx(t,hU),a=fi(s);return h.createElement(oU,{id:r,type:"pie"},i=>h.createElement(h.Fragment,null,h.createElement(mU,{type:"pie",id:i,data:s.data,dataKey:s.dataKey,hide:s.hide,angleAxisId:0,radiusAxisId:0,name:s.name,nameKey:s.nameKey,tooltipType:s.tooltipType,legendType:s.legendType,fill:s.fill,cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,paddingAngle:s.paddingAngle,minAngle:s.minAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius,cornerRadius:s.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),h.createElement(bU,Ms({},s,{id:i})),h.createElement(_U,Ms({},s,{id:i}))))}NC.displayName="Pie";function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(s){RU(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function RU(e,t,r){return(t=FU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FU(e){var t=$U(e,"string");return typeof t=="symbol"?t:t+""}function $U(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zU={xAxis:{},yAxis:{},zAxis:{}},SC=Sr({name:"cartesianAxis",initialState:zU,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ut()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ut()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ut()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ut()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ut()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ut()},updateYAxisWidth(e,t){var{id:r,width:s}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&s===i[1]&&s!==a.width&&Math.abs(s-i[0])<=1)return;var o=[...i,s].slice(-3);e.yAxis[r]=z1(z1({},e.yAxis[r]),{},{width:s,widthHistory:o})}}}}),{addXAxis:dV,removeXAxis:mV,addYAxis:fV,removeYAxis:pV,addZAxis:hV,removeZAxis:gV,updateYAxisWidth:xV}=SC.actions,UU=SC.reducer,BU=Q([wt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),qU=Q([BU,Qn,Xn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),VU=()=>Se(qU),HU={},CC=Sr({name:"errorBars",initialState:HU,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:s}=t.payload;e[r]||(e[r]=[]),e[r].push(s)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:s,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===s.dataKey&&i.direction===s.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:s}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==s.dataKey||a.direction!==s.direction))}}}),{addErrorBar:vV,replaceErrorBar:yV,removeErrorBar:bV}=CC.actions,WU=CC.reducer,KU=e=>{var{chartData:t}=e,r=Lt(),s=Ta();return h.useEffect(()=>s?()=>{}:(r(u1(t)),()=>{r(u1(void 0))}),[t,r,s]),null},U1={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},PC=Sr({name:"brush",initialState:U1,reducers:{setBrushSettings(e,t){return t.payload==null?U1:t.payload}}}),{setBrushSettings:jV}=PC.actions,GU=PC.reducer,YU={dots:[],areas:[],lines:[]},kC=Sr({name:"referenceElements",initialState:YU,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=In(e).dots.findIndex(s=>s===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=In(e).areas.findIndex(s=>s===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=In(e).lines.findIndex(s=>s===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:wV,removeDot:NV,addArea:SV,removeArea:CV,addLine:PV,removeLine:kV}=kC.actions,QU=kC.reducer,XU=h.createContext(void 0),JU=e=>{var{children:t}=e,[r]=h.useState("".concat(Jo("recharts"),"-clip")),s=VU();if(s==null)return null;var{x:a,y:i,width:o,height:l}=s;return h.createElement(XU.Provider,{value:r},h.createElement("defs",null,h.createElement("clipPath",{id:r},h.createElement("rect",{x:a,y:i,height:l,width:o}))),t)},ZU={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=h;function eB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tB=typeof Object.is=="function"?Object.is:eB,rB=Fl.useSyncExternalStore,nB=Fl.useRef,sB=Fl.useEffect,aB=Fl.useMemo,iB=Fl.useDebugValue;ZU.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var i=nB(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=aB(function(){function c(p){if(!u){if(u=!0,d=p,p=s(p),a!==void 0&&o.hasValue){var g=o.value;if(a(g,p))return m=g}return m=p}if(g=m,tB(d,p))return g;var b=s(p);return a!==void 0&&a(g,b)?(d=p,g):(d=p,m=b)}var u=!1,d,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,s,a]);var l=rB(e,i[0],i[1]);return sB(function(){o.hasValue=!0,o.value=l},[l]),iB(l),l};function oB(e){e()}function lB(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oB(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var B1={notify(){},get:()=>[]};function cB(e,t){let r,s=B1,a=0,i=!1;function o(b){d();const x=s.subscribe(b);let v=!1;return()=>{v||(v=!0,x(),m())}}function l(){s.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),s=lB())}function m(){a--,r&&a===0&&(r(),r=void 0,s.clear(),s=B1)}function f(){i||(i=!0,d())}function p(){i&&(i=!1,m())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>s};return g}var uB=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dB=uB(),mB=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fB=mB(),pB=()=>dB||fB?h.useLayoutEffect:h.useEffect,hB=pB(),kf=Symbol.for("react-redux-context"),Af=typeof globalThis<"u"?globalThis:{};function gB(){if(!h.createContext)return{};const e=Af[kf]??(Af[kf]=new Map);let t=e.get(h.createContext);return t||(t=h.createContext(null),e.set(h.createContext,t)),t}var xB=gB();function vB(e){const{children:t,context:r,serverState:s,store:a}=e,i=h.useMemo(()=>{const c=cB(a);return{store:a,subscription:c,getServerState:s?()=>s:void 0}},[a,s]),o=h.useMemo(()=>a.getState(),[a]);hB(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||xB;return h.createElement(l.Provider,{value:i},t)}var yB=vB,bB=(e,t)=>t,cx=Q([bB,$e,n5,gt,B5,es,DF,wt],zF),ux=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,s=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/s)}},AC=Ur("mouseClick"),EC=Sl();EC.startListening({actionCreator:AC,effect:(e,t)=>{var r=e.payload,s=cx(t.getState(),ux(r));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(qR({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var gh=Ur("mouseMove"),TC=Sl();TC.startListening({actionCreator:gh,effect:(e,t)=>{var r=e.payload,s=t.getState(),a=Gg(s,s.tooltip.settings.shared),i=cx(s,ux(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(L5({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(M5()))}});var q1={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},OC=Sr({name:"rootProps",initialState:q1,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:q1.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),jB=OC.reducer,{updateOptions:wB}=OC.actions,MC=Sr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:NB}=MC.actions,SB=MC.reducer,LC=Ur("keyDown"),IC=Ur("focus"),dx=Sl();dx.startListening({actionCreator:LC,effect:(e,t)=>{var r=t.getState(),s=r.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(Yg(a,Di(r))),l=es(r);if(i==="Enter"){var c=Ku(r,"axis","hover",String(a.index));t.dispatch(mh({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=IR(r),d=u==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,f=o+m*d;if(!(l==null||f>=l.length||f<0)){var p=Ku(r,"axis","hover",String(f));t.dispatch(mh({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});dx.startListening({actionCreator:IC,effect:(e,t)=>{var r=t.getState(),s=r.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=Ku(r,"axis","hover",String(i));t.dispatch(mh({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var kr=Ur("externalEvent"),DC=Sl();DC.startListening({actionCreator:kr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),s={activeCoordinate:PF(r),activeDataKey:SF(r),activeIndex:ll(r),activeLabel:H5(r),activeTooltipIndex:ll(r),isTooltipActive:kF(r)};e.payload.handler(s,e.payload.reactEvent)}}});var CB=Q([Ii],e=>e.tooltipItemPayloads),PB=Q([CB,_l,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,s)=>{var a=e.find(l=>l.settings.dataKey===s);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),_C=Ur("touchMove"),RC=Sl();RC.startListening({actionCreator:_C,effect:(e,t)=>{var r=e.payload,s=t.getState(),a=Gg(s,s.tooltip.settings.shared);if(a==="axis"){var i=cx(s,ux({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(L5({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(M4),d=(o=c.getAttribute(L4))!==null&&o!==void 0?o:void 0,m=PB(t.getState(),u,d);t.dispatch(O5({activeDataKey:d,activeIndex:u,activeCoordinate:m}))}}});var kB=n4({brush:GU,cartesianAxis:UU,chartData:r$,errorBars:WU,graphicalItems:dU,layout:kL,legend:O7,options:XF,polarAxis:Nz,polarOptions:SB,referenceElements:QU,rootProps:jB,tooltip:VR}),AB=function(t){return JM({reducer:kB,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([EC.middleware,TC.middleware,dx.middleware,DC.middleware,RC.middleware]),enhancers:r=>{var s=r;return typeof r=="function"&&(s=r()),s.concat(h4({type:"raf"}))},devTools:Pl.devToolsEnabled})};function EB(e){var{preloadedState:t,children:r,reduxStoreName:s}=e,a=Ta(),i=h.useRef(null);if(a)return r;i.current==null&&(i.current=AB(t));var o=F0;return h.createElement(yB,{context:o,store:i.current},r)}function TB(e){var{layout:t,margin:r}=e,s=Lt(),a=Ta();return h.useEffect(()=>{a||(s(SL(t)),s(NL(r)))},[s,a,t,r]),null}function OB(e){var t=Lt();return h.useEffect(()=>{t(wB(e))},[t,e]),null}var MB=["children"];function LB(e,t){if(e==null)return{};var r,s,a=IB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IB(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ju.apply(null,arguments)}var DB={width:"100%",height:"100%",display:"block"},_B=h.forwardRef((e,t)=>{var r=P7(),s=k7(),a=B4();if(!gi(r)||!gi(s))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0,h.createElement(i2,Ju({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:s,style:DB,ref:t}),i)}),RB=e=>{var{children:t}=e,r=Se(Vd);if(!r)return null;var{width:s,height:a,y:i,x:o}=r;return h.createElement(i2,{width:s,height:a,x:o,y:i},t)},V1=h.forwardRef((e,t)=>{var{children:r}=e,s=LB(e,MB),a=Ta();return a?h.createElement(RB,null,r):h.createElement(_B,Ju({ref:t},s),r)});function FB(){var e=Lt(),[t,r]=h.useState(null),s=Se(e7);return h.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;lr(i)&&i!==s&&e(PL(i))}},[t,e,s]),r}function H1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function $B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(r),!0).forEach(function(s){zB(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function zB(e,t,r){return(t=UB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UB(e){var t=BB(e,"string");return typeof t=="symbol"?t:t+""}function BB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ca.apply(null,arguments)}var qB=()=>(d$(),null);function Zu(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var VB=h.forwardRef((e,t)=>{var r,s,a=h.useRef(null),[i,o]=h.useState({containerWidth:Zu((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Zu((s=e.style)===null||s===void 0?void 0:s.height)}),l=h.useCallback((u,d)=>{o(m=>{var f=Math.round(u),p=Math.round(d);return m.containerWidth===f&&m.containerHeight===p?m:{containerWidth:f,containerHeight:p}})},[]),c=h.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:m}=u.getBoundingClientRect();l(d,m);var f=g=>{var{width:b,height:x}=g[0].contentRect;l(b,x)},p=new ResizeObserver(f);p.observe(u),a.current=p}},[t,l]);return h.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),h.createElement(h.Fragment,null,h.createElement(Wd,{width:i.containerWidth,height:i.containerHeight}),h.createElement("div",Ca({ref:c},e)))}),HB=h.forwardRef((e,t)=>{var{width:r,height:s}=e,[a,i]=h.useState({containerWidth:Zu(r),containerHeight:Zu(s)}),o=h.useCallback((c,u)=>{i(d=>{var m=Math.round(c),f=Math.round(u);return d.containerWidth===m&&d.containerHeight===f?d:{containerWidth:m,containerHeight:f}})},[]),l=h.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return h.createElement(h.Fragment,null,h.createElement(Wd,{width:a.containerWidth,height:a.containerHeight}),h.createElement("div",Ca({ref:l},e)))}),WB=h.forwardRef((e,t)=>{var{width:r,height:s}=e;return h.createElement(h.Fragment,null,h.createElement(Wd,{width:r,height:s}),h.createElement("div",Ca({ref:t},e)))}),KB=h.forwardRef((e,t)=>{var{width:r,height:s}=e;return Un(r)||Un(s)?h.createElement(HB,Ca({},e,{ref:t})):h.createElement(WB,Ca({},e,{ref:t}))});function GB(e){return e===!0?VB:KB}var YB=h.forwardRef((e,t)=>{var{children:r,className:s,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:m,onMouseUp:f,onTouchEnd:p,onTouchMove:g,onTouchStart:b,style:x,width:v,responsive:y,dispatchTouchEvents:j=!0}=e,w=h.useRef(null),N=Lt(),[S,P]=h.useState(null),[C,E]=h.useState(null),O=FB(),I=W0(),M=(I==null?void 0:I.width)>0?I.width:v,k=(I==null?void 0:I.height)>0?I.height:a,A=h.useCallback(_=>{O(_),typeof t=="function"&&t(_),P(_),E(_),_!=null&&(w.current=_)},[O,t,P,E]),B=h.useCallback(_=>{N(AC(_)),N(kr({handler:i,reactEvent:_}))},[N,i]),F=h.useCallback(_=>{N(gh(_)),N(kr({handler:u,reactEvent:_}))},[N,u]),D=h.useCallback(_=>{N(M5()),N(kr({handler:d,reactEvent:_}))},[N,d]),$=h.useCallback(_=>{N(gh(_)),N(kr({handler:m,reactEvent:_}))},[N,m]),z=h.useCallback(()=>{N(IC())},[N]),K=h.useCallback(_=>{N(LC(_.key))},[N]),U=h.useCallback(_=>{N(kr({handler:o,reactEvent:_}))},[N,o]),q=h.useCallback(_=>{N(kr({handler:l,reactEvent:_}))},[N,l]),te=h.useCallback(_=>{N(kr({handler:c,reactEvent:_}))},[N,c]),W=h.useCallback(_=>{N(kr({handler:f,reactEvent:_}))},[N,f]),ie=h.useCallback(_=>{N(kr({handler:b,reactEvent:_}))},[N,b]),le=h.useCallback(_=>{j&&N(_C(_)),N(kr({handler:g,reactEvent:_}))},[N,j,g]),se=h.useCallback(_=>{N(kr({handler:p,reactEvent:_}))},[N,p]),V=GB(y);return h.createElement(X5.Provider,{value:S},h.createElement(J8.Provider,{value:C},h.createElement(V,{width:M??(x==null?void 0:x.width),height:k??(x==null?void 0:x.height),className:dt("recharts-wrapper",s),style:$B({position:"relative",cursor:"default",width:M,height:k},x),onClick:B,onContextMenu:U,onDoubleClick:q,onFocus:z,onKeyDown:K,onMouseDown:te,onMouseEnter:F,onMouseLeave:D,onMouseMove:$,onMouseUp:W,onTouchEnd:se,onTouchMove:le,onTouchStart:ie,ref:A},h.createElement(qB,null),r)))}),QB=["width","height","responsive","children","className","style","compact","title","desc"];function XB(e,t){if(e==null)return{};var r,s,a=JB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JB(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var ZB=h.forwardRef((e,t)=>{var{width:r,height:s,responsive:a,children:i,className:o,style:l,compact:c,title:u,desc:d}=e,m=XB(e,QB),f=fi(m);return c?h.createElement(h.Fragment,null,h.createElement(Wd,{width:r,height:s}),h.createElement(V1,{otherAttributes:f,title:u,desc:d},i)):h.createElement(YB,{className:o,style:l,width:r,height:s,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},h.createElement(V1,{otherAttributes:f,title:u,desc:d,ref:t},h.createElement(JU,null,i)))});function eq(e){var t=Lt();return h.useEffect(()=>{t(NB(e))},[t,e]),null}var tq=["layout"];function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},xh.apply(null,arguments)}function rq(e,t){if(e==null)return{};var r,s,a=nq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nq(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var sq={top:5,right:5,bottom:5,left:5},aq={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:sq,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},iq=h.forwardRef(function(t,r){var s,a=Jn(t.categoricalChartProps,aq),{layout:i}=a,o=rq(a,tq),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,m={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return h.createElement(EB,{preloadedState:{options:m},reduxStoreName:(s=a.id)!==null&&s!==void 0?s:l},h.createElement(KU,{chartData:a.data}),h.createElement(TB,{layout:i,margin:a.margin}),h.createElement(OB,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),h.createElement(eq,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),h.createElement(ZB,xh({},o,{ref:r})))}),oq=["item"],lq={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},cq=h.forwardRef((e,t)=>{var r=Jn(e,lq);return h.createElement(iq,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:oq,tooltipPayloadSearcher:YF,categoricalChartProps:r,ref:t})});const W1="/assets/livraison-BMcmBhYH.jpg",uq=()=>{var K;const{stats:e,availableDeliveries:t,myDeliveries:r,deliveryHistory:s,loading:a,error:i,availablePagination:o,myDeliveriesPagination:l,acceptDelivery:c,completeDelivery:u,filterMyDeliveriesByStatus:d,changeAvailablePage:m,changeMyDeliveriesPage:f,profile:p,updateProfile:g,changePassword:b,getProfile:x,refreshProfile:v}=Pd(),[y,j]=h.useState("available"),[w,N]=h.useState({}),[S,P]=h.useState(""),[C,E]=h.useState({}),[O,I]=h.useState(null);h.useEffect(()=>{x()},[x]),e.completedDeliveries,e.pendingDeliveries;const M=async U=>{try{await c(U)}catch(q){console.error("Erreur lors de l'acceptation:",q)}},k=U=>{re.info("Livraison dcline")},A=async U=>{try{const q=C[U]||"";await u(U,q),E(te=>({...te,[U]:""})),I(null)}catch(q){console.error("Erreur lors de la confirmation:",q)}},B=U=>{N(q=>({...q,[U]:!q[U]}))},F=U=>typeof U=="string"?U:U&&U.address?U.address:U&&U.fullAddress?U.fullAddress:"Adresse non disponible",D=U=>typeof U=="string"?U:U&&U.name?U.name:U&&U.firstName&&U.lastName?`${U.firstName} ${U.lastName}`:U&&U.firstName?U.firstName:"Client",$=U=>typeof U=="string"?"":U&&U.phone?U.phone:"+221 77 123 45 67",z=U=>{P(U),d(U)};return a?n.jsx(Cs,{profile:p,onUpdateProfile:g,onChangePassword:b,onRefreshProfile:v,children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#59C94F]"})})}):i?n.jsx(Cs,{profile:p,onUpdateProfile:g,onChangePassword:b,onRefreshProfile:v,children:n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-red-600",children:i})})}):n.jsx(Cs,{profile:p,onUpdateProfile:g,onChangePassword:b,onRefreshProfile:v,children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Tableau de bord Livreur"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Grez vos livraisons et suivez vos performances"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total livraisons"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.totalDeliveries||0})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:n.jsx(rn,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Livraisons termines"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.completedDeliveries||0})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:n.jsx(Tp,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"En attente"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.pendingDeliveries||0})]}),n.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:n.jsx($r,{className:"w-6 h-6 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Gains totaux"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[((K=e.totalEarnings)==null?void 0:K.toLocaleString())||0," FCFA"]})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:n.jsx(Ts,{className:"w-6 h-6 text-purple-600"})})]})})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm mb-6",children:n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"flex space-x-8 px-6",children:[n.jsxs("button",{onClick:()=>j("available"),className:`py-4 px-1 border-b-2 font-medium text-sm ${y==="available"?"border-[#59C94F] text-[#59C94F]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Livraisons disponibles (",t.length,")"]}),n.jsxs("button",{onClick:()=>j("myDeliveries"),className:`py-4 px-1 border-b-2 font-medium text-sm ${y==="myDeliveries"?"border-[#59C94F] text-[#59C94F]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Mes livraisons (",r.length,")"]})]})})}),n.jsxs("div",{className:"w-full",children:[y==="available"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 w-full",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Livraisons disponibles"}),t.length>0?n.jsx("div",{className:"space-y-4 w-full",children:t.map(U=>{const q=w[U.id];return n.jsx("div",{className:"w-full border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex gap-4 mb-4",children:[n.jsx("img",{src:U.productImage||W1,alt:U.productName||"Produit",className:"w-24 h-24 object-cover rounded-lg",onError:te=>{te.currentTarget.src=W1}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:U.productName||"Produit"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Quantit: ",n.jsx("span",{className:"font-medium",children:U.quantity||"Non spcifi"})]}),n.jsx("p",{className:"text-lg font-bold text-[#59C94F]",children:U.amount?`${U.amount} FCFA`:"Montant non disponible"})]})]}),n.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Client: ",n.jsx("span",{className:"font-medium text-gray-800",children:D(U.customer)})]}),n.jsx("p",{className:"text-xs text-gray-500",children:U.orderDate?new Date(U.orderDate).toLocaleDateString("fr-FR"):"Date non disponible"})]}),n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" Adresse de rcupration"}),n.jsx("p",{className:"text-sm text-gray-800",children:F(U.pickupAddress)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" Adresse de livraison"}),n.jsx("p",{className:"text-sm text-gray-800",children:F(U.deliveryAddress)})]})]}),n.jsxs("button",{onClick:()=>B(U.id),className:"flex items-center gap-2 text-sm text-[#59C94F] hover:text-[#4CAF50] transition-colors mb-4",children:[n.jsx(JN,{className:`w-4 h-4 transition-transform ${q?"rotate-180":""}`}),n.jsx("span",{children:"Plus de dtails"})]}),q&&n.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg text-sm space-y-2",children:[n.jsxs("p",{className:"text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Instructions:"})," ",U.instructions||"Aucune instruction particulire"]}),n.jsxs("p",{className:"text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Contact client:"})," ",$(U.customer)]}),n.jsxs("p",{className:"text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Notes:"})," ",U.notes||"Aucune note"]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>k(U.id),className:"flex-1 px-4 py-2.5 rounded-lg font-medium transition-all bg-white border-2 border-red-500 text-red-500 hover:bg-red-50",children:"Dcliner"}),n.jsx("button",{onClick:()=>M(U.id),className:"flex-1 px-4 py-2.5 rounded-lg font-medium transition-all bg-[#59C94F] text-white hover:bg-[#4CAF50]",children:"Accepter"})]})]})},U.id)})}):n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(qe,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"Aucune livraison disponible pour le moment"})]}),o.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[n.jsx("button",{onClick:()=>m(o.page-1),disabled:o.page===1,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Prcdent"}),n.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",o.page," sur ",o.totalPages]}),n.jsx("button",{onClick:()=>m(o.page+1),disabled:o.page===o.totalPages,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Suivant"})]})]}),y==="myDeliveries"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Mes livraisons"}),n.jsxs("select",{value:S,onChange:U=>z(U.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#59C94F]",children:[n.jsx("option",{value:"",children:"Tous les statuts"}),n.jsx("option",{value:"assigned",children:"En prparation"}),n.jsx("option",{value:"in-transit",children:"En route"}),n.jsx("option",{value:"delivered",children:"Livre"})]})]}),r.length>0?n.jsx("div",{className:"space-y-4",children:r.map(U=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:U.productName||"Produit"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Client: ",D(U.customer)]})]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${U.status==="assigned"?"bg-yellow-100 text-yellow-800":U.status==="in-transit"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:U.status==="assigned"?"En prparation":U.status==="in-transit"?"En route":"Livre"})]}),n.jsx("div",{className:"space-y-2 text-sm"})]},U.id))}):n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(xa,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"Aucune livraison assigne"})]}),l.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[n.jsx("button",{onClick:()=>f(l.page-1),disabled:l.page===1,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Prcdent"}),n.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",l.page," sur ",l.totalPages]}),n.jsx("button",{onClick:()=>f(l.page+1),disabled:l.page===l.totalPages,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Suivant"})]})]}),y==="history"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Historique des livraisons"}),s.length>0?n.jsx("div",{className:"space-y-4",children:s.map(U=>n.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:U.productName||"Produit"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[D(U.customer),"  ",U.completedDate?new Date(U.completedDate).toLocaleDateString("fr-FR"):"Date non disponible"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-medium text-green-600",children:U.amount?`${U.amount} FCFA`:""}),n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"Termine"})]})]})},U.id))}):n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(xa,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"Aucune livraison dans l'historique"})]})]})]}),O&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Confirmer la livraison"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Ajouter des notes sur la livraison (optionnel)"}),n.jsx("textarea",{value:C[O]||"",onChange:U=>E(q=>({...q,[O]:U.target.value})),placeholder:"Ex: Client absent, livraison reporte...",rows:"4",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#59C94F] resize-y"}),n.jsxs("div",{className:"flex gap-4 mt-6",children:[n.jsx("button",{onClick:()=>I(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),n.jsx("button",{onClick:()=>A(O),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Confirmer"})]})]})})]})})},dq=()=>{const{myDeliveries:e,loading:t,error:r,myDeliveriesPagination:s,updateDeliveryStatus:a,completeDelivery:i,filterMyDeliveriesByStatus:o,changeMyDeliveriesPage:l,refreshData:c}=Pd(),[u,d]=h.useState("active"),[m,f]=h.useState(""),[p,g]=h.useState({}),[b,x]=h.useState(null),[v,y]=h.useState(""),j=e.filter(k=>{var B,F,D;return((B=k.productName)==null?void 0:B.toLowerCase().includes(v.toLowerCase()))||((D=(F=k.customer)==null?void 0:F.name)==null?void 0:D.toLowerCase().includes(v.toLowerCase()))}),w=k=>{const A=((k==null?void 0:k.status)||(k==null?void 0:k.orderStatus)||"").toString().toLowerCase();return A==="cancelled"||A.includes("annul")},N=j.filter(k=>k.status!=="delivered"&&!w(k)),S=j.filter(k=>k.status==="delivered"||w(k)),P=async(k,A)=>{try{A==="delivered"?x(k):await a(k,A)}catch(B){console.error("Erreur lors du changement de statut:",B)}},C=async k=>{try{const A=p[k]||"";await i(k,A),g(B=>({...B,[k]:""})),x(null),d("history")}catch(A){console.error("Erreur lors de la confirmation:",A)}},E=k=>typeof k=="string"?k:k&&k.address?k.address:k&&k.fullAddress?k.fullAddress:"Adresse non disponible",O=k=>typeof k=="string"?k:k&&k.name?k.name:k&&k.firstName&&k.lastName?`${k.firstName} ${k.lastName}`:k&&k.firstName?k.firstName:"Client",I=k=>{f(k),o(k)},M=()=>{c(),re.success("Donnes actualises")};return t?n.jsx(Cs,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#59C94F]"})})}):r?n.jsx(Cs,{children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-red-600",children:r}),n.jsx("button",{onClick:M,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Ressayer"})]})}):n.jsxs(Cs,{children:[n.jsxs("div",{className:"w-full px-4 mx-auto",children:[n.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Mes Livraisons"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Grez toutes vos livraisons"})]}),n.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-[#59C94F] text-white rounded-lg hover:bg-[#4CAF50] transition-colors",children:[n.jsx(_r,{className:"w-4 h-4"}),"Actualiser"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Rechercher un produit ou un client...",value:v,onChange:k=>y(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#59C94F]"})]})}),n.jsxs("select",{value:m,onChange:k=>I(k.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#59C94F]",children:[n.jsx("option",{value:"",children:"Tous les statuts"}),n.jsx("option",{value:"assigned",children:"En prparation"}),n.jsx("option",{value:"in-transit",children:"En route"}),n.jsx("option",{value:"delivered",children:"Livre"}),n.jsx("option",{value:"cancelled",children:"Annule"})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm mb-6",children:n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"flex space-x-8 px-6",children:[n.jsxs("button",{onClick:()=>d("active"),className:`py-4 px-1 border-b-2 font-medium text-sm ${u==="active"?"border-[#59C94F] text-[#59C94F]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Livraisons actives (",N.length,")"]}),n.jsxs("button",{onClick:()=>d("history"),className:`py-4 px-1 border-b-2 font-medium text-sm ${u==="history"?"border-[#59C94F] text-[#59C94F]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Historique (",S.length,")"]})]})})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[u==="active"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Livraisons actives"}),N.length>0?n.jsx("div",{className:"space-y-4",children:N.map(k=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:k.productName||"Produit"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Client: ",O(k.customer)]})]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${w(k)?"bg-red-100 text-red-800":k.status==="assigned"?"bg-yellow-100 text-yellow-800":k.status==="in-transit"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:w(k)?"Annul":k.status==="assigned"?"En prparation":k.status==="in-transit"?"En route":"Livre"})]}),n.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Quantit:"})," ",k.quantity||"Non spcifi"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Montant:"})," ",k.amount?`${k.amount} FCFA`:"Non disponible"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Adresse livraison:"})," ",E(k.deliveryAddress)]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(k.orderDate).toLocaleDateString("fr-FR")]})]}),w(k)?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-700",children:[n.jsx(or,{className:"w-4 h-4"}),n.jsx("span",{children:"Commande annule  actions dsactives"})]}):n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[k.status==="assigned"&&n.jsx("button",{onClick:()=>P(k.id,"in-transit"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"En route"}),k.status==="in-transit"&&n.jsx("button",{onClick:()=>P(k.id,"delivered"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Marquer comme livr"})]})]},k.id))}):n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(rn,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"Aucune livraison active"})]})]}),u==="history"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Historique des livraisons"}),S.length>0?n.jsx("div",{className:"space-y-4",children:S.map(k=>n.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:k.productName||"Produit"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O(k.customer),"  ",new Date(k.orderDate).toLocaleDateString("fr-FR")]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:`font-medium ${w(k)?"text-red-600":"text-green-600"}`,children:k.amount?`${k.amount} FCFA`:""}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${w(k)?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:w(k)?"Annule":"Termine"})]})]})},k.id))}):n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(xa,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"Aucune livraison dans l'historique"})]})]}),s.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[n.jsx("button",{onClick:()=>l(s.page-1),disabled:s.page===1,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Prcdent"}),n.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",s.page," sur ",s.totalPages]}),n.jsx("button",{onClick:()=>l(s.page+1),disabled:s.page===s.totalPages,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Suivant"})]})]})]})]}),b&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Confirmer la livraison"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Ajouter des notes sur la livraison (optionnel)"}),n.jsx("textarea",{value:p[b]||"",onChange:k=>g(A=>({...A,[b]:k.target.value})),placeholder:"Ex: Client absent, livraison reporte...",rows:"4",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#59C94F] resize-y"}),n.jsxs("div",{className:"flex gap-4 mt-6",children:[n.jsx("button",{onClick:()=>x(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),n.jsx("button",{onClick:()=>C(b),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Confirmer"})]})]})})]})},mq=()=>{const[e,t]=h.useState(""),[r,s]=h.useState(""),[a,i]=h.useState(""),[o,l]=h.useState(""),{deliveryHistory:c,myDeliveries:u,loading:d,error:m,historyPagination:f,filterHistoryByDateRange:p,changeHistoryPage:g}=Pd(),[b,x]=h.useState([]),[v,y]=h.useState(!1);h.useEffect(()=>{let A=!0;return(async(F=1)=>{try{y(!0);const $=await ne.getDeliveryHistory(F,10,{})||{},z=$.data||$,U=(z.history||z.histories||z.deliveries||z.items||[]).map((q,te)=>{var V;const W=q.order||{},ie=W.consumer||q.consumer||{},le=(q.status||W.status||"delivered").toString().toLowerCase(),se=le==="failed"?"cancelled":le;return{id:q.id||q._id||W._id||te,orderNumber:W.orderNumber||W.number||q.orderNumber||"",customer:{name:ie.firstName?`${ie.firstName} ${ie.lastName||""}`:ie.name||"Client"},deliveryAddress:((V=W.deliveryInfo)==null?void 0:V.address)||q.deliveryAddress||{},status:se,completedDate:q.updatedAt||q.completedAt||q.deliveredAt||q.createdAt}});A&&x(U)}catch{A&&x([])}finally{A&&y(!1)}})(1),()=>{A=!1}},[]),h.useEffect(()=>{p("","","")},[p]);const j=A=>{const B={Livre:"bg-[#E8F5E9] text-[#2E7D32]",Annule:"bg-[#FFEBEE] text-[#C62828]","En prparation":"bg-yellow-100 text-yellow-800","En route":"bg-purple-100 text-purple-800"};return n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${B[A]}`,children:A})},w=A=>(A||"").toString().toLowerCase(),N=A=>typeof A=="string"?A:A&&A.name?A.name:A&&A.firstName&&A.lastName?`${A.firstName} ${A.lastName}`:A&&A.firstName?A.firstName:"",S=A=>typeof A=="string"?A:A&&A.address?A.address:A&&A.fullAddress?A.fullAddress:"",P=A=>{const B=(A||"").toString().toLowerCase();return B==="assigned"?"En prparation":B==="in-transit"?"En route":B==="delivered"||B==="completed"?"Livre":B==="cancelled"||B==="failed"?"Annule":"Livre"},C=b&&b.length>0?b:c||[],E=(u||[]).map((A,B)=>{const D=(A.status||"").toString().toLowerCase()==="failed"?"cancelled":A.status;return{id:A.id||B,orderNumber:A.orderNumber||A.number||"",customer:A.customer,deliveryAddress:A.deliveryAddress,status:D,completedDate:A.updatedAt||A.orderDate||new Date().toISOString()}}),M=[...C,...E].filter((A,B,F)=>F.findIndex(D=>(D.id||D.orderNumber)===(A.id||A.orderNumber))===B).filter(A=>{const B=w(e);if(!B)return!0;const F=w(N(A.customer)),D=w(S(A.deliveryAddress)),$=w(A.productName);return F.includes(B)||D.includes(B)||$.includes(B)}),k=()=>{p(r||"",a||"",o||"")};return n.jsx(Cs,{children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Historique des livraisons"}),n.jsxs("div",{className:"flex items-center gap-3 mb-6 flex-wrap",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(Vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Rechercher...",value:e,onChange:A=>t(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#59C94F] focus:border-transparent"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"mm/dd/yyyy",value:r,onChange:A=>s(A.target.value),className:"w-40 pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#59C94F] focus:border-transparent"}),n.jsx(xa,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),n.jsx("span",{className:"text-gray-500",children:"-"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"mm/dd/yyyy",value:a,onChange:A=>i(A.target.value),className:"w-40 pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#59C94F] focus:border-transparent"}),n.jsx(xa,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:o,onChange:A=>l(A.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-10 text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#59C94F]",children:[n.jsx("option",{value:"",children:"Tous les statuts"}),n.jsx("option",{value:"delivered",children:"Livre"}),n.jsx("option",{value:"completed",children:"Termine"}),n.jsx("option",{value:"cancelled",children:"Annule"})]}),n.jsx(JN,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),n.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-5 py-2 bg-[#59C94F] text-white rounded-lg hover:bg-[#4CAF50] transition-colors",children:[n.jsx(va,{className:"w-4 h-4"}),n.jsx("span",{children:"Filtrer"})]})]}),(d||v)&&n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-[#59C94F]"})}),m&&!(d||v)&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700 mb-6",children:m}),!(d||v)&&M.length===0&&n.jsx("div",{className:"bg-white rounded-lg p-10 shadow-sm w-full text-center text-gray-600",children:"Aucun historique  afficher."}),n.jsx("div",{className:"space-y-4",children:!(d||v)&&M.map(A=>{const B=N(A.customer)||"Client",F=S(A.deliveryAddress)||"",D=A.orderNumber||A.number||"",$=(A.status||"").toString().toLowerCase(),z=$==="cancelled",K=P($),U=A.completedDate||A.deliveredAt||A.cancelledAt||A.updatedAt||A.createdAt,q=U?new Date(U).toLocaleString("fr-FR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}):"",te=K;return n.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm w-full",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-[#333333] mb-1",children:D?`Commande ${D}`:B}),n.jsxs("p",{className:"text-sm text-[#888888]",children:[z?"Annule le":K==="Livre"?"Livre le":"Mise  jour le"," ",q||""]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:F})]}),n.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden",children:n.jsx("img",{src:"/src/assets/livreur.jpg",alt:"Livraison",className:"w-full h-full object-cover"})})]}),n.jsx("div",{children:j(te)})]},A.id)})}),f.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[n.jsx("button",{onClick:()=>g(f.page-1),disabled:f.page===1,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Prcdent"}),n.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",f.page," sur ",f.totalPages]}),n.jsx("button",{onClick:()=>g(f.page+1),disabled:f.page===f.totalPages,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Suivant"})]})]})})},fq=()=>{const{stats:e}=Pd(),t=[{name:"Livres",value:e.completedDeliveries||0},{name:"En cours",value:(e.inTransitDeliveries??e.pendingDeliveries)||0},{name:"En prparation",value:e.inPreparationDeliveries||0},{name:"Annules",value:e.cancelledDeliveries||0}],r=["#10B981","#3B82F6","#8B5CF6","#F59E0B","#EF4444"];return n.jsx(Cs,{children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Statistiques"}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Rpartition des livraisons"}),n.jsx(N7,{width:"100%",height:300,children:n.jsxs(cq,{children:[n.jsx(NC,{data:t,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:s,percent:a})=>`${s} ${(a*100).toFixed(0)}%`,children:t.map((s,a)=>n.jsx(um,{fill:r[a%r.length]},`cell-${a}`))}),n.jsx(y$,{})]})})]})]})})},pq=()=>{const e=mt(),[t,r]=h.useState([]),[s,a]=h.useState(!0),[i,o]=h.useState(!1),[l,c]=h.useState([]),[u,d]=h.useState(!1),[m,f]=h.useState(!1),p=ve.useMemo(()=>{try{const S=localStorage.getItem("superAdminUser")||localStorage.getItem("user");return S?JSON.parse(S):null}catch{return null}},[]),g=async()=>{var S,P,C,E,O,I,M,k;try{a(!0);const A=await ne.getDashboardStats();if(A.status==="success"&&A.data){const B=A.data;r([{name:"Utilisateurs",value:((P=(S=B.users)==null?void 0:S.total)==null?void 0:P.toLocaleString())||"1,234",change:"+12%",icon:ir,color:"bg-blue-500",trend:"up"},{name:"Produits",value:((E=(C=B.products)==null?void 0:C.total)==null?void 0:E.toLocaleString())||"567",change:"+8%",icon:qe,color:"bg-green-500",trend:"up"},{name:"Ventes",value:((I=(O=B.orders)==null?void 0:O.total)==null?void 0:I.toLocaleString())||"890",change:"+23%",icon:gr,color:"bg-purple-500",trend:"up"},{name:"Formations",value:"45",change:"+5%",icon:wn,color:"bg-orange-500",trend:"up"},{name:"Commandes",value:((k=(M=B.orders)==null?void 0:M.total)==null?void 0:k.toLocaleString())||"234",change:"+18%",icon:Ho,color:"bg-red-500",trend:"up",badge:"EXCLUSIF"},{name:"Revenus",value:"45,678",change:"+15%",icon:Wo,color:"bg-emerald-500",trend:"up"}])}}catch(A){console.error("Erreur:",A),re.error("Erreur lors du chargement")}finally{a(!1)}},b=()=>{c([{id:1,admin:"Jean Dupont (Super Admin)",action:"Cration admin standard",target:"Marie Martin",time:"Il y a 1 heure",type:"admin"},{id:2,admin:"Pierre Durand (Admin Standard)",action:"Modification produit",target:"Kit agricole",time:"Il y a 2 heures",type:"product"}])};h.useEffect(()=>{g(),b()},[]);const x=async()=>{o(!0),await g(),b(),o(!1),re.success("Actualis")},v=[{title:"Dashboard Admin",description:"Tableau de bord administrateur standard",icon:So,action:"Accder",path:"/super-admin/admin-dashboard",color:"bg-blue-50 border-blue-200"},{title:"Gestion des Utilisateurs",description:"Grer tous les utilisateurs (CRUD)",icon:ir,action:"Grer",path:"/super-admin/admin-users",color:"bg-green-50 border-green-200"},{title:"Gestion des Produits",description:"Grer tous les produits",icon:qe,action:"Grer",path:"/super-admin/admin-products",color:"bg-purple-50 border-purple-200"},{title:"Gestion des Ventes",description:"Supervision des ventes et commandes",icon:gr,action:"Superviser",path:"/super-admin/admin-sales",color:"bg-orange-50 border-orange-200"},{title:"Gestion des Formations",description:"Grer toutes les formations",icon:wn,action:"Grer",path:"/super-admin/admin-formations",color:"bg-indigo-50 border-indigo-200"},{title:"Connexion Admin",description:"Accder  la page de connexion admin",icon:e2,action:"Accder",path:"/super-admin/admin-login",color:"bg-gray-50 border-gray-200"}],y=[{title:"Gestion des Commandes",description:"Supervision complte",icon:Ho,action:"Accder",path:"/super-admin/orders",color:"bg-red-50 border-red-200"},{title:"Configuration Produits",description:"Paramtres globaux",icon:Lr,action:"Configurer",path:"/super-admin/products",color:"bg-blue-50 border-blue-200"},{title:"Analytics Avances",description:"Rapports dtaills",icon:So,action:"Voir",path:"#",color:"bg-purple-50 border-purple-200"},{title:"Supervision",description:"Monitoring systme",icon:Go,action:"Accder",path:"#",color:"bg-green-50 border-green-200"}];if(s)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})});const j=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("superAdminUser"),e("/login")},w=()=>{f(!0)},N=()=>{console.log("Profil mis  jour")};return p?n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[n.jsx(sn,{user:p,onClose:()=>d(!1)}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(an,{user:p,onOpenProfile:w,onLogout:j,onToggleSidebar:()=>d(!u)}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Super Administration"}),n.jsx("p",{className:"text-gray-600",children:"Contrle total de la plateforme"})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:x,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:[n.jsx(_r,{className:`w-4 h-4 ${i?"animate-spin":""}`}),"Actualiser"]})})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(N0,{className:"w-5 h-5 text-yellow-600 mr-3"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Accs Super Admin"}),n.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Accs  toutes les fonctionnalits."})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(S=>{const P=S.icon;return n.jsx("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:S.name}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:S.value}),S.badge&&n.jsx("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full font-medium",children:S.badge})]}),n.jsx("p",{className:"text-sm text-green-600 font-medium mt-1",children:S.change})]}),n.jsx("div",{className:`${S.color} rounded-lg p-3`,children:n.jsx(P,{className:"w-6 h-6 text-white"})})]})},S.name)})}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Accs Pages Admin Standard"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(S=>{const P=S.icon;return n.jsx("div",{onClick:()=>e(S.path),className:`border rounded-lg p-4 ${S.color} hover:shadow-md transition-shadow cursor-pointer`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"bg-white rounded-lg p-2 shadow-sm",children:n.jsx(P,{className:"w-5 h-5 text-gray-700"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:S.title}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.description}),n.jsxs("div",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium mt-2",children:[S.action," "]})]})]})},S.title)})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Fonctionnalits Super Admin"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(S=>{const P=S.icon;return n.jsx("div",{onClick:()=>e(S.path),className:`border rounded-lg p-4 ${S.color} hover:shadow-md transition-shadow cursor-pointer`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"bg-white rounded-lg p-2 shadow-sm",children:n.jsx(P,{className:"w-5 h-5 text-gray-700"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:S.title}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.description}),n.jsxs("div",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium mt-2",children:[S.action," "]})]})]})},S.title)})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Analytics"}),n.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx(So,{className:"w-12 h-12 mx-auto mb-2"}),n.jsx("p",{children:"Graphiques dtaills"})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activit Admin"}),n.jsx("div",{className:"space-y-4",children:l.map(S=>n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"bg-white rounded-full p-2 shadow-sm",children:n.jsx(XN,{className:"w-4 h-4 text-gray-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm text-gray-900",children:[n.jsx("span",{className:"font-medium",children:S.admin})," - ",S.action]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Cible: ",S.target]}),n.jsx("p",{className:"text-xs text-gray-500",children:S.time})]})]},S.id))})]})]})]})})]}),n.jsx(Rs,{isOpen:m,onClose:()=>f(!1),user:p,onUpdated:N})]}):n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Vrification de l'authentification..."})]})})},hq=()=>{const e=mt(),[t,r]=h.useState(!1),[s,a]=h.useState(!1),[i,o]=h.useState(!0),[l,c]=h.useState(null);h.useEffect(()=>{try{const P=localStorage.getItem("superAdminUser")||localStorage.getItem("user"),C=P?JSON.parse(P):null;c(C),o(!1),C||e("/login")}catch(P){console.error("Erreur lors de la rcupration de l'utilisateur:",P),c(null),o(!1),e("/login")}},[e]);const u=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("superAdminUser"),e("/login")},d=()=>{a(P=>!P)},m=()=>{console.log("Profil mis  jour, mise  jour de l'tat local si besoin.")},[f,p]=h.useState([{id:"ORD-001",customer:"Jean Dupont",email:"jean.dupont@email.com",product:"Kit de dmarrage agricole",quantity:1,total:"89.99",status:"pending",paymentStatus:"paid",createdAt:"2024-10-20",deliveryDate:"2024-10-25",supplier:"AgroSupplies",priority:"high"},{id:"ORD-002",customer:"Marie Martin",email:"marie.martin@email.com",product:"Engrais bio 5kg",quantity:3,total:"45.00",status:"processing",paymentStatus:"paid",createdAt:"2024-10-21",deliveryDate:"2024-10-26",supplier:"BioFertil",priority:"normal"},{id:"ORD-003",customer:"Pierre Durand",email:"pierre.durand@email.com",product:"Semences tomates hybrides",quantity:2,total:"67.98",status:"shipped",paymentStatus:"paid",createdAt:"2024-10-19",deliveryDate:"2024-10-24",supplier:"SeedCorp",priority:"low"},{id:"ORD-004",customer:"Sophie Lefevre",email:"sophie.lefevre@email.com",product:"Arroseur automatique",quantity:1,total:"129.50",status:"delivered",paymentStatus:"paid",createdAt:"2024-10-15",deliveryDate:"2024-10-20",supplier:"AquaTech",priority:"normal"},{id:"ORD-005",customer:"Marc Voisin",email:"marc.voisin@email.com",product:"Pots de fleurs biodgradables",quantity:10,total:"22.00",status:"cancelled",paymentStatus:"refunded",createdAt:"2024-10-22",deliveryDate:null,supplier:"EcoPot",priority:"low"}]),[g,b]=h.useState(""),[x,v]=h.useState("all"),y=h.useMemo(()=>f.filter(P=>{const C=g.toLowerCase(),E=P.id.toLowerCase().includes(C)||P.customer.toLowerCase().includes(C)||P.product.toLowerCase().includes(C),O=x==="all"||P.status===x;return E&&O}),[f,g,x]),j=h.useMemo(()=>f.reduce((P,C)=>(P[C.status]=(P[C.status]||0)+1,P),{pending:0,processing:0,shipped:0,delivered:0,cancelled:0}),[f]),w=P=>{switch(P){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},N=P=>{switch(P){case"high":return"bg-red-100 text-red-800";case"normal":return"bg-blue-100 text-blue-800";case"low":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},S=P=>{const C="w-4 h-4";switch(P){case"pending":return n.jsx($r,{className:C});case"processing":return n.jsx(qe,{className:C});case"shipped":return n.jsx(rn,{className:C});case"delivered":return n.jsx(ar,{className:C});case"cancelled":return n.jsx(zn,{className:C});default:return n.jsx(Es,{className:C})}};return i?n.jsx("div",{className:"flex items-center justify-center h-screen bg-[#F8FAF8]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Chargement de l'interface..."})]})}):l?n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[n.jsx(sn,{user:l,onClose:()=>r(!1),sidebarOpen:t}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(an,{user:l,onOpenProfile:d,onLogout:u,onToggleSidebar:()=>r(!t)}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Commandes "}),n.jsx("p",{className:"text-gray-600",children:"Supervision complte des commandes - Accs Super Admin"})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-yellow-500 rounded-lg p-3",children:n.jsx($r,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En attente"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:j.pending})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-blue-500 rounded-lg p-3",children:n.jsx(qe,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En traitement"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:j.processing})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-purple-500 rounded-lg p-3",children:n.jsx(rn,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expdies"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:j.shipped})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-green-500 rounded-lg p-3",children:n.jsx(ar,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Livres"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:j.delivered})]})]})})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative md:col-span-2",children:[n.jsx(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Rechercher ID, client ou produit...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",value:g,onChange:P=>b(P.target.value)})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",value:x,onChange:P=>v(P.target.value),children:[n.jsx("option",{value:"all",children:"Tous les statuts"}),n.jsx("option",{value:"pending",children:"En attente"}),n.jsx("option",{value:"processing",children:"En traitement"}),n.jsx("option",{value:"shipped",children:"Expdie"}),n.jsx("option",{value:"delivered",children:"Livre"}),n.jsx("option",{value:"cancelled",children:"Annule"})]}),n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(va,{className:"w-5 h-5 mr-2"}),n.jsx("span",{className:"font-semibold",children:y.length})," commande(s) trouve(s)"]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commande"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dtails"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Livraison Prvue"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.length>0?y.map(P=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:P.id}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Cre: ",new Date(P.createdAt).toLocaleDateString("fr-FR")]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:n.jsx(Et,{className:"w-4 h-4 text-green-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.customer}),n.jsx("div",{className:"text-xs text-gray-500",children:P.email})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.product}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Qt: ",P.quantity]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Fournisseur: ",P.supplier]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${w(P.status)}`,children:[S(P.status),n.jsx("span",{className:"ml-1 capitalize",children:P.status})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full capitalize ${N(P.priority)}`,children:P.priority})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:P.total}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.deliveryDate?new Date(P.deliveryDate).toLocaleDateString("fr-FR"):"Non planifie"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded-full hover:bg-blue-100 transition-colors","aria-label":`Voir les dtails de la commande ${P.id}`,children:n.jsx(hr,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-100 transition-colors","aria-label":`Valider la commande ${P.id}`,children:n.jsx(ar,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-100 transition-colors","aria-label":`Annuler la commande ${P.id}`,children:n.jsx(zn,{className:"w-4 h-4"})})]})})]},P.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:"Aucune commande trouve correspondant aux critres."})})})]})})}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[n.jsx(jT,{className:"w-5 h-5 text-gray-500 mr-2"}),"Actions rapides Super Admin"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("button",{className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-blue-50 transition-colors group",children:[n.jsx(qe,{className:"w-6 h-6 text-blue-600 group-hover:text-blue-700 mr-2"}),n.jsx("span",{className:"font-medium text-gray-700",children:"Traitement en lot"})]}),n.jsxs("button",{className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-purple-50 transition-colors group",children:[n.jsx(rn,{className:"w-6 h-6 text-purple-600 group-hover:text-purple-700 mr-2"}),n.jsx("span",{className:"font-medium text-gray-700",children:"Expdition groupe"})]}),n.jsxs("button",{className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-green-50 transition-colors group",children:[n.jsx(Ho,{className:"w-6 h-6 text-green-600 group-hover:text-green-700 mr-2"}),n.jsx("span",{className:"font-medium text-gray-700",children:"Gnrer rapport PDF"})]})]})]})]})})]}),l&&n.jsx(Rs,{isOpen:s,onClose:d,user:l,onUpdated:m})]}):null},gq=[{id:1,name:"Kit de dmarrage agricole",category:"Kits",price:89.99,stock:45,status:"active",supplier:"AgroSupplies",configuration:"Global",visibility:"Public",lastModified:"2024-10-20",adminRights:"admin_standard"},{id:2,name:"Engrais bio 5kg",category:"Fertilizers",price:15,stock:120,status:"active",supplier:"BioFertil",configuration:"Avanc",visibility:"Public",lastModified:"2024-10-21",adminRights:"super_admin"},{id:3,name:"Semences tomates hybrides",category:"Seeds",price:33.99,stock:15,status:"inactive",supplier:"SeedCorp",configuration:"Global",visibility:"Archiv",lastModified:"2024-10-19",adminRights:"admin_standard"}],xq=()=>{const e=mt(),[t,r]=h.useState(!1),[s,a]=h.useState(!1),[i,o]=h.useState(!1),[l,c]=h.useState(""),[u,d]=h.useState("all"),[m,f]=h.useState("all"),[p]=h.useState(gq),[g,b]=h.useState(null),[x,v]=h.useState(!0);h.useEffect(()=>{try{const C=localStorage.getItem("superAdminUser")||localStorage.getItem("user"),E=C?JSON.parse(C):null;b(E),v(!1),E||e("/login")}catch(C){console.error("Erreur lors de la rcupration de l'utilisateur:",C),b(null),v(!1),e("/login")}},[e]);const y=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("superAdminUser"),e("/login")},j=()=>{a(C=>!C)},w=()=>{console.log("Profil mis  jour")},N=C=>{switch(C){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=h.useMemo(()=>p.filter(C=>{const E=l.toLowerCase(),O=C.name.toLowerCase().includes(E)||C.supplier.toLowerCase().includes(E)||C.id.toString().includes(E),I=u==="all"||C.category===u,M=m==="all"||C.adminRights===m;return O&&I&&M}),[p,l,u,m]),P=h.useMemo(()=>{const C=p.reduce((I,M)=>I+M.stock,0),E=p.reduce((I,M)=>I+M.price*M.stock,0),O=p.filter(I=>I.adminRights==="super_admin").length;return{totalStock:C,totalValue:E.toFixed(2),superAdminConfigCount:O}},[p]);return x?n.jsx("div",{className:"flex items-center justify-center h-screen bg-[#F8FAF8]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Chargement de l'interface..."})]})}):g?n.jsxs("div",{className:"flex h-screen bg-[#F8FAF8]",children:[n.jsx(sn,{user:g,onClose:()=>r(!1),sidebarOpen:t}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(an,{user:g,onOpenProfile:j,onLogout:y,onToggleSidebar:()=>r(!t)}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuration Produits Avance "}),n.jsx("p",{className:"text-gray-600",children:"Configuration globale et avance des produits - Accs Super Admin"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:()=>o(!i),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[n.jsx(Lr,{className:"w-5 h-5"}),n.jsx("span",{children:i?"Masquer":"Configuration Avance"})]}),n.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[n.jsx(mi,{className:"w-5 h-5"}),n.jsx("span",{children:"Nouveau produit"})]})]})]}),n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Go,{className:"w-5 h-5 text-red-600 mr-3"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Accs Super Admin - Configuration Avance"}),n.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Attention : Les modifications ici affectent les rgles de gestion pour tous les administrateurs."})]})]})}),i&&n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-purple-500",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[n.jsx(ly,{className:"w-5 h-5 mr-2 text-purple-600"}),"Paramtres de Scurit et de Rgles Globales"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Paramtres Globaux"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",defaultChecked:!0}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Validation admin pour nouveaux produits"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Modification libre des prix"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",defaultChecked:!0}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Notifications stock critique"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Permissions Admin"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Admin standard peut supprimer"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",defaultChecked:!0}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Modification sensible par Super Admin"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Audit des modifications"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Fournisseurs"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",defaultChecked:!0}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Approbation automatique"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Gestion multi-fournisseurs"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",defaultChecked:!0}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Alertes renouvellement stock"})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-blue-500 rounded-lg p-3",children:n.jsx(qe,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Produits"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.length})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-purple-500 rounded-lg p-3",children:n.jsx(Lr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Config Super Admin"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:P.superAdminConfigCount})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-green-500 rounded-lg p-3",children:n.jsx(cy,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Stock Global"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:P.totalStock})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-orange-500 rounded-lg p-3",children:n.jsx(Ts,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valeur Totale"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[P.totalValue,""]})]})]})})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Rechercher nom, fournisseur ou ID...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",value:l,onChange:C=>c(C.target.value)})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",value:u,onChange:C=>d(C.target.value),children:[n.jsx("option",{value:"all",children:"Toutes les catgories"}),[...new Set(p.map(C=>C.category))].map(C=>n.jsx("option",{value:C,children:C},C))]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",value:m,onChange:C=>f(C.target.value),children:[n.jsx("option",{value:"all",children:"Tous les droits admin"}),n.jsx("option",{value:"super_admin",children:"Super Admin uniquement"}),n.jsx("option",{value:"admin_standard",children:"Admin Standard"})]}),n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(va,{className:"w-5 h-5 mr-2"}),n.jsx("span",{className:"font-semibold",children:S.length})," produit(s) trouv(s)"]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Droits Admin"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dernire Modification"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.length>0?S.map(C=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center",children:n.jsx(qe,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",C.id," | Cat: ",C.category]})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full capitalize ${N(C.status)}`,children:[C.status==="active"?n.jsx(ar,{className:"w-3 h-3 mr-1"}):n.jsx(zn,{className:"w-3 h-3 mr-1"}),C.status]}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:C.visibility})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.adminRights==="super_admin"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:C.adminRights==="super_admin"?"SUPER ADMIN":"ADMIN STANDARD"})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[C.price.toFixed(2),""]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`text-sm font-medium ${C.stock<20?"text-red-600 font-bold":"text-gray-900"}`,children:C.stock}),C.stock<20&&n.jsx(N0,{className:"w-4 h-4 text-red-500 ml-2",title:"Stock critique"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.lastModified).toLocaleDateString("fr-FR")}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded-full hover:bg-blue-100 transition-colors",title:"Voir les dtails",children:n.jsx(hr,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-purple-600 hover:text-purple-900 p-1 rounded-full hover:bg-purple-100 transition-colors",title:"Accder aux rglages avancs",children:n.jsx(Lr,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 p-1 rounded-full hover:bg-indigo-100 transition-colors",title:"diter",children:n.jsx(Yo,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-100 transition-colors",title:"Supprimer (Action critique)",children:n.jsx(ba,{className:"w-4 h-4"})})]})})]},C.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500",children:"Aucun produit trouv correspondant aux filtres."})})})]})})}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[n.jsx(ly,{className:"w-5 h-5 text-gray-500 mr-2"}),"Actions Rapides Super Admin"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-purple-50 transition-colors group",children:[n.jsx(Lr,{className:"w-6 h-6 text-purple-600 group-hover:text-purple-700 mb-2"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Configuration Globale"})]}),n.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-blue-50 transition-colors group",children:[n.jsx(cy,{className:"w-6 h-6 text-blue-600 group-hover:text-blue-700 mb-2"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Import/Export (CSV)"})]}),n.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-green-50 transition-colors group",children:[n.jsx(Go,{className:"w-6 h-6 text-green-600 group-hover:text-green-700 mb-2"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Audit Permissions"})]}),n.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-orange-50 transition-colors group",children:[n.jsx(Ts,{className:"w-6 h-6 text-orange-600 group-hover:text-orange-700 mb-2"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Rapport Avanc (KPIs)"})]})]})]})]})})]}),g&&n.jsx(Rs,{isOpen:s,onClose:()=>a(!1),user:g,onUpdated:w})]}):null},vq=({currentStep:e,steps:t})=>n.jsx("div",{className:"flex justify-center items-center gap-8 mb-8",children:t.map((r,s)=>n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg mb-2 transition-colors ${e===s+1||e>s+1?"bg-green-600 text-white":"bg-gray-300 text-gray-600"}`,children:s+1}),n.jsx("p",{className:`text-sm font-medium ${e===s+1||e>s+1?"text-green-600":"text-gray-500"}`,children:r})]},s))}),Nm=()=>{const[e,t]=h.useState({}),[r,s]=h.useState(!1),a=h.useCallback(()=>{t({})},[]),i=h.useCallback(p=>{t(g=>{const b={...g};return delete b[p],b})},[]),o=h.useCallback((p,g)=>{t(b=>({...b,[p]:g}))},[]),l=h.useCallback(p=>{t(g=>({...g,...p}))},[]),c=h.useCallback((p,g="general")=>{var v,y,j,w,N,S;console.error("API Error:",p);let b="Une erreur inattendue s'est produite",x={};if(p.response){const{status:P,data:C}=p.response;switch(P){case 400:(v=C.message)!=null&&v.includes("email")?(b="Adresse email invalide ou dj utilise",x.email="Cette adresse email est dj enregistre"):(y=C.message)!=null&&y.includes("password")?(b="Mot de passe non conforme",x.password="Le mot de passe doit contenir au moins 8 caractres, une majuscule, une minuscule et un chiffre"):(j=C.message)!=null&&j.includes("phone")?(b="Numro de tlphone invalide",x.phone="Veuillez entrer un numro de tlphone valide"):(w=C.message)!=null&&w.includes("firstName")||(N=C.message)!=null&&N.includes("lastName")?(b="Nom ou prnom invalide",x.general="Veuillez vrifier vos informations personnelles"):b=C.message||"Donnes invalides";break;case 401:b="Identifiants de connexion incorrects",x.general="Vrifiez votre email et votre mot de passe";break;case 403:(S=C.message)!=null&&S.includes("not verified")?(b="Votre compte n'est pas encore vrifi",x.general="Veuillez vrifier votre email et cliquer sur le lien de validation"):b="Accs refus";break;case 404:b="Utilisateur non trouv",x.general="Aucun compte associ  ces identifiants";break;case 409:b="Compte dj existant",x.email="Un compte existe dj avec cette adresse email";break;case 422:C.errors?(Object.keys(C.errors).forEach(E=>{x[E]=C.errors[E].message}),b="Veuillez corriger les erreurs dans le formulaire"):b=C.message||"Donnes invalides";break;case 500:b="Erreur serveur temporaire",x.general="Notre quipe travaille sur le problme. Ressayez dans quelques minutes";break;case 503:b="Service temporairement indisponible",x.general="Le service est temporairement hors ligne. Ressayez plus tard";break;default:b=C.message||`Erreur serveur (${P})`,x.general="Une erreur s'est produite. Veuillez ressayer"}}else p.request?(b="Problme de connexion",x.general="Vrifiez votre connexion internet et ressayez"):(b="Erreur de configuration",x.general="Problme temporaire. Veuillez rafrachir la page");return l(x),{errorMessage:b,fieldErrors:x}},[]),u=h.useCallback((p,g,b={})=>{const x={required:"Ce champ est obligatoire",...b};if(x.required&&(!g||g.trim()===""))return x.required;if(p==="email"&&g&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g))return"Adresse email invalide";if(p==="phone"&&g&&!/^[\+]?[1-9][\d]{0,15}$/.test(g.replace(/\s/g,"")))return"Numro de tlphone invalide";if(p==="password"&&g){if(g.length<8)return"Le mot de passe doit contenir au moins 8 caractres";if(!/[A-Z]/.test(g))return"Le mot de passe doit contenir au moins une majuscule";if(!/[a-z]/.test(g))return"Le mot de passe doit contenir au moins une minuscule";if(!/\d/.test(g))return"Le mot de passe doit contenir au moins un chiffre"}return b.minLength&&g&&g.length<b.minLength?`Minimum ${b.minLength} caractres requis`:null},[]),d=h.useCallback((p,g)=>{const b={};let x=!0;return Object.keys(g).forEach(v=>{const y=u(v,p[v],g[v]);y&&(b[v]=y,x=!1)}),l(b),{isValid:x,errors:b}},[u,l]),m=h.useCallback(p=>{s(p)},[]),f=h.useCallback(async(p,g,b=3)=>{let x=0,v=p;for(;x<b;)try{return m(!0),await g()}catch(y){v=y,x++,x<b&&await new Promise(j=>setTimeout(j,Math.pow(2,x)*1e3))}finally{m(!1)}return c(v)},[c,m]);return{errors:e,isSubmitting:r,clearErrors:a,clearError:i,setFieldError:o,setMultipleErrors:l,handleApiError:c,validateField:u,validateForm:d,setLoading:m,handleErrorWithRetry:f}},FC=({error:e,field:t="general",type:r="error",showIcon:s=!0,className:a="",context:i="",onDismiss:o})=>{var f,p;if(!e)return null;const l="flex items-start gap-3 p-4 rounded-lg border",c={error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800",success:"bg-green-50 border-green-200 text-green-800"},u={error:n.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),warning:n.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),info:n.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),success:n.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})},d={email:{error:"Assurez-vous que votre adresse email est correctement crite et n'a pas dj t utilise pour crer un compte.",info:"Utilisez une adresse email valide que vous consultez rgulirement pour recevoir les notifications importantes."},password:{error:"Votre mot de passe doit contenir au moins 8 caractres avec au moins une majuscule, une minuscule et un chiffre.",info:"Choisissez un mot de passe facile  retenir mais difficile  deviner pour protger votre compte."},phone:{error:"Entrez un numro de tlphone valide avec l'indicatif pays si ncessaire.",info:"Nous utilisons votre numro pour les notifications importantes et la livraison."},firstName:{error:"Le prnom est requis et doit contenir au moins 2 caractres.",info:"Utilisez votre prnom officiel pour faciliter les communications."},lastName:{error:"Le nom est requis et doit contenir au moins 2 caractres.",info:"Utilisez votre nom de famille officiel."},address:{error:"L'adresse est requise pour la livraison de vos commandes.",info:"Spcifiez une adresse prcise o vous pouvez recevoir vos commandes."},general:{error:"Une erreur s'est produite. Vrifiez vos informations et ressayez.",info:"Besoin d'aide ? Contactez notre support client.",warning:"Cette action peut prendre quelques instants. Veuillez patienter.",success:"Action ralise avec succs !"}},m=((f=d[t])==null?void 0:f[r])||((p=d.general)==null?void 0:p[r]);return n.jsxs("div",{className:`${l} ${c[r]} ${a}`,children:[s&&u[r],n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-sm",children:e}),m&&n.jsx("p",{className:"text-xs mt-1 opacity-75",children:m})]}),o&&n.jsx("button",{onClick:o,className:"flex-shrink-0 text-current hover:opacity-75 transition-opacity",type:"button",children:n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},yq=({errors:e,type:t="error",className:r="",onDismiss:s})=>!e||Object.keys(e).length===0?null:n.jsx("div",{className:`space-y-2 ${r}`,children:Object.entries(e).map(([a,i])=>n.jsx(FC,{error:i,field:a,type:t,onDismiss:s?()=>s(a):void 0},a))}),dr=({label:e,name:t,error:r,children:s,required:a=!1,helpText:i="",className:o=""})=>{const l=!!r;return n.jsxs("div",{className:`space-y-1 ${o}`,children:[e&&n.jsxs("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:[e,a&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("div",{className:`relative ${l?"ring-2 ring-red-500 rounded-lg":""}`,children:[s,l&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),l&&n.jsx(FC,{error:r,field:t,type:"error",className:"mt-2",showIcon:!1}),i&&!l&&n.jsx("p",{className:"text-xs text-gray-500",children:i})]})},bq=({isOpen:e,onClose:t,onSwitchToLogin:r,onSuccess:s})=>{const[a,i]=h.useState(1),[o,l]=h.useState(null),[c,u]=h.useState({profilePicture:null,firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",address:"",interventionZone:"",vehicle:"",loadCapacity:"",drivingLicense:"",cultureType:"",cultivatedArea:"",experience:"",certificate:null,preferences:"",bio:"",isSubscribed:!1}),[d,m]=h.useState(!1),[f,p]=h.useState(!1),{errors:g,isSubmitting:b,clearErrors:x,setFieldError:v,validateField:y,validateForm:j,handleApiError:w,setLoading:N}=Nm(),S=yl(),P=["Informations de base","Slection du rle","Informations spcifiques"],C=[{id:"consommateur",title:"Consommateur",description:"J'achte des produits locaux et de saison directement auprs des producteurs.",icon:""},{id:"producteur",title:"Producteur",description:"Je vends ma production et dveloppe mon activit sur une plateforme ddie.",icon:""},{id:"livreur",title:"Livreur",description:"Je propose mes services de livraison pour acheminer les commandes de produits agricoles.",icon:""}],E=k=>{const{name:A,value:B,type:F,files:D}=k.target,$=F==="file"?D[0]:B;if(F==="file"&&A==="profilePicture")if($&&!XA($)){v("profilePicture","Veuillez slectionner une image valide (JPEG, PNG, GIF, WebP) de moins de 5MB");return}else x();if(A==="email"||A==="password"||A==="confirmPassword"||A==="phone"||A==="firstName"||A==="lastName"){const K=y(A,$,{email:{required:!0},password:{required:!0,minLength:8},confirmPassword:{required:!0,minLength:8},phone:{required:!0},firstName:{required:!0,minLength:2},lastName:{required:!0,minLength:2}}[A]);if(K)v(A,K);else if(A==="password"||A==="confirmPassword"){const U=A==="password"?$:c.password,q=A==="confirmPassword"?$:c.confirmPassword;U&&q&&U!==q?v("confirmPassword","Les mots de passe ne correspondent pas"):x()}else x()}u({...c,[A]:$})},O=()=>{if(a===2&&!o){v("role","Veuillez slectionner un rle pour continuer");return}if(a===1){const k={firstName:{required:!0,minLength:2},lastName:{required:!0,minLength:2},email:{required:!0},password:{required:!0,minLength:8},confirmPassword:{required:!0,minLength:8},phone:{required:!0},address:{required:!0}};if(c.password!==c.confirmPassword){v("confirmPassword","Les mots de passe ne correspondent pas"),S.showError("Veuillez corriger les erreurs avant de continuer");return}const{isValid:A}=j(c,k);if(!A){S.showError("Veuillez corriger les erreurs avant de continuer");return}}x(),a<3&&i(a+1)},I=()=>{a>1&&i(a-1)},M=async k=>{var D;if(k.preventDefault(),!o){v("role","Veuillez slectionner un rle pour vous inscrire");return}const A={firstName:{required:!0,minLength:2},lastName:{required:!0,minLength:2},email:{required:!0},password:{required:!0,minLength:8},confirmPassword:{required:!0,minLength:8},phone:{required:!0},address:{required:!0}};if(c.password!==c.confirmPassword){v("confirmPassword","Les mots de passe ne correspondent pas"),S.showError("Les mots de passe ne correspondent pas");return}o==="producteur"?(A.cultureType={required:!0},A.cultivatedArea={required:!0},A.experience={required:!0}):o==="livreur"&&(A.interventionZone={required:!0},A.vehicle={required:!0},A.loadCapacity={required:!0},A.drivingLicense={required:!0});const{isValid:B}=j(c,A);if(!B){S.showError("Veuillez corriger les erreurs dans le formulaire");return}N(!0),x();const F=S.showLoading("Cration de votre compte en cours...");try{let z=(c.phone||"").trim().replace(/[^\d+]/g,"");z.startsWith("+")||(z=`+${z}`);const K={firstName:c.firstName.trim(),lastName:c.lastName.trim(),email:c.email.trim().toLowerCase(),password:c.password,phone:z,profilePicture:c.profilePicture?await ny(c.profilePicture):"https://via.placeholder.com/150x150?text=Photo",role:o};o==="consommateur"?K.consumerInfo={preferences:c.preferences,deliveryAddress:c.address.trim(),bio:c.bio.trim(),isSubscribed:c.isSubscribed}:o==="producteur"?K.producteurInfo={cultureType:c.cultureType.trim(),region:c.cultivatedArea.trim(),farmSize:c.cultivatedArea.trim(),description:c.experience.toString(),certificates:c.certificate?[await ny(c.certificate)]:[]}:o==="livreur"&&(K.livreurInfo={deliveryZone:c.interventionZone.trim(),vehicleType:c.vehicle.trim(),capaciteCharge:c.loadCapacity.trim(),permisConduire:c.drivingLicense.trim()});const U=await pn.register(K);U.status==="success"&&(S.removeToast(F),setTimeout(()=>{t(),r(),s&&s(U)},3e3))}catch($){if(S.removeToast(F),($==null?void 0:$.status)===409){const z=((D=$==null?void 0:$.message)==null?void 0:D.toLowerCase())||"";z.includes("email")&&v("email","Cet email est dj utilis"),(z.includes("phone")||z.includes("tlphone"))&&v("phone","Ce numro est dj utilis"),S.showError(($==null?void 0:$.message)||"Ce compte existe dj")}else{const{errorMessage:z}=w($,"register");S.showError(z)}}finally{N(!1)}};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-8 py-6 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Crer votre compte AgriTeranga"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Rejoignez notre plateforme et connectez-vous au monde agricole."})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"px-8 py-6",children:[n.jsx(vq,{currentStep:a,steps:P}),g.general&&n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"p-4 rounded-lg bg-red-100 text-red-800 border border-red-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"font-medium",children:g.general})]})})}),n.jsxs("form",{onSubmit:M,children:[a===1&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col items-center mb-8",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("div",{className:"w-28 h-28 bg-green-600 rounded-full flex items-center justify-center mb-2 hover:bg-green-700 transition-colors group",children:c.profilePicture?n.jsx("img",{src:URL.createObjectURL(c.profilePicture),alt:"Profile",className:"w-full h-full rounded-full object-cover"}):n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("svg",{className:"w-14 h-14 text-white group-hover:opacity-80 transition-opacity",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-white text-xs mt-1 opacity-80 group-hover:opacity-100 transition-opacity",children:"Ajouter"})]})}),n.jsx("input",{type:"file",name:"profilePicture",accept:"image/*",onChange:E,className:"hidden"})]}),n.jsx("p",{className:"text-sm text-gray-600 text-center",children:c.profilePicture?"Cliquez pour changer":"Cliquez pour ajouter une photo"}),g.profilePicture&&n.jsx("p",{className:"text-sm text-red-600 mt-2",children:g.profilePicture})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsx(dr,{label:"Prnom",name:"firstName",error:g.firstName,required:!0,helpText:"Votre prnom officiel",children:n.jsx("input",{type:"text",name:"firstName",value:c.firstName,onChange:E,className:`w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${g.firstName?"border-red-500":""}`,placeholder:"Votre prnom"})}),n.jsx(dr,{label:"Nom",name:"lastName",error:g.lastName,required:!0,helpText:"Votre nom de famille",children:n.jsx("input",{type:"text",name:"lastName",value:c.lastName,onChange:E,className:`w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${g.lastName?"border-red-500":""}`,placeholder:"Votre nom"})}),n.jsx(dr,{label:"Adresse e-mail",name:"email",error:g.email,required:!0,helpText:"Vous recevrez la confirmation sur cette adresse",children:n.jsx("input",{type:"email",name:"email",value:c.email,onChange:E,className:`w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${g.email?"border-red-500":""}`,placeholder:"exemple@email.com"})}),n.jsx(dr,{label:"Mot de passe",name:"password",error:g.password,required:!0,helpText:"Minimum 8 caractres avec majuscule, minuscule et chiffre",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:d?"text":"password",name:"password",value:c.password,onChange:E,className:`w-full px-4 pr-12 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${g.password?"border-red-500":""}`,minLength:8,placeholder:""}),n.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":d?"Masquer le mot de passe":"Afficher le mot de passe",children:d?n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-5 0-9-4-9-7 0-1.07.45-2.22 1.237-3.363M6.228 6.228C7.907 5.145 9.89 4.5 12 4.5c5 0 9 4 9 7 0 1.112-.455 2.299-1.29 3.45M3 3l18 18"})}):n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})}),n.jsx(dr,{label:"Numro de tlphone",name:"phone",error:g.phone,required:!0,helpText:"Pour les notifications de livraison",children:n.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:E,className:`w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${g.phone?"border-red-500":""}`,placeholder:"+221 77 123 56 78"})}),n.jsx(dr,{label:"Confirmer le mot de passe",name:"confirmPassword",error:g.confirmPassword,required:!0,helpText:"Veuillez saisir le mme mot de passe",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:f?"text":"password",name:"confirmPassword",value:c.confirmPassword,onChange:E,className:`w-full px-4 pr-12 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${g.confirmPassword?"border-red-500":""}`,minLength:8,placeholder:""}),n.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":f?"Masquer la confirmation":"Afficher la confirmation",children:f?n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-5 0-9-4-9-7 0-1.07.45-2.22 1.237-3.363M6.228 6.228C7.907 5.145 9.89 4.5 12 4.5c5 0 9 4 9 7 0 1.112-.455 2.299-1.29 3.45M3 3l18 18"})}):n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})})]}),n.jsx(dr,{label:"Adresse",name:"address",error:g.address,required:!0,helpText:"Adresse complte pour la livraison",children:n.jsx("input",{type:"text",name:"address",value:c.address,onChange:E,className:`w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${g.address?"border-red-500":""}`,placeholder:"Dakar"})}),n.jsx("button",{type:"button",onClick:O,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-8 rounded-full transition-colors text-lg mt-6",children:"Suivant"})]}),a===2&&n.jsxs("div",{className:"space-y-6",children:[g.role&&n.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-800 border border-red-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-sm font-medium",children:g.role})]})}),n.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:C.map(k=>n.jsxs("div",{onClick:()=>{l(k.id),x()},className:`p-6 border-2 rounded-lg cursor-pointer transition-all ${o===k.id?"border-green-600 bg-green-50 ring-2 ring-green-200":"border-gray-200 hover:border-green-300"}`,children:[n.jsx("div",{className:"text-5xl mb-4 text-center",children:k.icon}),n.jsx("h3",{className:"font-bold text-xl text-gray-800 mb-3 text-center",children:k.title}),n.jsx("p",{className:"text-gray-600 text-sm text-center",children:k.description})]},k.id))}),n.jsxs("div",{className:"flex gap-4 mt-8",children:[n.jsx("button",{type:"button",onClick:I,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-4 px-8 rounded-full transition-colors text-lg",children:"Prcdent"}),o==="consommateur"?n.jsx("button",{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-bold py-4 px-8 rounded-full transition-colors text-lg",disabled:b,children:b?"Inscription...":"S'inscrire"}):n.jsx("button",{type:"button",onClick:O,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-8 rounded-full transition-colors text-lg",children:"Suivant"})]})]}),a===3&&n.jsxs("div",{className:"space-y-6",children:[o==="livreur"&&n.jsxs("div",{className:"grid gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Zone d'intervention"}),n.jsx("input",{type:"text",name:"interventionZone",value:c.interventionZone,onChange:E,className:"w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Vhicule"}),n.jsx("input",{type:"text",name:"vehicle",value:c.vehicle,onChange:E,className:"w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Capacit de charge"}),n.jsx("input",{type:"text",name:"loadCapacity",value:c.loadCapacity,onChange:E,className:"w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Permis de conduire"}),n.jsx("input",{type:"text",name:"drivingLicense",value:c.drivingLicense,onChange:E,className:"w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),o==="consommateur"&&n.jsxs("div",{className:"grid gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Prfrences alimentaires"}),n.jsxs("select",{name:"preferences",value:c.preferences,onChange:E,className:"w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Slectionnez vos prfrences"}),n.jsx("option",{value:"bio",children:"Produits biologiques uniquement"}),n.jsx("option",{value:"local",children:"Produits locaux"}),n.jsx("option",{value:"saisonnier",children:"Produits de saison"}),n.jsx("option",{value:"sans-gluten",children:"Sans gluten"}),n.jsx("option",{value:"vegetarien",children:"Vgtarien"}),n.jsx("option",{value:"tous",children:"Tous types de produits"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Biographie (optionnel)"}),n.jsx("textarea",{name:"bio",value:c.bio,onChange:E,rows:"3",className:"w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Parlez-nous de vous..."})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"isSubscribed",name:"isSubscribed",checked:c.isSubscribed,onChange:E,className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),n.jsx("label",{htmlFor:"isSubscribed",className:"text-gray-700",children:"Je souhaite recevoir les offres et nouveauts par email"})]})]}),o==="producteur"&&n.jsxs("div",{className:"grid gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Type de culture"}),n.jsx("input",{type:"text",name:"cultureType",value:c.cultureType,onChange:E,className:"w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Superficie cultive"}),n.jsx("input",{type:"text",name:"cultivatedArea",value:c.cultivatedArea,onChange:E,className:"w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Exprience (en annes)"}),n.jsx("input",{type:"number",name:"experience",value:c.experience,onChange:E,className:"w-full px-4 py-3 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Tlcharger un certificat"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"cursor-pointer inline-block bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-full font-semibold transition-colors",children:["Choisir un fichier",n.jsx("input",{type:"file",name:"certificate",accept:".jpg,.jpeg,.png",onChange:E,className:"hidden"})]}),c.certificate&&n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:c.certificate.name}),n.jsx("p",{className:"text-xs text-gray-500",children:"Formats accepts : JPG, PNG. Taille maximale : 5 Mo."})]})]})]}),n.jsxs("div",{className:"flex gap-4 mt-8",children:[n.jsx("button",{type:"button",onClick:I,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-4 px-8 rounded-full transition-colors text-lg",children:"Prcdent"}),n.jsx("button",{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-bold py-4 px-8 rounded-full transition-colors text-lg",disabled:b,children:b?"Inscription...":"S'inscrire"})]})]})]})]}),n.jsx("div",{className:"bg-green-800 px-8 py-4 rounded-b-lg",children:n.jsxs("p",{className:"text-green-100 text-center text-sm",children:["Dj un compte ?"," ",n.jsx("button",{onClick:r,className:"text-green-300 hover:text-white font-semibold transition-colors underline",children:"Se connecter"})]})})]})}):null},jq=({isOpen:e,onClose:t})=>{const[r,s]=h.useState(""),{errors:a,validateField:i,clearErrors:o,setFieldError:l,handleApiError:c,isSubmitting:u,setLoading:d}=Nm(),m=yl();if(!e)return null;const f=async p=>{p.preventDefault();const g=i("email",r,{required:!0,pattern:/[^\s@]+@[^\s@]+\.[^\s@]+/});if(g){l("email",g);return}d(!0);const b=m.showLoading("Envoi de l'email de rinitialisation...");try{const x=await ne.forgotPassword(String(r).trim().toLowerCase());m.removeToast(b),(x==null?void 0:x.status)==="success"?(m.showSuccess("Si un compte existe avec cet email, un lien de rinitialisation a t envoy."),t()):m.showInfo((x==null?void 0:x.message)||"Vrifiez votre email. Si l'adresse est connue, vous recevrez un lien.")}catch(x){m.removeToast(b);const{errorMessage:v}=c(x,"forgot-password");m.showError(v||"chec de l'envoi de l'email de rinitialisation")}finally{d(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Mot de passe oubli"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsxs("div",{className:"px-6 py-5",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Saisissez votre adresse email. Si elle est associe  un compte, vous recevrez un lien de rinitialisation."}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"fp-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{id:"fp-email",type:"email",value:r,onChange:p=>{s(p.target.value),o()},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2D5F3F] focus:border-transparent ${a.email?"border-red-500":"border-gray-200"}`,placeholder:"votre@email.com",autoFocus:!0,required:!0}),a.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-50",children:"Annuler"}),n.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-[#2D5F3F] text-white rounded-lg hover:bg-[#234a32] disabled:opacity-50",children:"Envoyer le lien"})]})]})]})]})})},wq=({isOpen:e,onClose:t,onSwitchToRegister:r,onSuccess:s})=>{const a=mt(),[i,o]=h.useState({identifier:"",password:""}),[l,c]=h.useState(!1),u=ve.useRef(null),d="671530540121-d2slb3peevebhh90fgmhktueecv2jfpt.apps.googleusercontent.com",m=O=>{const I=O==null?void 0:O.role;return a(I==="producteur"?"/producer/dashboard":I==="livreur"?"/delivery/dashboard":I==="admin"?"/admin/dashboard":"/")},{errors:f,isSubmitting:p,clearErrors:g,setFieldError:b,validateField:x,handleApiError:v,setLoading:y}=Nm(),j=yl(),[w,N]=h.useState(!1);ve.useEffect(()=>{const O=new URLSearchParams(window.location.search),I=O.get("verified"),M=O.get("token");I==="true"&&M&&P(M)},[e]);const S=O=>{const{name:I,value:M}=O.target;if(I==="identifier"||I==="password"){const A=x(I,M,{identifier:{required:!0},password:{required:!0}}[I]);A?b(I,A):g()}o({...i,[I]:M})},P=async O=>{try{const I=await pn.verifyEmail(O);I.status==="success"&&(j.showSuccess("Votre compte a t vrifi avec succs ! Vous tes maintenant connect.",{title:"Vrification russie",duration:6e3}),s&&s(I.data.user),m(I.data.user),window.history.replaceState({},document.title,window.location.pathname))}catch(I){const{errorMessage:M}=v(I,"verify-email");j.showError(M)}},C=async O=>{var F;O.preventDefault();const I={identifier:{required:!0},password:{required:!0}},M=x("identifier",i.identifier,I.identifier),k=x("password",i.password,I.password);if(M||k){j.showError("Veuillez remplir tous les champs correctement");return}y(!0),g();const A=j.showLoading("Connexion en cours..."),B=D=>{const $=String(D||"").trim();if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($))return $.toLowerCase();const K=$.replace(/[^0-9+]/g,"");if(K.startsWith("+")&&K.length>=8)return K;let U=K.replace(/\D/g,"");return U.startsWith("0")&&(U=U.slice(1)),U.length===9?`+221${U}`:K||$};try{const D=await pn.login({identifier:B(i.identifier),password:i.password});if(D.status==="success"){j.removeToast(A);const $=(F=D.data)==null?void 0:F.user;if(($==null?void 0:$.role)==="admin"||($==null?void 0:$.isSuperAdmin)===!0){try{localStorage.removeItem("token"),localStorage.removeItem("user")}catch{}j.showInfo("Veuillez utiliser la page de connexion Administrateur."),t(),a("/admin/login");return}s&&s(D.data.user),m(D.data.user),t()}}catch(D){j.removeToast(A);const{errorMessage:$,fieldErrors:z}=v(D,"login");z&&Object.keys(z).length>0&&Object.keys(z).forEach(K=>{b(K,z[K])}),j.showError($)}finally{y(!1)}},E=async O=>{if(!(O!=null&&O.credential))return;const I=j.showLoading("Connexion Google...");try{const M=await ne.loginWithGoogle(O.credential);j.removeToast(I),M.status==="success"&&(s&&s(M.data.user),m(M.data.user),t())}catch(M){j.removeToast(I);const{errorMessage:k}=v(M,"login");j.showError(k||"chec de la connexion Google")}};return ve.useEffect(()=>{if(!e)return;const O=()=>new Promise(M=>{if(window.google&&window.google.accounts&&window.google.accounts.id)return M();const k=document.createElement("script");k.src="https://accounts.google.com/gsi/client",k.async=!0,k.defer=!0,k.onload=()=>M(),document.head.appendChild(k)});let I=!1;return(async()=>{var M,k;await O(),!I&&(k=(M=window.google)==null?void 0:M.accounts)!=null&&k.id&&(window.google.accounts.id.initialize({client_id:d,callback:E}),u.current&&window.google.accounts.id.renderButton(u.current,{theme:"outline",size:"large",width:320,shape:"rectangular"}))})(),()=>{I=!0}},[e,d]),e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-8 py-6 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Connexion AgriTeranga"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Connectez-vous  votre compte pour accder  tous les services."})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"px-8 py-6",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"flex items-center justify-center mb-6",children:n.jsx("img",{src:bl,alt:"Logo AgriTeranga",className:"w-60 h-20 object-contain"})})}),f.general&&n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"p-4 rounded-lg bg-red-100 text-red-800 border border-red-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"font-medium",children:f.general})]})})}),n.jsxs("form",{onSubmit:C,className:"space-y-6",children:[n.jsx(dr,{label:"Email ou tlphone",name:"identifier",error:f.identifier,required:!0,helpText:"Utilisez votre email ou numro de tlphone pour vous connecter",children:n.jsx("input",{id:"identifier",name:"identifier",type:"text",value:i.identifier,onChange:S,className:`w-full px-4 py-3 border-2 border-[#2D5F3F] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2D5F3F] focus:border-transparent ${f.identifier?"border-red-500":""}`,placeholder:"votre@email.com ou +221 77 123 44 55"})}),n.jsx(dr,{label:"Mot de passe",name:"password",error:f.password,required:!0,helpText:"Mot de passe de votre compte AgriTeranga",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"password",name:"password",type:l?"text":"password",value:i.password,onChange:S,className:`w-full px-4 py-3 border-2 border-[#2D5F3F] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2D5F3F] focus:border-transparent ${f.password?"border-red-500":""}`,placeholder:""}),n.jsx("button",{type:"button",onClick:()=>c(O=>!O),className:"absolute inset-y-0 right-3 flex items-center text-gray-600 hover:text-gray-800","aria-label":"Afficher le mot de passe",children:l?n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:[n.jsx("path",{d:"M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 12a5 5 0 110-10 5 5 0 010 10z"}),n.jsx("path",{d:"M12 9a3 3 0 100 6 3 3 0 000-6z"})]}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:n.jsx("path",{d:"M3.53 2.47a.75.75 0 10-1.06 1.06l2.09 2.09C2.19 7.04 1 9.02 1 12c0 0 3 7 11 7 2.36 0 4.33-.62 5.91-1.6l2.56 2.56a.75.75 0 101.06-1.06l-19-19zM12 17c-5.59 0-8.32-4.41-8.95-5.63.47-.91 1.55-2.66 3.31-3.98l2.1 2.1A5 5 0 0012 17zM9.88 8.76l1.55 1.55A1.99 1.99 0 0012 10c1.1 0 2 .9 2 2 0 .23-.04.45-.11.66l1.61 1.61A4 4 0 009.88 8.76z"})})})]})}),n.jsx("button",{type:"submit",disabled:p,className:"w-full bg-[#2D5F3F] text-white font-medium py-3 px-4 rounded-lg hover:bg-[#234a32] transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Connexion...":"Connexion"}),n.jsx("div",{className:"text-center",children:n.jsx("button",{type:"button",className:"text-sm text-black hover:text-[#2D5F3F] transition-colors",onClick:()=>N(!0),children:"Mot de passe oubli ?"})}),n.jsx("div",{className:"text-center text-sm text-black",children:"ou connectez-vous avec"}),n.jsx("div",{className:"w-full flex items-center justify-center",children:n.jsx("div",{ref:u})}),!d]})]}),n.jsx("div",{className:"bg-[#2D5F3F] px-8 py-4 rounded-b-lg",children:n.jsxs("p",{className:"text-white text-center text-sm",children:["Pas encore de compte ?"," ",n.jsx("button",{onClick:r,className:"text-green-300 hover:text-white font-semibold transition-colors underline",children:"Crer un compte"})]})})]})}),w&&n.jsx(jq,{isOpen:w,onClose:()=>N(!1)})]}):null},Nq=()=>{const{errors:e,setFieldError:t,clearError:r,validateField:s,handleApiError:a}=Nm(),i=Nd(),[o,l]=h.useState({email:"",password:"",phone:"",firstName:""}),c=()=>{const g={email:s("email","invalid-email"),password:s("password","123"),phone:s("phone","123"),firstName:s("firstName","A")};console.log("Validation Results:",g),alert("Tests de validation excuts ! Regardez la console.")},u=()=>{i.success("Test de toast succs"),setTimeout(()=>i.error("Test de toast erreur"),1e3),setTimeout(()=>i.warning("Test de toast warning"),2e3),setTimeout(()=>i.info("Test de toast info"),3e3)},d=()=>{const g={response:{status:400,data:{message:"Email already exists"}}},{errorMessage:b}=a(g,"test");i.showAuthError(g),console.log("API Error handled:",b)},m=()=>{t("email","Cette adresse email est dj utilise"),t("password","Le mot de passe est trop faible"),t("phone","Numro de tlphone invalide")},f=()=>{Object.keys(e).forEach(g=>r(g))},p=(g,b)=>{l(v=>({...v,[g]:b}));const x=s(g,b);x?t(g,x):r(g)};return n.jsx("div",{className:"p-8 max-w-4xl mx-auto bg-gray-50 min-h-screen",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Test du Systme de Gestion des Erreurs"}),n.jsxs("div",{className:"mb-8 p-4 bg-blue-50 rounded-lg",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Tests Rapides"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Tester les Validations"}),n.jsx("button",{onClick:u,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Tester les Toasts"}),n.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Tester Erreur API"}),n.jsx("button",{onClick:m,className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600",children:"Simuler Erreurs Champs"}),n.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Effacer Erreurs"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Formulaire de Test"}),n.jsx(dr,{label:"Email",error:e.email,help:"Format: utilisateur@domaine.com",children:n.jsx("input",{type:"email",value:o.email,onChange:g=>p("email",g.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${e.email?"border-red-500":"border-gray-300"}`,placeholder:"votre@email.com"})}),n.jsx(dr,{label:"Mot de passe",error:e.password,help:"8+ caractres, majuscule, minuscule, chiffre",children:n.jsx("input",{type:"password",value:o.password,onChange:g=>p("password",g.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${e.password?"border-red-500":"border-gray-300"}`,placeholder:"Mot de passe scuris"})}),n.jsx(dr,{label:"Tlphone",error:e.phone,help:"Format international: +221701234567",children:n.jsx("input",{type:"tel",value:o.phone,onChange:g=>p("phone",g.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${e.phone?"border-red-500":"border-gray-300"}`,placeholder:"+221701234567"})}),n.jsx(dr,{label:"Prnom",error:e.firstName,help:"Minimum 2 caractres",children:n.jsx("input",{type:"text",value:o.firstName,onChange:g=>p("firstName",g.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${e.firstName?"border-red-500":"border-gray-300"}`,placeholder:"Votre prnom"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"tat Actuel"}),n.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Donnes du formulaire :"}),n.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:JSON.stringify(o,null,2)}),n.jsx("h4",{className:"font-medium mb-2 mt-4",children:"Erreurs dtectes :"}),Object.keys(e).length>0?n.jsx(yq,{errors:e}):n.jsx("p",{className:"text-green-600 text-sm",children:"Aucune erreur dtecte "})]})]})]}),n.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border-l-4 border-yellow-400",children:[n.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Instructions de Test"}),n.jsxs("ol",{className:"list-decimal list-inside text-sm text-yellow-700 space-y-1",children:[n.jsx("li",{children:'Utilisez les boutons "Tests Rapides" pour vrifier chaque fonctionnalit'}),n.jsx("li",{children:"Tapez dans les champs pour voir la validation en temps rel"}),n.jsx("li",{children:"Vrifiez que les messages d'erreur sont en franais"}),n.jsx("li",{children:"Observez les toasts pour les notifications"}),n.jsx("li",{children:"Ouvrez la console dveloppeur pour voir les logs dtaills"})]})]}),n.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[n.jsx("p",{children:n.jsx("strong",{children:"Statut du systme :"})}),n.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[n.jsx("li",{children:" Hook useErrorHandler fonctionnel"}),n.jsx("li",{children:" Context Toast configur"}),n.jsx("li",{children:" Composants ErrorMessage chargs"}),n.jsx("li",{children:" Backend API requis pour les tests complets"})]})]})]})})};class Sq{constructor(){this.geminiApiKey="AIzaSyARO6mI9Rd7MeV3uKcQPIwPWKIiznnVK3I",this.geminiApiUrl="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",this.huggingfaceApiKey=null,this.openaiApiKey=null,this.debugMode=!0,this.debugMode&&console.log(" AIService Initialis:",{geminiKey:this.geminiApiKey?" Configure":" Manquante",model:"gemini-1.5-flash",hfKey:this.huggingfaceApiKey?" Configure":" Manquante",openaiKey:this.openaiApiKey?" Configure":" Manquante",priority:"Gemini 1.5  OpenAI  Fallback",debug:this.debugMode})}async performDiagnostics(){if(console.log(" === DIAGNOSTIC IA ==="),console.log(" Configuration:"),console.log("- Google Gemini Key:",this.geminiApiKey?" Configure":" Manquante"),console.log("- Modle Gemini:","gemini-1.5-flash"),console.log("- Hugging Face Key:",this.huggingfaceApiKey?" Configure":" Manquante"),console.log("- OpenAI Key:",this.openaiApiKey?" Configure":" Manquante"),console.log("- Debug Mode:",this.debugMode?" Activ":" Dsactiv"),this.geminiApiKey){console.log(`
 Test Google Gemini API...`);try{const t=await this.testGeminiAPI();console.log("- Test Gemini:",t?" Russie":" choue")}catch(t){console.log("- Test Gemini:  Erreur:",t.message)}}console.log(`=== FIN DIAGNOSTIC ===
`)}async testGeminiAPI(){if(!this.geminiApiKey)return!1;try{const t=await fetch(`${this.geminiApiUrl}?key=${this.geminiApiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Bonjour"}]}]})});if(t.ok){const r=await t.json();return r.candidates&&r.candidates.length>0}return!1}catch(t){return console.log(" Erreur test Gemini:",t.message),!1}}isComplexQuestion(t){const r=t.toLowerCase().trim(),s=["conseil","conseils","comment","pourquoi","quand","o","meilleure priode","meilleur","protection naturelle","adaptes","engrais naturel","budget","lancer","dmarrer","commencer","cultiver","planter","semer","rcolter","insectes","ravageurs","techniques","irrigation","scheresse","rotation","compost","bio","cologique","durable","naturel","biologique","quels lgumes","quelle priode","comment protger","quelles cultures","quels engrais","comment me lancer","avec ce budget","avec quel budget","que planter","quoi planter","quand planter","ph","nutriments","sols","drainage","semis","rcolte","pesticides","biopesticides","permaculture","sngal","dakar","afrique","tropical","humide","sec","saison","pluie","scheresse","climat","temprature"],a=r.includes("?"),i=r.length>50,o=s.some(c=>r.includes(c)),l=o||a||i;return this.debugMode&&console.log(" Dtection question complexe:",{message:t.substring(0,50)+"...",hasKeywords:o,hasQuestionMark:a,isLong:i,result:l}),l}async generateResponse(t){const r=t.toLowerCase().trim();if(this.debugMode&&!this.hasPerformedDiagnostics&&(await this.performDiagnostics(),this.hasPerformedDiagnostics=!0),this.debugMode&&console.log(" Gnration rponse pour:",t.substring(0,50)+"..."),!this.isComplexQuestion(t)){const s=this.getPredefinedResponse(r);return this.debugMode&&console.log(" Rponse prdfinie utilise"),s}try{this.debugMode&&console.log(" Tentative d'appel IA...");const s=await this.callAI(t);if(s&&s.trim())return this.debugMode&&console.log(" Rponse IA reue:",s.substring(0,100)+"..."),s}catch(s){console.warn(" Erreur API IA, utilisation du fallback:",s),this.debugMode&&console.log(" Dtails erreur:",s)}return this.debugMode&&console.log(" Utilisation du fallback agricole"),this.getAgriculturalResponse(t)}async callAI(t){if(this.geminiApiKey){this.debugMode&&console.log(" Tentative Google Gemini 1.5...");try{return await this.callGemini(t)}catch(r){console.warn(" Gemini chou:",r.message)}}if(this.openaiApiKey)return this.debugMode&&console.log(" Tentative OpenAI..."),await this.callOpenAI(t);throw new Error("Aucune cl API configure")}async callGemini(t){var s;const r=`Tu es un expert agricole spcialis dans l'agriculture en Afrique de l'Ouest, particulirement au Sngal.

 EXPERTISE :
- Agriculture tropicale et climat sngalais (saison des pluies juin-octobre)
- Cultures adaptes  Dakar et rgions ctires
- Agriculture urbaine et culture en pots/balcons
- Techniques biologiques et durables
- Gestion de l'eau et irrigation conomique
- Protection naturelle contre les ravageurs
- Solutions adaptes aux petits budgets (50 000 - 200 000 FCFA)

 INSTRUCTIONS :
1. Rponds en franais simple et pratique
2. Donne des conseils SPCIFIQUES au Sngal et au climat tropical
3. Considre les saisons locales (pluies vs sche)
4. Suggre des solutions CONOMIQUES avec matriaux locaux
5. Structure ta rponse avec des mojis et des points cls
6. Sois concis mais complet (200-400 mots max)
7. Donne des chiffres prcis (prix, quantits, dures)

Question de l'agriculteur sngalais :`;try{const a=await fetch(`${this.geminiApiUrl}?key=${this.geminiApiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`${r}

${t}`}]}],generationConfig:{temperature:.7,maxOutputTokens:800,topP:.9,topK:40},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!a.ok){const o=await a.json().catch(()=>({}));throw new Error(`Gemini API error: ${a.status} - ${((s=o.error)==null?void 0:s.message)||"Unknown error"}`)}const i=await a.json();if(i.candidates&&i.candidates.length>0){const o=i.candidates[0];if(o.content&&o.content.parts&&o.content.parts.length>0){const l=o.content.parts[0].text;if(l&&l.trim().length>20)return l.trim()}}throw new Error("Rponse vide ou invalide de Gemini")}catch(a){throw this.debugMode&&console.error(" Erreur dtaille Gemini:",a),a}}async callOpenAI(t){var a,i;const r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${this.openaiApiKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"Tu es un expert agricole spcialis dans l'agriculture au Sngal. Rponds en franais de manire concise et pratique avec des conseils adapts au climat tropical."},{role:"user",content:t}],max_tokens:500,temperature:.7})});if(!r.ok){const o=await r.text();throw new Error(`OpenAI API error: ${r.status} - ${o}`)}return((i=(a=(await r.json()).choices[0])==null?void 0:a.message)==null?void 0:i.content)||""}getPredefinedResponse(t){const r={produits:"Nous proposons une large gamme de produits agricoles de qualit : lgumes frais, fruits saisonniers, crales, et produits transforms. Tous nos produits sont cultivs avec des mthodes durables et respectueuses de l'environnement.",lgumes:"Nos lgumes sont cultivs sans pesticides et sont disponibles selon les saisons. Nous avons des tomates, oignons, carottes, salades, aubergines, et bien d'autres.",fruits:"Nos fruits sont cueillis  maturit et incluent des mangues, bananes, oranges, et autres fruits tropicaux selon la saison.",formation:"Nous proposons plusieurs formations : techniques agricoles durables, culture biologique, gestion d'exploitation, commercialisation, et nouvelles technologies agricoles.",cours:"Nos cours sont anims par des experts locaux et couvrent : l'agriculture biologique, la gestion de l'eau, la sant des sols, et l'utilisation d'quipements modernes.",certificat:" la fin de nos formations, vous recevrez un certificat reconnu qui vous aidera dans votre carrire agricole.",service:"Nos services incluent : conseil agricole, assistance technique, suivi des cultures, aide  la commercialisation, et formation continue.",conseil:"Nos experts vous accompagnent dans : le choix des cultures adaptes  votre rgion, les techniques d'irrigation, la gestion des ravageurs de manire cologique.",prix:"Nos prix sont comptitifs et varient selon les produits et les quantits. Contactez-nous pour obtenir un devis personnalis.",commande:"Vous pouvez passer commande directement sur notre site ou nous contacter par tlphone au 77 343 24 85.",livraison:"Nous livrons dans tout Dakar et ses environs. Les frais de livraison dpendent de la distance et du volume de commande.",dlai:"Les dlais de livraison sont gnralement de 24-48h pour les produits frais, et 3-5 jours pour les autres produits.",contact:"Vous pouvez nous contacter au 77 343 24 85, par email  agriteranga@gmail.com, ou nous rendre visite  Dakar, Sngal.",adresse:"Nous sommes bass  Dakar, Sngal. Notre adresse exacte sera communique lors de votre prise de contact.",entreprise:"AgriTeranga est une entreprise spcialise dans l'agriculture durable et la commercialisation de produits agricoles de qualit au Sngal.",mission:"Notre mission est de promouvoir une agriculture respectueuse de l'environnement tout en soutenant les producteurs locaux.",quipe:"Notre quipe est compose d'experts agricoles, d'ingnieurs et de techniciens passionns par l'agriculture durable."};for(const[s,a]of Object.entries(r))if(t.includes(s))return a;return"Je vous invite  poser votre question de manire plus spcifique, ou  nous contacter directement pour une assistance personnalise."}getAgriculturalResponse(t){const r=t.toLowerCase(),s={compost:` **Comment faire un compost maison au Sngal** :

**Matriaux ncessaires** :
 Un bac/bidons percs ou zone dlimite (1m x 1m)
 Cot : 0-5 000 FCFA

**Ingrdients** :
 Matires vertes (azote) :
 pluchures de lgumes/fruits
 Restes de cuisine
 Herbes fraches coupes
 Fumier d'animaux

 Matires brunes (carbone) :
 Feuilles sches
 Paille de mil/mas
 Sciure de bois
 Cartons dchirs

**Mthode** :
1 Alterner couches vertes (10cm) et brunes (10cm)
2 Arroser lgrement chaque couche
3 Retourner toutes les 2 semaines
4 Garder humide (comme ponge essore)

**Dure** : 2-3 mois au climat chaud sngalais

**Signes de prt** :
 Couleur terre fonce
 Odeur de fort
 Texture friable

**Utilisation** : Mlanger 30% compost + 70% terre`,"lgumes faciles":` **Lgumes ULTRA-FACILES pour dbutants  Dakar** :

**Top 5 recommands** :

1 **TOMATES CERISES** 
 Dure : 60-80 jours
 Budget : 200 FCFA/plant
 Arrosage : Quotidien
 Astuce : Tuteurs en bambou local

2 **SALADE/LAITUE** 
 Dure : 30-45 jours (ULTRA-RAPIDE)
 Budget : 500 FCFA semences
 Arrosage : Matin + soir
 Astuce : Ombre lgre midi

3 **PIMENTS** 
 Dure : 90 jours
 Budget : 150 FCFA/plant
 Arrosage : 3x/semaine
 Astuce : Trs rsistant chaleur

4 **OIGNONS VERTS** 
 Dure : 60 jours
 Budget : 1 000 FCFA semences
 Arrosage : Quotidien lger
 Astuce : Culture en pot facile

5 **BASILIC & PERSIL** 
 Dure : 40 jours
 Budget : 500 FCFA semences
 Arrosage : Quotidien
 Astuce : Rcolte continue

**Budget total dmarrage** : 5 000 - 10 000 FCFA`,tomate:` **Guide complet TOMATES au Sngal** :

**PRIODE DE PLANTATION** :
 Saison pluies : Mai-Juin (IDAL)
 Saison sche : Possible avec irrigation
 Rcolte : 60-90 jours aprs

**PRPARATION SOL** :
 Mlange : 60% terre + 30% compost + 10% sable
 Profondeur trou : 30-40cm
 Espacement : 50cm entre plants

**VARITS ADAPTES DAKAR** :
 Roma (tomates allonges, rsistantes)
 Cherry/Cerises (trs productives)
 Marmande (grosses, savoureuses)

**SOINS QUOTIDIENS** :
 Arrosage : Matin (7h) ou soir (18h)
 2-3 litres/plant/jour
 viter mouiller feuilles

 Tuteurage : Bambou/bois 1,5m
 Attacher avec ficelle douce
 Tous les 20cm hauteur

 Taille :
 Enlever gourmands (pousses latrales)
 Garder 2 tiges principales

 Engrais :
 Compost au pied chaque 2 semaines
 Ou NPK 15-15-15 (1 poigne/mois)

**PROTECTION NATURELLE** :
 Basilic entre les plants
 Dcoction ail contre pucerons
 Paillage paille mil`,"priode planter":` **CALENDRIER AGRICOLE SNGAL 2024-2025** :

**SAISON DES PLUIES** (Juin-Octobre)  :
 JUIN :
 Mas, mil, sorgho
 Tomates, aubergines
 Gombo, oseille

 JUILLET-AOT :
 Nib (haricot local)
 Lgumes feuilles
 Pastques, melons

 SEPTEMBRE :
 Manioc
 Patates douces
 Arachides

**SAISON SCHE** (Novembre-Mai)  :
 NOVEMBRE-DCEMBRE :
 Oignons, ail
 Carottes, navets
 Salades avec irrigation

 JANVIER-FVRIER :
 Choux, choux-fleurs
 Pommes de terre
 Haricots verts

 MARS-AVRIL :
 Tomates (avec eau)
 Piments
 Basilic, menthe

**CULTURES TOUTE L'ANNE** (avec irrigation)  :
 Salades : 30 jours
 pinards locaux
 Herbes aromatiques
 Culture en pots

**CONSEIL PRO** : Commencez MAINTENANT avec cultures rapides (salades) pendant que vous prparez saison principale !`,"protger plantes":` **PROTECTION NATURELLE - Solutions locales Sngal** :

**CONTRE PUCERONS** (Frquents saison pluies) :
 **Savon noir** :
 1 cuillre  soupe savon liquide
 1 litre d'eau
 Pulvriser matin ET soir
 Cot : 500 FCFA/mois

 **Piment fort** :
 Mixer 5 piments + 1L eau
 Filtrer et pulvriser
 Trs efficace !

**CONTRE CHENILLES & VERS** :
 **Neem (disponible Dakar)** :
 100g feuilles neem fraches
 Bouillir 30min dans 1L eau
 Laisser refroidir, filtrer
 Pulvriser 2x/semaine
 Prix : 200 FCFA feuilles march

 **Ail + piment** :
 5 gousses ail + 3 piments
 Mixer avec eau
 Repousse tous insectes

**CONTRE MALADIES FONGIQUES** (moisissures) :
 **Lait dilu** :
 100ml lait + 900ml eau
 Pulvriser feuilles
 Anti-mildiou naturel

 **Bicarbonate de soude** :
 1 cuillre caf bicarbonate
 1L eau + 1 cuillre huile
 Contre odium (poudre blanche)

**PRVENTION (Le + Important !)** :
 Espacement correct plants (circulation air)
 Arrosage pied (pas feuilles)
 Rotation cultures
 Paillage (feuilles sches)
 Compagnonnage : basilic + tomates

**BUDGET TOTAL** : 2 000 - 3 000 FCFA/mois pour 20 plants`,"engrais naturel":` **ENGRAIS NATURELS CONOMIQUES - Dakar** :

**1. COMPOST MAISON** (LE MEILLEUR) :
 Gratuit avec dchets cuisine
 Prt en 2 mois
 Utilisation : 1 poigne/plant/2 semaines

**2. CENDRES DE BOIS**  :
 Source : Charbon, bois de cuisine
 Riche en potassium (K)
 Dose : 1 tasse/m tous les 2 mois
  Pas sur sols dj alcalins
 **GRATUIT** - rcupration cuisines

**3. COQUILLES D'UFS**  :
 Broyer finement
 Calcium pour tomates, piments
 Mlanger au sol plantation
 **GRATUIT**

**4. FUMIER ANIMAL**  :
 Mouton, chvre, poule : EXCELLENT
 Composter 1 mois avant usage
 Prix : 500-1 000 FCFA/sac 50kg
 O : Fermes priphrie Dakar

**5. URINE HUMAINE DILUE**  :
 Dilution : 1 tasse urine + 10 tasses eau
 Riche en azote (N)
 Arroser au pied (PAS feuilles)
 **GRATUIT** et trs efficace

**6. EAU DE CUISSON** :
 Eau lgumes/riz refroidie
 Riche en minraux
 **GRATUIT**

**7. MARC DE CAF**  :
 Saupoudrer autour plants
 Azote + repousse fourmis
 Collecte : Cafs/restaurants
 **GRATUIT**

**8. TH DE COMPOST**  :
 1 poigne compost dans seau eau
 Laisser 24-48h
 Filtrer et arroser
 Super booster croissance

**PROGRAMME FERTILISATION TYPE** :
 Semaine 1-2 : Compost au trou
 Semaine 3-4 : Th compost
 Semaine 5-6 : Urine dilue
 Semaine 7-8 : Cendres + coquilles

**BUDGET MENSUEL** : 0-2 000 FCFA (quasi gratuit !)`,budget:` **DMARRER AGRICULTURE avec 50 000 FCFA** :

**OPTION 1 : Culture Balcon/Terrasse** 

 **Conteneurs** (8 000 F) :
 10 bidons/seaux percs : 4 000 F
 5 grands pots plastique : 4 000 F

 **Plants & Semences** (12 000 F) :
 15 plants tomates cerises : 3 000 F
 Semences salades : 1 000 F
 Semences piments : 1 000 F
 Oignons verts : 1 000 F
 Herbes (basilic, persil) : 1 000 F
 Plants aubergines : 2 000 F
 Semences gombo : 1 000 F
 Moringa : 2 000 F

 **Terreau** (10 000 F) :
 4 sacs terre enrichie : 8 000 F
 1 sac compost : 2 000 F

 **Outils** (10 000 F) :
 Arrosoir 10L : 3 000 F
 Petite binette : 2 000 F
 Scateur : 2 000 F
 Gants : 1 000 F
 Ficelle/tuteurs : 2 000 F

 **Irrigation** (5 000 F) :
 Tuyau 10m : 3 000 F
 Bouteilles goutte--goutte : Rcup
 Bassine stockage : 2 000 F

 **Protection** (2 000 F) :
 Savon noir : 500 F
 Bicarbonate : 300 F
 Neem sch : 500 F
 Piments : 200 F
 Rserve : 500 F

 **Total : 47 000 F** (Rserve 3 000 F)

**RENTABILIT ESTIME** :
 Premire rcolte : 2-3 mois
 Production mois : 30-50 kg lgumes
 Valeur march : 15 000-25 000 F/mois
 Retour investissement : 3-4 mois

**OPTION 2 : Petit Jardin Sol (10m)** 

 **Semences/Plants** (15 000 F) :
 Tomates : 5 000 F
 Lgumes feuilles : 3 000 F
 Piments/Aubergines : 4 000 F
 Mas/Nib : 3 000 F

 **Amendements** (12 000 F) :
 Compost 100kg : 5 000 F
 Fumier 50kg : 3 000 F
 Cendres : Gratuit
 NPK 1 sac : 4 000 F

 **Outils** (15 000 F) :
 Arrosoir 20L : 4 000 F
 Binette solide : 4 000 F
 Rteau : 3 000 F
 Scateur : 2 000 F
 Divers : 2 000 F

 **Irrigation** (5 000 F) :
 Tuyau 20m : 4 000 F
 Raccords : 1 000 F

 **Tuteurs/Support** (2 000 F) :
 Bambous : 1 500 F
 Ficelle : 500 F

 **Protection** (1 000 F) :
 Produits naturels

**Total : 50 000 F exactement**

**RENTABILIT** :
 Production : 80-120 kg/mois
 Valeur : 30 000-50 000 F/mois
 Retour investissement : 2 mois

**MES CONSEILS PRO**  :
1 Commencez PETIT (5-10 plants)
2 Rinvestissez bnfices
3 Priorit : tomates + salades (vente facile)
4 Gardez 10% budget urgences
5 Notez dpenses/revenus`,irrigation:` **IRRIGATION CONOMIQUE - Climat Dakar** :

**QUAND ARROSER ?** 
 **Matin** : 6h-8h (IDAL)
 Terre frache absorbe mieux
 vaporation minimale
 Plants ont eau toute journe

 **Soir** : 18h-20h (Alternative)
 Aprs chaleur
 Bonne absorption
 Risque moisissures si trop tard

 **JAMAIS** : 11h-16h
 70% vaporation immdiate
 Brlure feuilles effet loupe
 Stress thermique plants

**QUANTITS PAR PLANT**  :

 **Jeunes plants** (0-30 jours) :
 0,5-1L / jour
 2 fois par jour saison sche

 **Plants tablis** (30+ jours) :
 Tomates : 2-3L / jour
 Salades : 1-1,5L / jour
 Piments : 1,5-2L / jour
 Arbres fruitiers : 10-20L / jour

**TECHNIQUES CONOMIE D'EAU**  :

1 **PAILLAGE** (conomie 50%) :
 Feuilles sches 10cm paisseur
 Paille mil/sorgho
 Copeaux bois
 Cartons
 **Cot : GRATUIT**
 O : Rcup marchs, champs

2 **GOUTTE--GOUTTE DIY**  :
**Mthode bouteille** :
 Bouteille plastique 1,5L
 Percer 3-4 trous fond (clou chauff)
 Enterrer 1/3 prs plant
 Remplir matin + soir
 **conomie : 70% eau**
 **Cot : GRATUIT (rcup)**

**Mthode tuyau perc** :
 Vieux tuyau jardin
 Percer tous les 30cm (aiguille chauffe)
 Fermer bout avec bouchon
 Connecter robinet/bidon
 **Cot : 3 000-5 000 F**

3 **RCUPRATION EAU PLUIE**  :
 Bidons sous gouttires
 1 toit 50m = 50 000L / saison
 Bidons 200L : 2 000 F/unit
 Investissement : 10 000 F
 Gratuit toute saison pluies !

4 **OMBRIRE NATURELLE**  :
 Branches palmier
 Nattes paille mil
 Rduit vaporation 30%
 Protection chaleur midi
 **Cot : 1 000-3 000 F**

5 **BASSINES ENTERRES** :
 Enterrer pot/bassine prs plants
 Remplir eau
 Diffusion lente racines
 conomie 40%

6 **OLLAS TRADITIONNELS** (Poteries poreuses) :
 Pot terre cuite non verni
 Enterrer col dpassant
 Remplir eau
 Diffusion automatique
 **Prix Dakar : 2 000-5 000 F**

**CALENDRIER ARROSAGE**  :

**Saison pluies** (Juin-Oct) :
 Rduire ou arrter si pluie
 Surveiller drainage
 Arroser si 3 jours sans pluie

**Saison sche** (Nov-Mai) :
 Quotidien matin OU soir
 Doubler jeunes plants
 Augmenter 20% en Harmattan

**TEST BESOIN EAU**  :
 Enfoncer doigt 5cm terre
 Sec = arroser
 Humide = attendre
 Feuilles tombantes = URGENT

**ERREURS  VITER**  :
 Arroser feuilles/fleurs
 Trop d'eau (racines pourrissent)
 Eau froide sur plants chauds
 Arrosage irrgulier (stress)

**BUDGET SYSTME COMPLET**  :
 Paillage : 0 F (rcup)
 Goutte--goutte DIY : 0 F
 4 bidons 200L : 8 000 F
 Tuyaux : 5 000 F
 Ombrire : 2 000 F
 **TOTAL : 15 000 F**
 conomie eau : 60-70%
 Amortissement : 6 mois`,"culture domicile":` **AGRICULTURE URBAINE - Balcon/Terrasse Dakar** :

**VALUATION ESPACE**  :

 **Balcon 4m** (Petit) :
 10-15 pots moyens
 Production : 15-25 kg/mois
 Cultures : Salades, herbes, tomates cerises

 **Balcon 8m** (Moyen) :
 20-30 pots
 Production : 35-50 kg/mois
 Cultures : Lgumes varis + 1 arbre nain

 **Terrasse 15m+** (Grand) :
 40-60 pots ou bacs
 Production : 80-120 kg/mois
 Cultures : Presque tout !

**CRITRES EMPLACEMENT**  :

 **Ensoleillement** (CRITIQUE) :
 Minimum : 6h soleil direct/jour
 Idal : 8h
 Orientation : Est ou Sud-Est
 Test : Observer 7h-18h

 **Vent** :
 Dakar trs venteux !
 Protection : Parois, plexiglas
 Lester pots (pierres fond)
 Tuteurage solide obligatoire

 **Accs eau** :
  moins 10m robinet
 Ou bidon rserve 100-200L
 Drainage vers vacuation

 **Solidit structure** :
 Vrifier capacit charge balcon
 1 pot 20L = 25-30 kg rempli
 Rpartir poids uniformment

**CONTENEURS ADAPTS**  :

**Type 1 : Pots classiques** :
 20L : Salades, herbes (1 500 F)
 40L : Tomates, aubergines (3 000 F)
 60L : Piments, arbres nains (5 000 F)
  TROUS DRAINAGE obligatoires

**Type 2 : Bidons recycls** :
 Huile 20L : GRATUIT, dcouper haut
 Peinture blanche : 500 F (rflchit chaleur)
 Percer 5-6 trous fond

**Type 3 : Sacs culture** :
 Sacs gotextile 40-60L : 1 000 F
 Drainage parfait
 Lgers
 Dure : 3-5 ans

**Type 4 : Bacs bois** :
 Fabriquer palette rcup
 1m x 0,5m x 0,4m
 Bche plastique intrieur
 **Cot : 5 000-10 000 F**

**TERREAU PARFAIT**  :

**Recette universelle** :
 50% terre vgtale
 30% compost mr
 15% sable rivire (drainage)
 5% perlite ou vermiculite (optionnel)

**Cot** :
 Terre 1 sac 20kg : 1 500 F
 Compost 1 sac : 2 000 F
 Sable : 500 F/sac
 **Total pot 40L : 3 000 F terreau**

**Alternative conomique** :
 60% terre rcupre (jardins, chantiers)
 40% compost maison
 **Cot : 500 F/pot**

**CULTURES RECOMMANDES BALCON**  :

**Niveau 1 : TRS FACILE**  :
 Salades (30 jours, pot 15L)
 Herbes : basilic, persil, menthe (pot 10L)
 Oignons verts (pot 15L)
 Radis (25 jours, pot 15L)

**Niveau 2 : FACILE**  :
 Tomates cerises (pot 40L mini)
 Piments (pot 30L)
 pinards locaux (pot 20L)
 Haricots nains (pot 25L)

**Niveau 3 : MOYEN**  :
 Aubergines (pot 50L)
 Courgettes (pot 60L, espace)
 Fraisiers (pot 20L, ombre lgre)
 Moringa (pot 80L, arbre miracle)

**ARROSAGE BALCON**  :

**Particularit** :
 Pots schent 2-3x plus vite
 Vent acclre vaporation
 Bton/carrelage rflchit chaleur

**Frquence saison sche** :
 Petits pots (15-20L) : 2x/jour
 Moyens pots (30-40L) : 1x/jour
 Grands pots (60L+) : 1x/jour ou 2 jours

**Systme automatique DIY** :
 Bidon 100L sur support haut
 Tuyau goutte--goutte
 Minuteur robinet : 15 000 F
 Autonomie 3-5 jours

**ENTRETIEN MENSUEL**  :

 **Semaine 1** :
 Apport compost surface
 Vrification tuteurs
 Binage lger

 **Semaine 2** :
 Pulvrisation prventive (neem)
 Taille feuilles mortes
 Contrle parasites

 **Semaine 3** :
 Engrais liquide (th compost)
 Nettoyage feuilles poussire
 Rotation pots (ensoleillement)

 **Semaine 4** :
 Bilan rcoltes
 Planification replantations
 Renouvellement paillage

**ROTATION CULTURES**  :

**Cycle 1** (Jan-Mar) :
 Tomates, salades, herbes

**Cycle 2** (Avr-Juin) :
 Aubergines, piments, haricots

**Cycle 3** (Juil-Sept) :
 Lgumes feuilles, gombo

**Cycle 4** (Oct-Dc) :
 Oignons, carottes, choux

**BUDGET DMARRAGE BALCON 8m**  :

 20 pots (20-40L) : 30 000 F
 Terreau (800L total) : 25 000 F
 Plants/semences : 15 000 F
 Systme irrigation : 10 000 F
 Outils mini : 5 000 F
 Engrais/protection : 3 000 F
 Tuteurs : 2 000 F

**TOTAL : 90 000 F**

**RENTABILIT**  :
 Production : 35-50 kg/mois
 Valeur march : 20 000-30 000 F
 conomie courses : 25 000 F/mois
 Retour investissement : 3-4 mois
 Bonus : Lgumes BIO + Air purifi + Fracheur balcon

**RUSSITES GARANTIES**  :
1 Tomates cerises en pot 40L
2 Basilic perptuel (rcolte continue)
3 Piments (1 plant = 50+ piments)
4 Salades succession (rcolte 15 jours)
5 Moringa (super-aliment local)`};for(const[i,o]of Object.entries(s))if(r.includes(i))return o;const a=[` **Question agricole intressante !**

Pour une rponse dtaille et personnalise  votre situation (type de sol, espace disponible, budget, objectifs), nos experts locaux sont  votre coute.

 **Appelez-nous** : 77 343 24 85
 **Email** : agriteranga@gmail.com
 **Visite** : Bureau Dakar (sur RDV)

 Nous analysons votre contexte et proposons un plan d'action sur mesure !

**Services gratuits** :
 Premire consultation tlphonique
 Diagnostic rapide votre projet
 Orientation vers formation adapte`,` **Excellente question pour l'agriculture au Sngal !**

Chaque situation est unique (climat de votre zone, type de sol, ressources disponibles). Notre quipe d'agronomes sngalais vous guidera efficacement.

**Contactez AgriTeranga** :
 **WhatsApp** : 77 343 24 85
 **Email** : agriteranga@gmail.com
 **Site web** : www.agriteranga.sn

**On vous aide avec** :
 Choix cultures adaptes
 Techniques locales prouves
 Budget raliste
 Suivi personnalis

 Rponse sous 24h garantie !`,` **Question pertinente pour votre projet agricole !**

Pour des conseils bass sur l'exprience terrain sngalaise et adapts  VOTRE situation prcise, nos conseillers sont disponibles.

 **AgriTeranga - Votre partenaire agricole**

 **Tl** : 77 343 24 85 (7j/7, 8h-20h)
 **Email** : agriteranga@gmail.com
 **Adresse** : Dakar, Sngal

**Pourquoi nous contacter ?**
 Expertise locale + internationale
 Solutions testes terrain
 Accompagnement de A  Z
 Formations pratiques
 Rseau producteurs

 Lancez-vous avec les bons conseils !`];return a[Math.floor(Math.random()*a.length)]}testAISystem(){return this.performDiagnostics()}}const K1=new Sq,Cq=({onOpenRegister:e,onOpenLogin:t})=>{const[r,s]=h.useState([{id:1,type:"bot",text:"Bonjour ! Je suis votre assistant expert AgriTeranga. Posez-moi vos questions sur l'agriculture, les produits, les formations ou nos services. Je peux vous donner des conseils personnaliss et vous aider avec vos projets agricoles ! ",time:new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),isAI:!1}]),[a,i]=h.useState(""),[o,l]=h.useState(!1),[c,u]=h.useState(!1),d=h.useRef(null),m=()=>{requestAnimationFrame(()=>{var y;(y=d.current)==null||y.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})})};h.useEffect(()=>{const y=setTimeout(()=>{m()},100);return()=>clearTimeout(y)},[r]);const f=async y=>{if(y.preventDefault(),!a.trim())return;const j={id:r.length+1,type:"user",text:a,time:new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})};s(w=>[...w,j]),i(""),l(!0),setTimeout(()=>{m()},50);try{const w=await K1.generateResponse(a),N=K1.isComplexQuestion(a),S={id:r.length+2,type:"bot",text:w,time:new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),isAI:N};s(P=>[...P,S]),N&&u(!0)}catch(w){console.error("Erreur:",w);const N={id:r.length+2,type:"bot",text:"Je rencontre actuellement des difficults techniques. Pour une rponse immdiate, contactez-nous directement au 77 343 24 85 ou par email  agriteranga@gmail.com. Nos experts seront ravis de vous rpondre !",time:new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),isAI:!1};s(S=>[...S,N])}finally{l(!1)}},p=["Quels lgumes sont faciles  cultiver  domicile ?","Quelle est la meilleure priode pour planter des tomates ?","Comment protger mes plantes des insectes naturellement ?","Avec un budget de 50 000 FCFA, comment me lancer ?","Quels engrais naturels recommandez-vous ?","Comment faire un compost maison ?"],g=[{title:"Conseil du jour ",content:"Arrosez vos plantes tt le matin pour viter l'vaporation et les brlures de feuilles."},{title:"Astuce bio ",content:"Les vers de terre sont vos allis ! Ils arent le sol et enrichissent la terre naturellement."},{title:"conomie d'eau ",content:"Collectez l'eau de pluie dans des bidons pour arroser pendant la saison sche."}],[b,x]=h.useState(0);h.useEffect(()=>{const y=setInterval(()=>{x(j=>(j+1)%g.length)},5e3);return()=>clearInterval(y)},[]);const v=y=>{i(y)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(qr,{onRegisterClick:e,onLoginClick:t}),n.jsxs("div",{className:"relative bg-gradient-to-r from-green-600 via-green-700 to-green-800 text-white py-10 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-40",style:{backgroundImage:'url("/src/assets/ia1.jpg")',animation:"slowZoom 20s ease-in-out infinite alternate"}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-900/70 via-green-800/50 to-green-900/70"}),n.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-green-400/20 rounded-full animate-pulse"}),n.jsx("div",{className:"absolute top-32 right-16 w-16 h-16 bg-yellow-400/20 rounded-full animate-bounce",style:{animationDelay:"2s"}}),n.jsx("div",{className:"absolute bottom-20 left-20 w-12 h-12 bg-white/10 rounded-full animate-ping"}),n.jsx("div",{className:"absolute bottom-32 right-32 w-24 h-24 bg-green-300/10 rounded-full animate-pulse",style:{animationDelay:"1s"}}),n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:[n.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:n.jsx("span",{className:"bg-gradient-to-r from-white via-green-100 to-yellow-200 bg-clip-text text-transparent animate-gradient",children:"Assistant Expert"})}),n.jsx("p",{className:"text-xl md:text-xl text-green-100 mb-10 max-w-3xl mx-auto leading-relaxed",children:"Conseils personnaliss d'intelligence artificielle + expertise humaine"}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 max-w-2xl mx-auto mb-8 transform hover:scale-105 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h3",{className:"font-semibold text-lg",children:g[b].title})]}),n.jsx("p",{className:"text-green-100 leading-relaxed",children:g[b].content})]})]})]}),n.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @keyframes slowZoom {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
          }
          
          @keyframes fade-in {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
          }
          
          @keyframes gradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
          }
          
          .animate-fade-in {
            animation: fade-in 1s ease-out;
          }
          
          .animate-gradient {
            background-size: 200% 200%;
            animation: gradient 3s ease infinite;
          }
        `}}),n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-xl overflow-hidden",children:[n.jsx("div",{className:"bg-green-600 text-white p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Assistant Agri IA"}),n.jsx("p",{className:"text-green-100 text-sm",children:c?"IA + Expertise actives  Rponses intelligentes":"En ligne  Rpond en quelques secondes"})]})]}),n.jsx("div",{className:"text-right",children:n.jsx("div",{className:"text-xs text-green-200",children:"Service gratuit avec IA"})})]})}),n.jsxs("div",{className:"h-96 overflow-y-auto p-6 space-y-4 bg-gray-50",children:[r.map(y=>n.jsx("div",{className:`flex ${y.type==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-lg relative ${y.type==="user"?"bg-green-600 text-white":"bg-white text-gray-800 border border-gray-200"}`,children:[y.type==="bot"&&y.isAI&&n.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("p",{className:"text-sm whitespace-pre-line",children:y.text}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("p",{className:`text-xs ${y.type==="user"?"text-green-100":"text-gray-500"}`,children:y.time}),y.type==="bot"&&y.isAI&&n.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full",children:"IA"})]})]})},y.id)),o&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-white text-gray-800 border border-gray-200 px-4 py-3 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),n.jsx("span",{className:"text-xs text-gray-500",children:"IA en rflexion..."})]})})}),n.jsx("div",{ref:d})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:" Questions populaires (l'IA vous conseillera) :"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:p.map((y,j)=>n.jsx("button",{onClick:()=>v(y),className:"text-left text-xs bg-white border border-gray-200 hover:border-green-300 hover:bg-green-50 text-gray-700 px-3 py-2 rounded-lg transition-colors",children:y},j))})]}),n.jsx("form",{onSubmit:f,className:"p-6 border-t bg-white",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("input",{type:"text",value:a,onChange:y=>i(y.target.value),placeholder:"Posez votre question agricole (l'IA analysera et rpondra)...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",disabled:o}),n.jsxs("button",{type:"submit",disabled:!a.trim()||o,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-6 py-3 rounded-lg transition-colors flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),o?"IA...":"Envoyer"]})]})})]}),n.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-md border border-blue-100",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"IA Agricoles"}),n.jsx("p",{className:"text-gray-600",children:"Intelligence artificielle spcialise dans l'agriculture ouest-africaine"})]}),n.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-md border border-green-100",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsxs("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Adapt au Sngal"}),n.jsx("p",{className:"text-gray-600",children:"Conseils adapts au climat, sols et techniques locales"})]}),n.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-md border border-purple-100",children:[n.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"conomique"}),n.jsx("p",{className:"text-gray-600",children:"Solutions bon march adaptes aux budgets locaux"})]})]})]})}),n.jsx(Vr,{})]})},Pq=({onOpenRegister:e,onOpenLogin:t})=>{const r=[{id:1,nom:"Mamadou Diallo",specialite:"Produits marachers",localisation:"Dakar, Plateau",experience:"15 ans",photo:"/src/assets/vend1.jpg",description:"Spcialiste en lgumes frais et biologiques",telephone:"77 123 45 67",email:"mamadou.diallo@agriteranga.com"},{id:2,nom:"Aissatou Kane",specialite:"Fruits tropicaux",localisation:"This, Sngal",experience:"12 ans",photo:"/src/assets/vend2.png",description:"Productrice de mangues, bananes et fruits de saison",telephone:"77 234 56 78",email:"aissatou.kane@agriteranga.com"},{id:3,nom:"Ibrahima Fall",specialite:"Crales et grains",localisation:"Kaolack, Sngal",experience:"20 ans",photo:"/src/assets/vend3.jpg",description:"Expert en riz, mil, sorgho et mas de qualit",telephone:"77 345 67 89",email:"ibrahima.fall@agriteranga.com"},{id:4,nom:"Fatou Sow",specialite:"Fruits secs et noix",localisation:"Saint-Louis, Sngal",experience:"8 ans",photo:"/src/assets/vend4.jpg",description:"Riches en nergie et parfaits pour une alimentation saine",telephone:"77 456 78 90",email:"fatou.sow@agriteranga.com"},{id:5,nom:"Ousmane Ndiaye",specialite:"Herbes mdicinales",localisation:"Diourbel, Sngal",experience:"18 ans",photo:"/src/assets/vend5.png",description:"Pratiques et savoureux, pour une cuisine saine et pleine de got",telephone:"77 567 89 01",email:"ousmane.ndiaye@agriteranga.com"},{id:6,nom:" Aminata Traor",specialite:"pices et aromates",localisation:"Ziguinchor, Sngal",experience:"10 ans",photo:"/src/assets/vend6.jpg",description:"Spcialiste en pices locales et aromates biologiques",telephone:"77 678 90 12",email:"aminata.traore@agriteranga.com"}],s=a=>{const i=String(a||"").trim();if(i.startsWith("+"))return i;const o=i.replace(/\D/g,"");return o?o.length===9?`+221${o}`:o.startsWith("221")&&o.length===12?`+${o}`:`+${o}`:""};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(qr,{onRegisterClick:e,onLoginClick:t}),n.jsxs("section",{className:"relative py-28 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('/src/assets/vendeur.png')"},children:[n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:"Nos Vendeurs"}),n.jsx("p",{className:"text-lg md:text-xl max-w-4xl mx-auto leading-relaxed text-white",children:"Dcouvrez notre communaut de producteurs passionns qui apportent les meilleurs produits agricoles du Sngal jusqu' votre table."})]}),n.jsx("div",{className:"absolute inset-0 bg-black opacity-30"})]}),n.jsx("div",{className:"bg-white py-12 -mt-8 relative z-10",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-green-50 rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-green-800",children:"150+"}),n.jsx("div",{className:"text-green-600",children:"Vendeurs certifis"})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-green-800",children:"500+"}),n.jsx("div",{className:"text-green-600",children:"Produits disponibles"})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-green-800",children:"14"}),n.jsx("div",{className:"text-green-600",children:"Rgions couvertes"})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-green-800",children:"98%"}),n.jsx("div",{className:"text-green-600",children:"Satisfaction client"})]})]})})}),n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Notre quipe de Vendeurs"}),n.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Chaque vendeur est soigneusement slectionn pour garantir la qualit et l'authenticit de ses produits."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(a=>n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[n.jsxs("div",{className:"h-64 bg-gray-200 relative overflow-hidden",children:[n.jsx("img",{src:a.photo,alt:a.nom,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute top-4 right-4 bg-green-600 text-white px-3 py-1 rounded-full text-sm font-semibold",children:a.experience})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:a.nom}),n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})}),n.jsx("span",{className:"text-green-600 font-semibold",children:a.specialite})]}),n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsxs("svg",{className:"w-5 h-5 text-gray-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.jsx("span",{className:"text-gray-600",children:a.localisation})]}),n.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:a.description}),n.jsxs("div",{className:"border-t pt-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),a.telephone]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),a.email]})]}),n.jsx("a",{href:`tel:${s(a.telephone)}`,className:"w-full mt-4 inline-flex items-center justify-center bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200","aria-label":`Appeler ${a.nom}`,children:"Contacter le vendeur"})]})]},a.id))})]}),n.jsx("div",{className:"bg-green-600 rounded-lg text-white py-16 m-16",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[n.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Vous tes producteur et souhaitez nous rejoindre ?"}),n.jsx("p",{className:"text-xl text-green-100 mb-8 max-w-2xl mx-auto",children:"Rejoignez notre communaut de vendeurs et accdez  une clientle fidle tout en dveloppant votre activit agricole."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx("button",{onClick:e,className:"bg-white text-green-800 hover:bg-green-50 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Devenir vendeur"}),n.jsx(xe,{to:"/contact",className:"border border-white text-white hover:bg-white hover:text-green-800 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"En savoir plus"})]})]})}),n.jsx(Vr,{})]})},kq="/assets/bagage-C8WDplVX.png",$C=({isOpen:e,onClose:t,onCancel:r,commandeDetails:s})=>{var u,d,m,f,p,g,b,x,v,y,j,w;if(!e)return null;const a=Array.isArray(s==null?void 0:s.articles)?s.articles:[],i={sousTotal:Number(((u=s==null?void 0:s.recapitulatif)==null?void 0:u.sousTotal)||0),fraisLivraison:Number(((d=s==null?void 0:s.recapitulatif)==null?void 0:d.fraisLivraison)||0),total:Number(((m=s==null?void 0:s.recapitulatif)==null?void 0:m.total)||(((f=s==null?void 0:s.recapitulatif)==null?void 0:f.sousTotal)||0)+(((p=s==null?void 0:s.recapitulatif)==null?void 0:p.fraisLivraison)||0))},o={numeroCommande:(s==null?void 0:s.numeroCommande)||"#AT-XXXXXX",dateCommande:(s==null?void 0:s.dateCommande)||"",dateLivraison:(s==null?void 0:s.dateLivraison)||"",statut:(s==null?void 0:s.statut)||"En attente"},l={nom:((g=s==null?void 0:s.client)==null?void 0:g.nom)||"Client",email:((b=s==null?void 0:s.client)==null?void 0:b.email)||"",telephone:((x=s==null?void 0:s.client)==null?void 0:x.telephone)||"",adresse:((v=s==null?void 0:s.client)==null?void 0:v.adresse)||"Adresse non renseigne"},c={nom:((y=s==null?void 0:s.livreur)==null?void 0:y.nom)||"Non assign",telephone:((j=s==null?void 0:s.livreur)==null?void 0:j.telephone)||"",photo:((w=s==null?void 0:s.livreur)==null?void 0:w.photo)||"/src/assets/livreur.jpg"};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Dtails de la commande ",o.numeroCommande]}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(or,{size:24,className:"text-gray-500"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Statut de la commande"}),n.jsx("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:o.statut})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Date de commande:"}),n.jsx("p",{className:"font-medium",children:o.dateCommande})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Livraison estime:"}),n.jsx("p",{className:"font-medium",children:o.dateLivraison})]})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx(Et,{className:"mr-2",size:20}),"Informations client"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Et,{className:"mr-2 text-gray-500",size:16}),n.jsx("span",{className:"font-medium",children:l.nom})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(di,{className:"mr-2 text-gray-500",size:16}),n.jsx("span",{children:l.email})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ya,{className:"mr-2 text-gray-500",size:16}),n.jsx("span",{children:l.telephone})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(Ko,{className:"mr-2 mt-1 text-gray-500",size:16}),n.jsx("span",{children:l.adresse})]})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-3 flex items-center",children:[n.jsx(rn,{className:"mr-2",size:20}),"Livreur assign"]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("img",{src:Qt(c.photo)||kq,alt:c.nom,className:"w-12 h-12 rounded-full object-cover"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-blue-900",children:c.nom}),c.telephone?n.jsxs("a",{href:`tel:${c.telephone}`,className:"flex items-center text-sm text-blue-700 hover:underline",children:[n.jsx(ya,{className:"mr-1",size:14}),c.telephone]}):n.jsx("span",{className:"text-sm text-gray-600",children:"Numro non disponible"})]})]})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(qe,{className:"mr-2",size:20}),"Articles commands"]}),n.jsx("div",{className:"space-y-3",children:a.map((N,S)=>{const P=N.nom||N.name||N.title||`Article ${S+1}`,C=N.quantite??N.quantity??1,E=Number(N.prix??N.price??0),O=At(N);return n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[O?n.jsx("img",{src:O,alt:P,className:"w-12 h-12 rounded-lg object-cover"}):n.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 flex items-center justify-center text-gray-500",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:P}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Quantit: ",C]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-900",children:[(E*C).toLocaleString("fr-FR")," FCFA"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[E.toLocaleString("fr-FR")," FCFA/u"]})]})]},N.id)})}),n.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Sous-total:"}),n.jsxs("span",{children:[Number(i.sousTotal||0).toLocaleString("fr-FR")," FCFA"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Frais de livraison:"}),n.jsxs("span",{children:[Number(i.fraisLivraison||0).toLocaleString("fr-FR")," FCFA"]})]}),n.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold text-lg",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:[Number(i.total||0).toLocaleString("fr-FR")," FCFA"]})]})]})})]})})]}),n.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[r&&n.jsx("button",{onClick:r,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"J'annule ma commande"}),c!=null&&c.telephone?n.jsx("a",{href:`tel:${c.telephone}`,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors inline-flex items-center",children:"Contacter le livreur"}):n.jsx("button",{className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg cursor-not-allowed",title:"Aucun numro de livreur disponible",disabled:!0,children:"Contacter le livreur"})]})]})]})})};function Aq({isOpen:e,onClose:t,onConfirm:r}){if(!e)return null;const s=()=>{r&&r(),t&&t()};return n.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),n.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:n.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[n.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:n.jsxs("div",{className:"sm:flex sm:items-start",children:[n.jsx("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:n.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})})}),n.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[n.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:"Confirmer l'annulation"}),n.jsx("div",{className:"mt-2",children:n.jsx("p",{className:"text-sm text-gray-500",children:"Es-tu sr de vouloir annuler cette commande ? Cette action est irrversible."})})]})]})}),n.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[n.jsx("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:s,children:"Oui, annuler la commande"}),n.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:t,children:"Non, revenir"})]})]})})]})}const Eq=({onOpenRegister:e,onOpenLogin:t})=>{var M;const r=mt(),{user:s}=Cn(),[a,i]=h.useState(!1),[o,l]=h.useState(!1),[c,u]=h.useState(!1),[d,m]=h.useState([]),[f,p]=h.useState(null),[g,b]=h.useState(null),x=async k=>{var A,B,F,D,$,z,K,U,q,te,W,ie;try{let le=k;if(k!=null&&k.id){const se=await ne.getOrderDetails(k.id),V=((A=se==null?void 0:se.data)==null?void 0:A.order)||(se==null?void 0:se.data)||se||null;if(V){le=N(V,0);try{console.log("ORDER_PAYLOAD",V)}catch{}const _=((B=V.delivery)==null?void 0:B._id)||((F=V.delivery)==null?void 0:F.id)||((D=V.currentDelivery)==null?void 0:D._id)||(($=V.currentDelivery)==null?void 0:$.id)||((z=V.assignment)==null?void 0:z._id)||((K=V.assignment)==null?void 0:K.id)||V.deliveryId||V.currentDeliveryId||V.assignedDeliveryId;try{console.log("DELIVERY_ID",_)}catch{}if(!(((U=le==null?void 0:le.livreur)==null?void 0:U.nom)&&le.livreur.nom!=="Non assign")&&_)try{const J=await ne.getDeliveryDetails(_),G=((q=J==null?void 0:J.data)==null?void 0:q.delivery)||(J==null?void 0:J.data)||J||null,ce=(G==null?void 0:G.delivery)||G||{};try{console.log("DELIVERY_DETAILS",ce)}catch{}const L=ce.deliverer||ce.assignedDeliverer||ce.driver||ce.livreur||ce.courier||ce.assignedTo||{};try{console.log("DRV_RAW",L)}catch{}const X=L.name||[L.firstName,L.lastName].filter(Boolean).join(" "),T=L.phone||L.telephone||L.mobile||ce.contactPhone||((te=le==null?void 0:le.livreur)==null?void 0:te.telephone)||"",Z=L.avatarUrl||L.photoUrl||L.photo||L.avatar||((W=le==null?void 0:le.livreur)==null?void 0:W.photo)||"/src/assets/livreur.jpg";if(X||T||Z){le={...le,livreur:{nom:X||((ie=le==null?void 0:le.livreur)==null?void 0:ie.nom)||"Non assign",telephone:T,photo:Z}};try{console.log("ENRICHED_LIVREUR_AFTER_DELIVERY",le.livreur)}catch{}}}catch{}}}try{console.log("FINAL_ENRICHED_ORDER",le)}catch{}p(le)}catch{p(k)}i(!0)},v=()=>i(!1),y=()=>u(!0),j=()=>u(!1),w=async()=>{try{f!=null&&f.id&&(await ne.cancelOrder(f.id,"Annulation par le client"),p(k=>k&&{...k,statut:"Annul"}),m(k=>Array.isArray(k)?k.map(A=>A.id===f.id?{...A,statut:"Annul"}:A):k)),await S()}catch(k){const A=(k==null?void 0:k.message)||"Impossible d'annuler la commande";try{re.error(A)}catch{}return}u(!1)},N=(k,A=0)=>{var ce,L,X,T,Z,ue,oe,we,Ne,Le;const B=k.items||k.products||[],F=B.map((ge,Pe)=>{var Ze,vt;const rt=ge.product||ge.item||ge.productRef||ge,Je=At(rt);return{id:ge.id||ge._id||Pe,nom:ge.name||ge.productName||((Ze=ge.product)==null?void 0:Ze.name)||`Article ${Pe+1}`,quantite:ge.quantity||ge.qty||1,prix:Number(ge.unitPrice||ge.price||((vt=ge.product)==null?void 0:vt.price)||0),image:Je||""}}),D=Number(((ce=k.totals)==null?void 0:ce.productsTotal)??k.subtotal),$=Number.isFinite(D)&&D>0?D:B.reduce((ge,Pe)=>{var Ze;const rt=Number(Pe.quantity||Pe.qty||1)||1,Je=Number(Pe.unitPrice||Pe.price||((Ze=Pe.product)==null?void 0:Ze.price)||0)||0;return ge+rt*Je},0),z=Number(((L=k.totals)==null?void 0:L.deliveryFee)??k.deliveryFee);let K=0;if(Number.isFinite(z)&&z>=0)K=z;else{const ge=((X=k.deliveryInfo)==null?void 0:X.method)||((T=k.delivery)==null?void 0:T.method);if(ge==="pickup-point"||ge==="farm-pickup")K=0;else{const Pe=((ue=(Z=k.deliveryInfo)==null?void 0:Z.address)==null?void 0:ue.city)||((we=(oe=k.delivery)==null?void 0:oe.address)==null?void 0:we.city)||"";Pe==="Dakar"?K=500:Pe==="This"?K=1e3:Pe?K=1500:K=0}}const U=Number(((Ne=k.totals)==null?void 0:Ne.totalToPay)??k.total),q=Number.isFinite(U)&&U>0?U:$+K,te=k.deliverer||{},W=k.delivery||k.currentDelivery||k.assignment||{},ie=Object.keys(te).length?te:W.deliverer||W.assignedDeliverer||W.driver||W.livreur||W.courier||k.assignedDeliverer||k.driver||k.livreur||k.courier||{},le=ie.name||[ie.firstName,ie.lastName].filter(Boolean).join(" "),se=ie.phone||ie.telephone||ie.mobile||W.contactPhone||k.contactPhone||"",V=ie.avatarUrl||ie.photoUrl||ie.photo||ie.avatar||te.avatarUrl||te.photoUrl||"",_={nom:le||"Non assign",telephone:se||"",photo:V||"/src/assets/livreur.jpg"},H=(k.status||k.state||"").toString().toLowerCase();let J="En attente";H==="processing"||H==="assigned"||H==="en prparation"?J="En prparation":H==="in-transit"||H==="shipped"||H==="en route"?J="En route":(H==="delivered"||H==="livr")&&(J="Livr");const G={id:k.id||k._id||A,orderNumber:k.orderNumber||k.number||`ORD${A}`,orderDate:k.createdAt||k.orderDate,estimatedDeliveryDate:k.estimatedDeliveryDate||((Le=k.delivery)==null?void 0:Le.estimatedDeliveryDate),statut:J,livreur:_,articles:F,recapitulatif:{sousTotal:$,fraisLivraison:K,total:q}};try{console.log("NORMALIZED_ORDER",G)}catch{}return G},S=async()=>{try{const A=await ne.getConsumerOrders(1,50)||{};let B=[];Array.isArray(A.data)?B=A.data:A.data&&Array.isArray(A.data.orders)?B=A.data.orders:Array.isArray(A.orders)?B=A.orders:Array.isArray(A)&&(B=A);const F=B.map((D,$)=>N(D,$));m(F),l(F.length>0)}catch(k){const A=k&&k.message?k.message:"Impossible de charger vos commandes";re.error(A),m([]),l(!1)}};h.useEffect(()=>{S()},[s]),h.useEffect(()=>{const k=()=>{document.hidden||S()};return document.addEventListener("visibilitychange",k),()=>document.removeEventListener("visibilitychange",k)},[s]);const P=k=>k?new Date(k).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric"}):"",C=k=>k?new Date(k).toLocaleString("fr-FR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",E=(k,A)=>{const B=(A||"").toString().toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""),F=k?new Date(k):new Date;if(B.includes("attente")||B.includes("pending"))return"La date de livraison sera disponible une fois la commande valide.";if(B.includes("preparation")){const D=new Date(F);return D.setDate(D.getDate()+2),P(D.toISOString())}if(B.includes("route")){const D=new Date(F);return D.setHours(D.getHours()+4),C(D.toISOString())}return B.includes("livr")?P(new Date().toISOString()):B.includes("annul")?"Non disponible":""},O="En route",I={nom:[s==null?void 0:s.firstName,s==null?void 0:s.lastName].filter(Boolean).join(" ")||"Client AgriTeranga",email:(s==null?void 0:s.email)||"inconnu@exemple.com",telephone:(s==null?void 0:s.phone)||"+221",adresse:((M=s==null?void 0:s.consumerInfo)==null?void 0:M.deliveryAddress)||(s==null?void 0:s.address)||(s==null?void 0:s.adresse)||"Adresse non renseigne"};return n.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[n.jsx(qr,{onRegisterClick:e,onLoginClick:t}),n.jsx("section",{className:"relative h-96 flex items-center justify-center bg-cover bg-center bg-no-repeat",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('/src/assets/livraison.jpg')"},children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-white",children:"Suivi de votre livraison"}),n.jsx("p",{className:"text-xl md:text-2xl mb-8 text-white",children:"Restez inform en temps rel sur l'avance de votre commande"})]})}),n.jsx("main",{className:"container mx-auto px-4 py-12 flex flex-col space-y-8",children:o?n.jsx(n.Fragment,{children:d.map(k=>n.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm w-full cursor-pointer",onClick:()=>b(g===k.id?null:k.id),children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("div",{children:n.jsxs("h3",{className:"text-lg font-bold text-[#333333] mb-1",children:["Commande ",k.orderNumber||"#AT-XXXXXX"]})}),n.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden",children:n.jsx("img",{src:"/src/assets/livreur.jpg",alt:"Produits de la commande",className:"w-full h-full object-cover"})})]}),n.jsx("button",{onClick:A=>{A.stopPropagation(),x(k)},className:"bg-[#387C3F] text-white px-4 py-2 rounded-lg font-medium hover:bg-[#2F6118] transition-colors",children:"Voir les dtails"}),g===k.id&&n.jsxs("div",{className:"mt-6 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6 text-center",children:"Progression de la livraison"}),n.jsxs("div",{className:"flex justify-between items-center relative",children:[(()=>{const A=(k.statut||"").toLowerCase(),$=A==="livr"?100:A==="en route"||A==="livr"?66:A==="en prparation"||A==="en route"||A==="livr"?33:0;return n.jsx(n.Fragment,{children:n.jsx("div",{className:"absolute top-4 left-4 right-4 h-1 bg-gray-200 rounded z-0 overflow-hidden",children:n.jsx("div",{className:"h-1 bg-green-600 transition-all duration-500 ease-out",style:{width:`${$}%`}})})})})(),n.jsx("div",{className:"flex justify-between w-full relative z-10",children:(()=>{const A=(k.statut||"").toLowerCase(),B=A==="en prparation"||A==="en route"||A==="livr",F=A==="en route"||A==="livr",D=A==="livr";return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 transition-colors duration-300 ${B?"bg-green-600":"bg-gray-300"}`,children:n.jsx(Tp,{size:20,className:B?"text-white":"text-gray-600"})}),n.jsx("span",{className:"text-gray-800 font-medium text-center text-sm",children:"En prparation"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 transition-colors duration-300 ${F?"bg-green-600":"bg-gray-300"}`,children:n.jsx(rn,{size:20,className:F?"text-white":"text-gray-600"})}),n.jsx("span",{className:"text-gray-800 font-medium text-center text-sm",children:"En route"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 transition-colors duration-300 ${D?"bg-green-600":"bg-gray-300"}`,children:D?n.jsx(Tp,{size:20,className:"text-white"}):n.jsx("div",{className:"w-3 h-3 border-2 border-white rounded-full"})}),n.jsx("span",{className:"text-gray-800 font-medium text-center text-sm",children:"Livr"})]})]})})()}),(()=>{const A=(k.statut||"").toLowerCase(),B=A==="livr"?100:A==="en route"?66:A==="en prparation"?33:0;return n.jsxs("div",{className:"absolute -bottom-6 right-4 text-xs text-gray-600",children:[B,"%"]})})()]})]}),(()=>{const A=(k.statut||"").toLowerCase();let B="Votre livreur est  proximit !",F="Il devrait arriver dans environ 5 minutes.";return A.includes("attente")||A.includes("pending")?(B="Commande en attente ",F="Votre commande a t enregistre et sera traite trs prochainement."):A.includes("prparation")?(B="Votre commande est en cours de prparation ",F="Nos producteurs prparent soigneusement vos produits agricoles."):A.includes("en route")||A.includes("route")?(B="Votre livraison est en route ",F="Le livreur transporte actuellement vos produits vers votre adresse."):A.includes("livr")||A.includes("livree")||A.includes("livre")?(B="Livraison effectue ",F="Vos produits agricoles ont bien t livrs. Merci pour votre confiance !"):A.includes("annul")&&(B="Commande annule ",F="Votre commande a t annule. Contactez le service client pour plus dinformations."),n.jsxs("div",{className:"bg-green-100 rounded-xl p-4 flex items-start w-full",children:[n.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center mr-3 mt-0.5",children:n.jsx("span",{className:"text-white text-xs font-bold",children:"i"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-green-700 font-bold mb-1",children:B}),n.jsx("p",{className:"text-gray-800 text-sm",children:F})]})]})})()]})]},k.id))}):n.jsxs("div",{className:"bg-white rounded-lg p-10 shadow-sm w-full text-center",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Pas de commande  livrer pour le moment"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Passe une commande pour voir ici le suivi de ta livraison."}),n.jsxs("div",{className:"flex items-center justify-center gap-3",children:[n.jsx("button",{onClick:()=>r("/products"),className:"bg-[#387C3F] text-white px-5 py-2 rounded-lg hover:bg-[#2F6118] transition-colors",children:"Voir les produits"}),n.jsx("button",{onClick:()=>r("/panier"),className:"px-5 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",children:"Aller au panier"})]})]})}),n.jsx(Vr,{}),n.jsx($C,{isOpen:a,onClose:v,onCancel:f?y:void 0,commandeDetails:f?{articles:f.articles||[],recapitulatif:f.recapitulatif||{sousTotal:0,fraisLivraison:0,total:0},numeroCommande:f.orderNumber||"#AT-XXXXXX",dateCommande:P(f.orderDate)||"",dateLivraison:E(f.orderDate,f.statut),statut:f.statut||O,client:I,livreur:f.livreur||null}:{articles:[]}}),n.jsx(Aq,{isOpen:c,onClose:j,onConfirm:w})]})},Tq="/assets/commande-DlaFRxTo.jpg",jc=e=>e?new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric"}):"";function Oq({onOpenRegister:e,onOpenLogin:t}){const[r,s]=h.useState([]),[a,i]=h.useState(null),[o,l]=h.useState(!1),{user:c}=Cn();h.useEffect(()=>{(async()=>{try{const p=await ne.getConsumerOrders(1,50)||{};let g=[];Array.isArray(p.data)?g=p.data:p.data&&Array.isArray(p.data.orders)?g=p.data.orders:Array.isArray(p.orders)?g=p.orders:Array.isArray(p)&&(g=p);const b=g.map((x,v)=>{var O,I,M,k,A,B,F,D,$,z;const y=x.items||x.products||[],j=y.map((K,U)=>{var q,te,W;return{id:K.id||K._id||U,nom:K.name||K.productName||((q=K.product)==null?void 0:q.name)||`Article ${U+1}`,quantite:K.quantity||K.qty||1,prix:Number(K.unitPrice||K.price||((te=K.product)==null?void 0:te.price)||0),image:K.image||((W=K.product)==null?void 0:W.imageUrl)||""}}),w=Number(((O=x.totals)==null?void 0:O.productsTotal)??x.subtotal),N=Number.isFinite(w)&&w>0?w:y.reduce((K,U)=>{var W;const q=Number(U.quantity||U.qty||1)||1,te=Number(U.unitPrice||U.price||((W=U.product)==null?void 0:W.price)||0)||0;return K+q*te},0),S=Number(((I=x.totals)==null?void 0:I.deliveryFee)??x.deliveryFee);let P=0;if(Number.isFinite(S)&&S>=0)P=S;else{const K=((M=x.deliveryInfo)==null?void 0:M.method)||((k=x.delivery)==null?void 0:k.method);if(K==="pickup-point"||K==="farm-pickup")P=0;else{const U=((B=(A=x.deliveryInfo)==null?void 0:A.address)==null?void 0:B.city)||((D=(F=x.delivery)==null?void 0:F.address)==null?void 0:D.city)||"";U==="Dakar"?P=500:U==="This"?P=1e3:U?P=1500:P=0}}const C=Number((($=x.totals)==null?void 0:$.totalToPay)??x.total),E=Number.isFinite(C)&&C>0?C:N+P;return{id:x.id||x._id||v,orderNumber:x.orderNumber||x.number||`ORD${v}`,orderDate:x.createdAt||x.orderDate,estimatedDeliveryDate:x.estimatedDeliveryDate||((z=x.delivery)==null?void 0:z.estimatedDeliveryDate),statut:x.status||x.state||"En route",articles:j,recapitulatif:{sousTotal:N,fraisLivraison:P,total:E}}});s(b)}catch{try{const p=JSON.parse(sessionStorage.getItem("ordersList")||"[]");s(Array.isArray(p)?p:[])}catch{s([])}}})()},[c]);const u=m=>{i(m),l(!0)},d=()=>l(!1);return n.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[n.jsx(qr,{onRegisterClick:e,onLoginClick:t}),n.jsxs("section",{className:"relative h-72 md:h-96 flex items-center justify-center overflow-hidden",style:{backgroundImage:`linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)), url(${Tq})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[n.jsx("div",{className:"absolute -left-10 top-10 w-24 h-24 rounded-full bg-white/10 blur-sm animate-pulse"}),n.jsx("div",{className:"absolute -right-8 bottom-8 w-20 h-20 rounded-full bg-green-400/20 blur-sm animate-pulse"}),n.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -bottom-10 w-40 h-40 rounded-full bg-green-600/10 blur-md animate-pulse"}),n.jsxs("div",{className:"relative text-center px-4",children:[n.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold text-white drop-shadow-lg",children:"Suivi et historique des commandes"}),n.jsx("p",{className:"mt-3 md:mt-4 text-white/90 text-sm md:text-base max-w-2xl mx-auto animate-pulse",children:"Retrouve rapidement tes dernires commandes et leur progression en temps rel."})]})]}),n.jsxs("main",{className:"container mx-auto px-4 py-10 flex-1",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Mes commandes"}),r.length===0?n.jsxs("div",{className:"bg-white rounded-lg p-10 shadow-sm w-full text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Aucune commande pour le moment"}),n.jsx("p",{className:"text-gray-600",children:"Passe une commande pour la retrouver ici."})]}):n.jsx("div",{className:"space-y-4",children:r.map(m=>n.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Commande"}),n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:m.orderNumber||"#AT-XXXXXX"}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Commande le ",jc(m.orderDate)]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Livraison estime"}),n.jsx("div",{className:"font-medium",children:jc(m.estimatedDeliveryDate)||""}),n.jsx("button",{onClick:()=>u(m),className:"mt-3 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Voir les dtails"})]})]},m.id))})]}),n.jsx(Vr,{}),n.jsx($C,{isOpen:o,onClose:d,commandeDetails:a?{numeroCommande:a.orderNumber,dateCommande:jc(a.orderDate),dateLivraison:jc(a.estimatedDeliveryDate),statut:a.statut||"En route",articles:a.articles||[],recapitulatif:a.recapitulatif||{sousTotal:0,fraisLivraison:0,total:0}}:{articles:[]}})]})}const Mq=()=>{const{token:e}=hN(),t=Mt(),r=mt(),s=yl(),[a,i]=h.useState(""),[o,l]=h.useState(""),[c,u]=h.useState(!1),d=()=>!a||a.length<8?(s.showError("Le mot de passe doit contenir au moins 8 caractres"),!1):a!==o?(s.showError("La confirmation ne correspond pas"),!1):!0,m=h.useMemo(()=>e||new URLSearchParams(t.search).get("token")||"",[e,t.search]),f=async p=>{if(p.preventDefault(),!m){s.showError("Lien invalide ou manquant. Rouvrez le lien reu par email.");return}if(!d())return;u(!0);const g=s.showLoading("Rinitialisation en cours...");try{const b=await ne.resetPassword(m,a);s.removeToast(g),(b==null?void 0:b.status)==="success"?(s.showSuccess("Mot de passe rinitialis avec succs. Vous pouvez vous connecter."),r("/login")):s.showInfo((b==null?void 0:b.message)||"Impossible de rinitialiser le mot de passe")}catch(b){s.removeToast(g),s.showError((b==null?void 0:b.message)||"Erreur lors de la rinitialisation")}finally{u(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsxs("div",{className:"bg-white w-full max-w-md rounded-xl shadow p-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Rinitialiser le mot de passe"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Saisissez votre nouveau mot de passe ci-dessous."}),!m&&n.jsx("div",{className:"mb-4 p-3 rounded border border-yellow-300 bg-yellow-50 text-yellow-800 text-sm",children:`Lien de rinitialisation invalide ou expir. Ouvrez le lien depuis l'email reu, ou redemandez un nouveau lien via "Mot de passe oubli ?".`}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),n.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2D5F3F]",value:a,onChange:p=>i(p.target.value),placeholder:"",minLength:8,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe"}),n.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2D5F3F]",value:o,onChange:p=>l(p.target.value),placeholder:"",minLength:8,required:!0})]}),n.jsx("button",{type:"submit",disabled:c||!m,className:"w-full bg-[#2D5F3F] text-white font-medium py-3 px-4 rounded-lg hover:bg-[#234a32] transition-colors disabled:opacity-50",children:c?"Rinitialisation...":"Rinitialiser le mot de passe"})]})]})})},G1=()=>{const[e,t]=h.useState(""),[r,s]=h.useState(""),[a,i]=h.useState(!1),o=yl(),l=mt(),c=d=>{const m=String(d||"").trim();if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m))return m.toLowerCase();const p=m.replace(/[^0-9+]/g,"");if(p.startsWith("+")&&p.length>=8)return p;let g=p.replace(/\D/g,"");return g.startsWith("0")&&(g=g.slice(1)),g.length===9?`+221${g}`:p||m},u=async d=>{var f,p,g,b;if(d.preventDefault(),!e||!r){o.showError("Veuillez saisir vos identifiants");return}i(!0);const m=o.showLoading("Connexion administrateur...");try{const x=await pn.login({identifier:c(e),password:r});if(o.removeToast(m),(x==null?void 0:x.status)==="success"){if(((p=(f=x==null?void 0:x.data)==null?void 0:f.user)==null?void 0:p.role)!=="admin"&&((b=(g=x==null?void 0:x.data)==null?void 0:g.user)==null?void 0:b.isSuperAdmin)!==!0){o.showError("Cet espace est rserv aux administrateurs.");return}o.showSuccess("Connexion admin russie");try{localStorage.setItem("adminDashboardUser",JSON.stringify(x.data.user))}catch{}l("/admin/dashboard")}else o.showInfo((x==null?void 0:x.message)||"chec de la connexion")}catch(x){o.removeToast(m),o.showError((x==null?void 0:x.message)||"Erreur de connexion")}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen bg-[#F8FAF8] flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm w-full max-w-md p-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Connexion Administrateur"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Accdez au tableau de bord d'administration."}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email ou Tlphone"}),n.jsx("input",{type:"text",value:e,onChange:d=>t(d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600",placeholder:"admin@agriteranga.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),n.jsx("input",{type:"password",value:r,onChange:d=>s(d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600",placeholder:""})]}),n.jsx("button",{type:"submit",disabled:a,className:"w-full bg-green-600 text-white font-medium py-3 rounded-lg hover:bg-green-700 disabled:opacity-50",children:a?"Connexion...":"Se connecter"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx(xe,{to:"/",className:"text-sm text-green-700 hover:text-green-900 underline",children:" Retour  la page principale"})})]})})};function Lq(){const[e,t]=h.useState(!1),[r,s]=h.useState(!1),{login:a}=Cn(),i=()=>{s(!1),t(!0)},o=()=>{t(!1),s(!0)},l=()=>t(!1),c=()=>s(!1),u=d=>{a(d)};return n.jsx(mk,{children:n.jsxs("div",{className:"App",children:[n.jsxs(ak,{children:[n.jsx(ye,{path:"/",element:n.jsx(i8,{onOpenRegister:i,onOpenLogin:o})}),n.jsx(ye,{path:"/products",element:n.jsx(l8,{onOpenRegister:i,onOpenLogin:o})}),n.jsx(ye,{path:"/produit/:id",element:n.jsx(c8,{onOpenRegister:i,onOpenLogin:o})}),n.jsx(ye,{path:"/panier",element:n.jsx(v8,{onOpenRegister:i,onOpenLogin:o})}),n.jsx(ye,{path:"/connexion",element:n.jsx(dy,{onOpenRegister:i,onOpenLogin:o})}),n.jsx(ye,{path:"/contact",element:n.jsx(b8,{onOpenRegister:i,onOpenLogin:o})}),n.jsx(ye,{path:"/reset-password/:token",element:n.jsx(Mq,{})}),n.jsx(ye,{path:"/admin/login",element:n.jsx(G1,{})}),n.jsx(ye,{path:"/about",element:n.jsx(o8,{onOpenRegister:i,onOpenLogin:o})}),n.jsx(ye,{path:"/login",element:n.jsx(dy,{onOpenRegister:i,onOpenLogin:o})}),n.jsx(ye,{path:"/dashboard",element:n.jsx(_e,{dashboard:"any",children:n.jsx(j8,{onOpenRegister:i,onOpenLogin:o})})}),n.jsx(ye,{path:"/services",element:n.jsx(w8,{onOpenRegister:i,onOpenLogin:o})}),n.jsx(ye,{path:"/experts",element:n.jsx(Cq,{onOpenRegister:i,onOpenLogin:o})}),n.jsx(ye,{path:"/sellers",element:n.jsx(Pq,{onOpenRegister:i,onOpenLogin:o})}),n.jsx(ye,{path:"/test-errors",element:n.jsx(Nq,{})}),n.jsx(ye,{path:"/livraison",element:n.jsx(Eq,{onOpenRegister:i,onOpenLogin:o})}),n.jsx(ye,{path:"/commandes",element:n.jsx(Oq,{onOpenRegister:i,onOpenLogin:o})}),n.jsx(ye,{path:"/admin/dashboard",element:n.jsx(_e,{dashboard:"admin",children:n.jsx(fy,{})})}),n.jsx(ye,{path:"/admin/users",element:n.jsx(_e,{dashboard:"admin",children:n.jsx(py,{})})}),n.jsx(ye,{path:"/admin/products",element:n.jsx(_e,{dashboard:"admin",children:n.jsx(hy,{})})}),n.jsx(ye,{path:"/admin/sales",element:n.jsx(_e,{dashboard:"admin",children:n.jsx(gy,{})})}),n.jsx(ye,{path:"/admin/formations",element:n.jsx(_e,{dashboard:"admin",children:n.jsx(xy,{})})}),n.jsx(ye,{path:"/producer/dashboard",element:n.jsx(_e,{dashboard:"producer",children:n.jsx(D8,{})})}),n.jsx(ye,{path:"/producer/products",element:n.jsx(_e,{dashboard:"producer",children:n.jsx(_8,{})})}),n.jsx(ye,{path:"/producer/statistics",element:n.jsx(_e,{dashboard:"producer",children:n.jsx(R8,{})})}),n.jsx(ye,{path:"/producer/sales",element:n.jsx(_e,{dashboard:"producer",children:n.jsx(F8,{})})}),n.jsx(ye,{path:"/producer/profile",element:n.jsx(_e,{dashboard:"producer",children:n.jsx($8,{})})}),n.jsx(ye,{path:"/producer/settings",element:n.jsx(_e,{dashboard:"producer",children:n.jsx(z8,{})})}),n.jsx(ye,{path:"/producer/formations",element:n.jsx(_e,{dashboard:"producer",children:n.jsx(U8,{})})}),n.jsx(ye,{path:"/delivery/dashboard",element:n.jsx(_e,{dashboard:"delivery",children:n.jsx(uq,{})})}),n.jsx(ye,{path:"/delivery/deliveries",element:n.jsx(_e,{dashboard:"delivery",children:n.jsx(dq,{})})}),n.jsx(ye,{path:"/delivery/history",element:n.jsx(_e,{dashboard:"delivery",children:n.jsx(mq,{})})}),n.jsx(ye,{path:"/delivery/statistics",element:n.jsx(_e,{dashboard:"delivery",children:n.jsx(fq,{})})}),n.jsx(ye,{path:"/super-admin/dashboard",element:n.jsx(_e,{dashboard:"super-admin",children:n.jsx(pq,{})})}),n.jsx(ye,{path:"/super-admin/orders",element:n.jsx(_e,{dashboard:"super-admin",children:n.jsx(hq,{})})}),n.jsx(ye,{path:"/super-admin/products",element:n.jsx(_e,{dashboard:"super-admin",children:n.jsx(xq,{})})}),n.jsx(ye,{path:"/super-admin/admin-dashboard",element:n.jsx(_e,{dashboard:"super-admin",children:n.jsx(fy,{})})}),n.jsx(ye,{path:"/super-admin/admin-users",element:n.jsx(_e,{dashboard:"super-admin",children:n.jsx(py,{})})}),n.jsx(ye,{path:"/super-admin/admin-products",element:n.jsx(_e,{dashboard:"super-admin",children:n.jsx(hy,{})})}),n.jsx(ye,{path:"/super-admin/admin-sales",element:n.jsx(_e,{dashboard:"super-admin",children:n.jsx(gy,{})})}),n.jsx(ye,{path:"/super-admin/admin-formations",element:n.jsx(_e,{dashboard:"super-admin",children:n.jsx(xy,{})})}),n.jsx(ye,{path:"/super-admin/admin-login",element:n.jsx(_e,{dashboard:"super-admin",children:n.jsx(G1,{})})})]}),n.jsx(bq,{isOpen:e,onClose:l,onSwitchToLogin:o,onSuccess:u}),n.jsx(wq,{isOpen:r,onClose:c,onSwitchToRegister:i,onSuccess:u})]})})}function Iq(){return n.jsx(rE,{children:n.jsx(WA,{children:n.jsxs(eE,{children:[n.jsx(Lq,{}),n.jsx(Ep,{position:"top-right",autoClose:5e3,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})})}Ef.createRoot(document.getElementById("root")).render(n.jsx(ve.StrictMode,{children:n.jsx(Iq,{})}));
